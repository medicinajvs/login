(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function yN(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Op={exports:{}},cu={};var sw;function _N(){if(sw)return cu;sw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,o){var l=null;if(o!==void 0&&(l=""+o),r.key!==void 0&&(l=""+r.key),"key"in r){o={};for(var u in r)u!=="key"&&(o[u]=r[u])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:o}}return cu.Fragment=e,cu.jsx=t,cu.jsxs=t,cu}var rw;function bN(){return rw||(rw=1,Op.exports=_N()),Op.exports}var b=bN(),Pp={exports:{}},Me={};var aw;function vN(){if(aw)return Me;aw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),v=Symbol.iterator;function E(z){return z===null||typeof z!="object"?null:(z=v&&z[v]||z["@@iterator"],typeof z=="function"?z:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function M(z,ne,ue){this.props=z,this.context=ne,this.refs=C,this.updater=ue||S}M.prototype.isReactComponent={},M.prototype.setState=function(z,ne){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ne,"setState")},M.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function L(){}L.prototype=M.prototype;function H(z,ne,ue){this.props=z,this.context=ne,this.refs=C,this.updater=ue||S}var Y=H.prototype=new L;Y.constructor=H,A(Y,M.prototype),Y.isPureReactComponent=!0;var $=Array.isArray;function te(){}var I={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function D(z,ne,ue){var de=ue.ref;return{$$typeof:n,type:z,key:ne,ref:de!==void 0?de:null,props:ue}}function j(z,ne){return D(z.type,ne,z.props)}function P(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function U(z){var ne={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ue){return ne[ue]})}var O=/\/+/g;function Ie(z,ne){return typeof z=="object"&&z!==null&&z.key!=null?U(""+z.key):ne.toString(36)}function be(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(te,te):(z.status="pending",z.then(function(ne){z.status==="pending"&&(z.status="fulfilled",z.value=ne)},function(ne){z.status==="pending"&&(z.status="rejected",z.reason=ne)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Q(z,ne,ue,de,xe){var Te=typeof z;(Te==="undefined"||Te==="boolean")&&(z=null);var ze=!1;if(z===null)ze=!0;else switch(Te){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(z.$$typeof){case n:case e:ze=!0;break;case p:return ze=z._init,Q(ze(z._payload),ne,ue,de,xe)}}if(ze)return xe=xe(z),ze=de===""?"."+Ie(z,0):de,$(xe)?(ue="",ze!=null&&(ue=ze.replace(O,"$&/")+"/"),Q(xe,ne,ue,"",function(ei){return ei})):xe!=null&&(P(xe)&&(xe=j(xe,ue+(xe.key==null||z&&z.key===xe.key?"":(""+xe.key).replace(O,"$&/")+"/")+ze)),ne.push(xe)),1;ze=0;var rt=de===""?".":de+":";if($(z))for(var ct=0;ct<z.length;ct++)de=z[ct],Te=rt+Ie(de,ct),ze+=Q(de,ne,ue,Te,xe);else if(ct=E(z),typeof ct=="function")for(z=ct.call(z),ct=0;!(de=z.next()).done;)de=de.value,Te=rt+Ie(de,ct++),ze+=Q(de,ne,ue,Te,xe);else if(Te==="object"){if(typeof z.then=="function")return Q(be(z),ne,ue,de,xe);throw ne=String(z),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return ze}function le(z,ne,ue){if(z==null)return z;var de=[],xe=0;return Q(z,de,"","",function(Te){return ne.call(ue,Te,xe++)}),de}function fe(z){if(z._status===-1){var ne=z._result;ne=ne(),ne.then(function(ue){(z._status===0||z._status===-1)&&(z._status=1,z._result=ue)},function(ue){(z._status===0||z._status===-1)&&(z._status=2,z._result=ue)}),z._status===-1&&(z._status=0,z._result=ne)}if(z._status===1)return z._result.default;throw z._result}var ye=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Se={map:le,forEach:function(z,ne,ue){le(z,function(){ne.apply(this,arguments)},ue)},count:function(z){var ne=0;return le(z,function(){ne++}),ne},toArray:function(z){return le(z,function(ne){return ne})||[]},only:function(z){if(!P(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Me.Activity=_,Me.Children=Se,Me.Component=M,Me.Fragment=t,Me.Profiler=r,Me.PureComponent=H,Me.StrictMode=i,Me.Suspense=d,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Me.__COMPILER_RUNTIME={__proto__:null,c:function(z){return I.H.useMemoCache(z)}},Me.cache=function(z){return function(){return z.apply(null,arguments)}},Me.cacheSignal=function(){return null},Me.cloneElement=function(z,ne,ue){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var de=A({},z.props),xe=z.key;if(ne!=null)for(Te in ne.key!==void 0&&(xe=""+ne.key),ne)!N.call(ne,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&ne.ref===void 0||(de[Te]=ne[Te]);var Te=arguments.length-2;if(Te===1)de.children=ue;else if(1<Te){for(var ze=Array(Te),rt=0;rt<Te;rt++)ze[rt]=arguments[rt+2];de.children=ze}return D(z.type,xe,de)},Me.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},Me.createElement=function(z,ne,ue){var de,xe={},Te=null;if(ne!=null)for(de in ne.key!==void 0&&(Te=""+ne.key),ne)N.call(ne,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(xe[de]=ne[de]);var ze=arguments.length-2;if(ze===1)xe.children=ue;else if(1<ze){for(var rt=Array(ze),ct=0;ct<ze;ct++)rt[ct]=arguments[ct+2];xe.children=rt}if(z&&z.defaultProps)for(de in ze=z.defaultProps,ze)xe[de]===void 0&&(xe[de]=ze[de]);return D(z,Te,xe)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(z){return{$$typeof:u,render:z}},Me.isValidElement=P,Me.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:fe}},Me.memo=function(z,ne){return{$$typeof:f,type:z,compare:ne===void 0?null:ne}},Me.startTransition=function(z){var ne=I.T,ue={};I.T=ue;try{var de=z(),xe=I.S;xe!==null&&xe(ue,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(te,ye)}catch(Te){ye(Te)}finally{ne!==null&&ue.types!==null&&(ne.types=ue.types),I.T=ne}},Me.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Me.use=function(z){return I.H.use(z)},Me.useActionState=function(z,ne,ue){return I.H.useActionState(z,ne,ue)},Me.useCallback=function(z,ne){return I.H.useCallback(z,ne)},Me.useContext=function(z){return I.H.useContext(z)},Me.useDebugValue=function(){},Me.useDeferredValue=function(z,ne){return I.H.useDeferredValue(z,ne)},Me.useEffect=function(z,ne){return I.H.useEffect(z,ne)},Me.useEffectEvent=function(z){return I.H.useEffectEvent(z)},Me.useId=function(){return I.H.useId()},Me.useImperativeHandle=function(z,ne,ue){return I.H.useImperativeHandle(z,ne,ue)},Me.useInsertionEffect=function(z,ne){return I.H.useInsertionEffect(z,ne)},Me.useLayoutEffect=function(z,ne){return I.H.useLayoutEffect(z,ne)},Me.useMemo=function(z,ne){return I.H.useMemo(z,ne)},Me.useOptimistic=function(z,ne){return I.H.useOptimistic(z,ne)},Me.useReducer=function(z,ne,ue){return I.H.useReducer(z,ne,ue)},Me.useRef=function(z){return I.H.useRef(z)},Me.useState=function(z){return I.H.useState(z)},Me.useSyncExternalStore=function(z,ne,ue){return I.H.useSyncExternalStore(z,ne,ue)},Me.useTransition=function(){return I.H.useTransition()},Me.version="19.2.3",Me}var ow;function o0(){return ow||(ow=1,Pp.exports=vN()),Pp.exports}var B=o0();const xN=yN(B);var Lp={exports:{}},uu={},jp={exports:{}},Vp={};var lw;function wN(){return lw||(lw=1,(function(n){function e(Q,le){var fe=Q.length;Q.push(le);e:for(;0<fe;){var ye=fe-1>>>1,Se=Q[ye];if(0<r(Se,le))Q[ye]=le,Q[fe]=Se,fe=ye;else break e}}function t(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var le=Q[0],fe=Q.pop();if(fe!==le){Q[0]=fe;e:for(var ye=0,Se=Q.length,z=Se>>>1;ye<z;){var ne=2*(ye+1)-1,ue=Q[ne],de=ne+1,xe=Q[de];if(0>r(ue,fe))de<Se&&0>r(xe,ue)?(Q[ye]=xe,Q[de]=fe,ye=de):(Q[ye]=ue,Q[ne]=fe,ye=ne);else if(de<Se&&0>r(xe,fe))Q[ye]=xe,Q[de]=fe,ye=de;else break e}}return le}function r(Q,le){var fe=Q.sortIndex-le.sortIndex;return fe!==0?fe:Q.id-le.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,_=null,v=3,E=!1,S=!1,A=!1,C=!1,M=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function Y(Q){for(var le=t(f);le!==null;){if(le.callback===null)i(f);else if(le.startTime<=Q)i(f),le.sortIndex=le.expirationTime,e(d,le);else break;le=t(f)}}function $(Q){if(A=!1,Y(Q),!S)if(t(d)!==null)S=!0,te||(te=!0,U());else{var le=t(f);le!==null&&be($,le.startTime-Q)}}var te=!1,I=-1,N=5,D=-1;function j(){return C?!0:!(n.unstable_now()-D<N)}function P(){if(C=!1,te){var Q=n.unstable_now();D=Q;var le=!0;try{e:{S=!1,A&&(A=!1,L(I),I=-1),E=!0;var fe=v;try{t:{for(Y(Q),_=t(d);_!==null&&!(_.expirationTime>Q&&j());){var ye=_.callback;if(typeof ye=="function"){_.callback=null,v=_.priorityLevel;var Se=ye(_.expirationTime<=Q);if(Q=n.unstable_now(),typeof Se=="function"){_.callback=Se,Y(Q),le=!0;break t}_===t(d)&&i(d),Y(Q)}else i(d);_=t(d)}if(_!==null)le=!0;else{var z=t(f);z!==null&&be($,z.startTime-Q),le=!1}}break e}finally{_=null,v=fe,E=!1}le=void 0}}finally{le?U():te=!1}}}var U;if(typeof H=="function")U=function(){H(P)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Ie=O.port2;O.port1.onmessage=P,U=function(){Ie.postMessage(null)}}else U=function(){M(P,0)};function be(Q,le){I=M(function(){Q(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(Q){switch(v){case 1:case 2:case 3:var le=3;break;default:le=v}var fe=v;v=le;try{return Q()}finally{v=fe}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(Q,le){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var fe=v;v=Q;try{return le()}finally{v=fe}},n.unstable_scheduleCallback=function(Q,le,fe){var ye=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?ye+fe:ye):fe=ye,Q){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=fe+Se,Q={id:p++,callback:le,priorityLevel:Q,startTime:fe,expirationTime:Se,sortIndex:-1},fe>ye?(Q.sortIndex=fe,e(f,Q),t(d)===null&&Q===t(f)&&(A?(L(I),I=-1):A=!0,be($,fe-ye))):(Q.sortIndex=Se,e(d,Q),S||E||(S=!0,te||(te=!0,U()))),Q},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(Q){var le=v;return function(){var fe=v;v=le;try{return Q.apply(this,arguments)}finally{v=fe}}}})(Vp)),Vp}var cw;function EN(){return cw||(cw=1,jp.exports=wN()),jp.exports}var Up={exports:{}},Rn={};var uw;function TN(){if(uw)return Rn;uw=1;var n=o0();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,f,p){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:d,containerInfo:f,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Rn.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(d,f,null,p)},Rn.flushSync=function(d){var f=l.T,p=i.p;try{if(l.T=null,i.p=2,d)return d()}finally{l.T=f,i.p=p,i.d.f()}},Rn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(d,f))},Rn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Rn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,_=u(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,E=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:E}):p==="script"&&i.d.X(d,{crossOrigin:_,integrity:v,fetchPriority:E,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Rn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);i.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(d)},Rn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,_=u(p,f.crossOrigin);i.d.L(d,p,{crossOrigin:_,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Rn.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);i.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(d)},Rn.requestFormReset=function(d){i.d.r(d)},Rn.unstable_batchedUpdates=function(d,f){return d(f)},Rn.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},Rn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Rn.version="19.2.3",Rn}var hw;function SN(){if(hw)return Up.exports;hw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Up.exports=TN(),Up.exports}var dw;function AN(){if(dw)return uu;dw=1;var n=EN(),e=o0(),t=SN();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function l(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function u(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function d(s){if(o(s)!==s)throw Error(i(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var c=s,h=a;;){var g=c.return;if(g===null)break;var y=g.alternate;if(y===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===c)return d(g),s;if(y===h)return d(g),a;y=y.sibling}throw Error(i(188))}if(c.return!==h.return)c=g,h=y;else{for(var w=!1,R=g.child;R;){if(R===c){w=!0,c=g,h=y;break}if(R===h){w=!0,h=g,c=y;break}R=R.sibling}if(!w){for(R=y.child;R;){if(R===c){w=!0,c=y,h=g;break}if(R===h){w=!0,h=y,c=g;break}R=R.sibling}if(!w)throw Error(i(189))}}if(c.alternate!==h)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?s:a}function p(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=p(s),a!==null)return a;s=s.sibling}return null}var _=Object.assign,v=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),H=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=P&&s[P]||s["@@iterator"],typeof s=="function"?s:null)}var O=Symbol.for("react.client.reference");function Ie(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===O?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case M:return"Profiler";case C:return"StrictMode";case $:return"Suspense";case te:return"SuspenseList";case D:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case S:return"Portal";case H:return s.displayName||"Context";case L:return(s._context.displayName||"Context")+".Consumer";case Y:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case I:return a=s.displayName||null,a!==null?a:Ie(s.type)||"Memo";case N:a=s._payload,s=s._init;try{return Ie(s(a))}catch{}}return null}var be=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},ye=[],Se=-1;function z(s){return{current:s}}function ne(s){0>Se||(s.current=ye[Se],ye[Se]=null,Se--)}function ue(s,a){Se++,ye[Se]=s.current,s.current=a}var de=z(null),xe=z(null),Te=z(null),ze=z(null);function rt(s,a){switch(ue(Te,a),ue(xe,s),ue(de,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?Cx(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=Cx(a),s=Rx(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ne(de),ue(de,s)}function ct(){ne(de),ne(xe),ne(Te)}function ei(s){s.memoizedState!==null&&ue(ze,s);var a=de.current,c=Rx(a,s.type);a!==c&&(ue(xe,s),ue(de,c))}function ce(s){xe.current===s&&(ne(de),ne(xe)),ze.current===s&&(ne(ze),ru._currentValue=fe)}var Be,Bt;function Kt(s){if(Be===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);Be=a&&a[1]||"",Bt=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Be+s+Bt}var ti=!1;function _i(s,a){if(!s||ti)return"";ti=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(Z){var X=Z}Reflect.construct(s,[],ae)}else{try{ae.call()}catch(Z){X=Z}s.call(ae.prototype)}}else{try{throw Error()}catch(Z){X=Z}(ae=s())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(Z){if(Z&&X&&typeof Z.stack=="string")return[Z.stack,X.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),w=y[0],R=y[1];if(w&&R){var V=w.split(`
`),K=R.split(`
`);for(g=h=0;h<V.length&&!V[h].includes("DetermineComponentFrameRoot");)h++;for(;g<K.length&&!K[g].includes("DetermineComponentFrameRoot");)g++;if(h===V.length||g===K.length)for(h=V.length-1,g=K.length-1;1<=h&&0<=g&&V[h]!==K[g];)g--;for(;1<=h&&0<=g;h--,g--)if(V[h]!==K[g]){if(h!==1||g!==1)do if(h--,g--,0>g||V[h]!==K[g]){var ie=`
`+V[h].replace(" at new "," at ");return s.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",s.displayName)),ie}while(1<=h&&0<=g);break}}}finally{ti=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?Kt(c):""}function Er(s,a){switch(s.tag){case 26:case 27:case 5:return Kt(s.type);case 16:return Kt("Lazy");case 13:return s.child!==a&&a!==null?Kt("Suspense Fallback"):Kt("Suspense");case 19:return Kt("SuspenseList");case 0:case 15:return _i(s.type,!1);case 11:return _i(s.type.render,!1);case 1:return _i(s.type,!0);case 31:return Kt("Activity");default:return""}}function Tr(s){try{var a="",c=null;do a+=Er(s,c),c=s,s=s.return;while(s);return a}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var kt=Object.prototype.hasOwnProperty,Pt=n.unstable_scheduleCallback,Li=n.unstable_cancelCallback,jo=n.unstable_shouldYield,Va=n.unstable_requestPaint,dn=n.unstable_now,Qt=n.unstable_getCurrentPriorityLevel,bi=n.unstable_ImmediatePriority,ji=n.unstable_UserBlockingPriority,is=n.unstable_NormalPriority,hc=n.unstable_LowPriority,Vo=n.unstable_IdlePriority,Uo=n.log,vi=n.unstable_setDisableYieldValue,ee=null,ge=null;function Ve(s){if(typeof Uo=="function"&&vi(s),ge&&typeof ge.setStrictMode=="function")try{ge.setStrictMode(ee,s)}catch{}}var Ne=Math.clz32?Math.clz32:Dt,et=Math.log,tt=Math.LN2;function Dt(s){return s>>>=0,s===0?32:31-(et(s)/tt|0)|0}var Je=256,Ft=262144,ke=4194304;function ln(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function _n(s,a,c){var h=s.pendingLanes;if(h===0)return 0;var g=0,y=s.suspendedLanes,w=s.pingedLanes;s=s.warmLanes;var R=h&134217727;return R!==0?(h=R&~y,h!==0?g=ln(h):(w&=R,w!==0?g=ln(w):c||(c=R&~s,c!==0&&(g=ln(c))))):(R=h&~y,R!==0?g=ln(R):w!==0?g=ln(w):c||(c=h&~s,c!==0&&(g=ln(c)))),g===0?0:a!==0&&a!==g&&(a&y)===0&&(y=g&-g,c=a&-a,y>=c||y===32&&(c&4194048)!==0)?a:g}function bn(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Sr(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vs(){var s=ke;return ke<<=1,(ke&62914560)===0&&(ke=4194304),s}function ut(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function ni(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Vi(s,a,c,h,g,y){var w=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var R=s.entanglements,V=s.expirationTimes,K=s.hiddenUpdates;for(c=w&~c;0<c;){var ie=31-Ne(c),ae=1<<ie;R[ie]=0,V[ie]=-1;var X=K[ie];if(X!==null)for(K[ie]=null,ie=0;ie<X.length;ie++){var Z=X[ie];Z!==null&&(Z.lane&=-536870913)}c&=~ae}h!==0&&ii(s,h,0),y!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=y&~(w&~a))}function ii(s,a,c){s.pendingLanes|=a,s.suspendedLanes&=~a;var h=31-Ne(a);s.entangledLanes|=a,s.entanglements[h]=s.entanglements[h]|1073741824|c&261930}function ss(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var h=31-Ne(c),g=1<<h;g&a|s[h]&a&&(s[h]|=a),c&=~g}}function Ar(s,a){var c=a&-a;return c=(c&42)!==0?1:Ua(c),(c&(s.suspendedLanes|a))!==0?0:c}function Ua(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Us(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Rh(){var s=le.p;return s!==0?s:(s=window.event,s===void 0?32:Xx(s.type))}function Ui(s,a){var c=le.p;try{return le.p=s,a()}finally{le.p=c}}var zi=Math.random().toString(36).slice(2),Xt="__reactFiber$"+zi,fn="__reactProps$"+zi,rs="__reactContainer$"+zi,zo="__reactEvents$"+zi,zm="__reactListeners$"+zi,Nh="__reactHandles$"+zi,Ih="__reactResources$"+zi,as="__reactMarker$"+zi;function Bo(s){delete s[Xt],delete s[fn],delete s[zo],delete s[zm],delete s[Nh]}function os(s){var a=s[Xt];if(a)return a;for(var c=s.parentNode;c;){if(a=c[rs]||c[Xt]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=Px(s);s!==null;){if(c=s[Xt])return c;s=Px(s)}return a}s=c,c=s.parentNode}return null}function xi(s){if(s=s[Xt]||s[rs]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function si(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function ls(s){var a=s[Ih];return a||(a=s[Ih]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Jt(s){s[as]=!0}var dc=new Set,fc={};function cs(s,a){us(s,a),us(s+"Capture",a)}function us(s,a){for(fc[s]=a,s=0;s<a.length;s++)dc.add(a[s])}var mc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gc={},pc={};function kh(s){return kt.call(pc,s)?!0:kt.call(gc,s)?!1:mc.test(s)?pc[s]=!0:(gc[s]=!0,!1)}function Fo(s,a,c){if(kh(a))if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+c)}}function ri(s,a,c){if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+c)}}function Zt(s,a,c,h){if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(a,c,""+h)}}function mn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Cr(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function yc(s,a,c){var h=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var g=h.get,y=h.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(w){c=""+w,y.call(this,w)}}),Object.defineProperty(s,a,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ht(s){if(!s._valueTracker){var a=Cr(s)?"checked":"value";s._valueTracker=yc(s,a,""+s[a])}}function za(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return s&&(h=Cr(s)?s.checked?"true":"false":s.value),s=h,s!==c?(a.setValue(s),!0):!1}function hs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Ba=/[\n"\\]/g;function Fn(s){return s.replace(Ba,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Ho(s,a,c,h,g,y,w,R){s.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.type=w:s.removeAttribute("type"),a!=null?w==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+mn(a)):s.value!==""+mn(a)&&(s.value=""+mn(a)):w!=="submit"&&w!=="reset"||s.removeAttribute("value"),a!=null?_c(s,w,mn(a)):c!=null?_c(s,w,mn(c)):h!=null&&s.removeAttribute("value"),g==null&&y!=null&&(s.defaultChecked=!!y),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?s.name=""+mn(R):s.removeAttribute("name")}function Dh(s,a,c,h,g,y,w,R){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||a!=null)){ht(s);return}c=c!=null?""+mn(c):"",a=a!=null?""+mn(a):c,R||a===s.value||(s.value=a),s.defaultValue=a}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=R?s.checked:!!h,s.defaultChecked=!!h,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.name=w),ht(s)}function _c(s,a,c){a==="number"&&hs(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function Rr(s,a,c,h){if(s=s.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=a.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&h&&(s[c].defaultSelected=!0)}else{for(c=""+mn(c),a=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function Mh(s,a,c){if(a!=null&&(a=""+mn(a),a!==s.value&&(s.value=a),c==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=c!=null?""+mn(c):""}function Nr(s,a,c,h){if(a==null){if(h!=null){if(c!=null)throw Error(i(92));if(be(h)){if(1<h.length)throw Error(i(93));h=h[0]}c=h}c==null&&(c=""),a=c}c=mn(a),s.defaultValue=c,h=s.textContent,h===c&&h!==""&&h!==null&&(s.value=h),ht(s)}function Hn(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var Oh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bc(s,a,c){var h=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":h?s.setProperty(a,c):typeof c!="number"||c===0||Oh.has(a)?a==="float"?s.cssFloat=c:s[a]=(""+c).trim():s[a]=c+"px"}function vc(s,a,c){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var g in a)h=a[g],a.hasOwnProperty(g)&&c[g]!==h&&bc(s,g,h)}else for(var y in a)a.hasOwnProperty(y)&&bc(s,y,a[y])}function qo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ph=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ir=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Go(s){return Ir.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Bi(){}var xc=null;function wi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var kr=null,ds=null;function Fa(s){var a=xi(s);if(a&&(s=a.stateNode)){var c=s[fn]||null;e:switch(s=a.stateNode,a.type){case"input":if(Ho(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Fn(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==s&&h.form===s.form){var g=h[fn]||null;if(!g)throw Error(i(90));Ho(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<c.length;a++)h=c[a],h.form===s.form&&za(h)}break e;case"textarea":Mh(s,c.value,c.defaultValue);break e;case"select":a=c.value,a!=null&&Rr(s,!!c.multiple,a,!1)}}}var Yo=!1;function Dr(s,a,c){if(Yo)return s(a,c);Yo=!0;try{var h=s(a);return h}finally{if(Yo=!1,(kr!==null||ds!==null)&&(Rd(),kr&&(a=kr,s=ds,ds=kr=null,Fa(a),s)))for(a=0;a<s.length;a++)Fa(s[a])}}function Fi(s,a){var c=s.stateNode;if(c===null)return null;var h=c[fn]||null;if(h===null)return null;c=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(i(231,a,typeof c));return c}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ha=!1;if(Ei)try{var gt={};Object.defineProperty(gt,"passive",{get:function(){Ha=!0}}),window.addEventListener("test",gt,gt),window.removeEventListener("test",gt,gt)}catch{Ha=!1}var fs=null,wc=null,qa=null;function Ec(){if(qa)return qa;var s,a=wc,c=a.length,h,g="value"in fs?fs.value:fs.textContent,y=g.length;for(s=0;s<c&&a[s]===g[s];s++);var w=c-s;for(h=1;h<=w&&a[c-h]===g[y-h];h++);return qa=g.slice(s,1<h?1-h:void 0)}function Ga(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function zs(){return!0}function Hi(){return!1}function vn(s){function a(c,h,g,y,w){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var R in s)s.hasOwnProperty(R)&&(c=s[R],this[R]=c?c(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?zs:Hi,this.isPropagationStopped=Hi,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=zs)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=zs)},persist:function(){},isPersistent:zs}),a}var Bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ms=vn(Bs),Mr=_({},Bs,{view:0,detail:0}),Tc=vn(Mr),Or,$o,gs,Wo=_({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==gs&&(gs&&s.type==="mousemove"?(Or=s.screenX-gs.screenX,$o=s.screenY-gs.screenY):$o=Or=0,gs=s),Or)},movementY:function(s){return"movementY"in s?s.movementY:$o}}),Sc=vn(Wo),Ya=_({},Wo,{dataTransfer:0}),Lh=vn(Ya),jh=_({},Mr,{relatedTarget:0}),$a=vn(jh),Ac=_({},Bs,{animationName:0,elapsedTime:0,pseudoElement:0}),Vh=vn(Ac),Ko=_({},Bs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Uh=vn(Ko),zh=_({},Bs,{data:0}),ps=vn(zh),Bh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qh(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Hh[s])?!!a[s]:!1}function Pr(){return qh}var Vn=_({},Mr,{key:function(s){if(s.key){var a=Bh[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Ga(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Fh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pr,charCode:function(s){return s.type==="keypress"?Ga(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ga(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Gh=vn(Vn),Yh=_({},Wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fs=vn(Yh),m=_({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pr}),x=vn(m),T=_({},Bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),k=vn(T),G=_({},Wo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),J=vn(G),he=_({},Bs,{newState:0,oldState:0}),Le=vn(he),Ht=[9,13,27,32],at=Ei&&"CompositionEvent"in window,At=null;Ei&&"documentMode"in document&&(At=document.documentMode);var Ti=Ei&&"TextEvent"in window&&!At,ys=Ei&&(!at||At&&8<At&&11>=At),qi=" ",Gi=!1;function Wa(s,a){switch(s){case"keyup":return Ht.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Xo=!1;function BC(s,a){switch(s){case"compositionend":return Qo(a);case"keypress":return a.which!==32?null:(Gi=!0,qi);case"textInput":return s=a.data,s===qi&&Gi?null:s;default:return null}}function FC(s,a){if(Xo)return s==="compositionend"||!at&&Wa(s,a)?(s=Ec(),qa=wc=fs=null,Xo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return ys&&a.locale!=="ko"?null:a.data;default:return null}}var HC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function V_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!HC[s.type]:a==="textarea"}function U_(s,a,c,h){kr?ds?ds.push(h):ds=[h]:kr=h,a=Pd(a,"onChange"),0<a.length&&(c=new ms("onChange","change",null,c,h),s.push({event:c,listeners:a}))}var Cc=null,Rc=null;function qC(s){xx(s,0)}function $h(s){var a=si(s);if(za(a))return s}function z_(s,a){if(s==="change")return a}var B_=!1;if(Ei){var Bm;if(Ei){var Fm="oninput"in document;if(!Fm){var F_=document.createElement("div");F_.setAttribute("oninput","return;"),Fm=typeof F_.oninput=="function"}Bm=Fm}else Bm=!1;B_=Bm&&(!document.documentMode||9<document.documentMode)}function H_(){Cc&&(Cc.detachEvent("onpropertychange",q_),Rc=Cc=null)}function q_(s){if(s.propertyName==="value"&&$h(Rc)){var a=[];U_(a,Rc,s,wi(s)),Dr(qC,a)}}function GC(s,a,c){s==="focusin"?(H_(),Cc=a,Rc=c,Cc.attachEvent("onpropertychange",q_)):s==="focusout"&&H_()}function YC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return $h(Rc)}function $C(s,a){if(s==="click")return $h(a)}function WC(s,a){if(s==="input"||s==="change")return $h(a)}function KC(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var ai=typeof Object.is=="function"?Object.is:KC;function Nc(s,a){if(ai(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!kt.call(a,g)||!ai(s[g],a[g]))return!1}return!0}function G_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Y_(s,a){var c=G_(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=a&&h>=a)return{node:c,offset:a-s};s=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=G_(c)}}function $_(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?$_(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function W_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=hs(s.document);a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=hs(s.document)}return a}function Hm(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var QC=Ei&&"documentMode"in document&&11>=document.documentMode,Jo=null,qm=null,Ic=null,Gm=!1;function K_(s,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Gm||Jo==null||Jo!==hs(h)||(h=Jo,"selectionStart"in h&&Hm(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ic&&Nc(Ic,h)||(Ic=h,h=Pd(qm,"onSelect"),0<h.length&&(a=new ms("onSelect","select",null,a,c),s.push({event:a,listeners:h}),a.target=Jo)))}function Ka(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var Zo={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionrun:Ka("Transition","TransitionRun"),transitionstart:Ka("Transition","TransitionStart"),transitioncancel:Ka("Transition","TransitionCancel"),transitionend:Ka("Transition","TransitionEnd")},Ym={},Q_={};Ei&&(Q_=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);function Qa(s){if(Ym[s])return Ym[s];if(!Zo[s])return s;var a=Zo[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in Q_)return Ym[s]=a[c];return s}var X_=Qa("animationend"),J_=Qa("animationiteration"),Z_=Qa("animationstart"),XC=Qa("transitionrun"),JC=Qa("transitionstart"),ZC=Qa("transitioncancel"),eb=Qa("transitionend"),tb=new Map,$m="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$m.push("scrollEnd");function Yi(s,a){tb.set(s,a),cs(a,[s])}var Wh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Si=[],el=0,Wm=0;function Kh(){for(var s=el,a=Wm=el=0;a<s;){var c=Si[a];Si[a++]=null;var h=Si[a];Si[a++]=null;var g=Si[a];Si[a++]=null;var y=Si[a];if(Si[a++]=null,h!==null&&g!==null){var w=h.pending;w===null?g.next=g:(g.next=w.next,w.next=g),h.pending=g}y!==0&&nb(c,g,y)}}function Qh(s,a,c,h){Si[el++]=s,Si[el++]=a,Si[el++]=c,Si[el++]=h,Wm|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function Km(s,a,c,h){return Qh(s,a,c,h),Xh(s)}function Xa(s,a){return Qh(s,null,null,a),Xh(s)}function nb(s,a,c){s.lanes|=c;var h=s.alternate;h!==null&&(h.lanes|=c);for(var g=!1,y=s.return;y!==null;)y.childLanes|=c,h=y.alternate,h!==null&&(h.childLanes|=c),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(g=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,g&&a!==null&&(g=31-Ne(c),s=y.hiddenUpdates,h=s[g],h===null?s[g]=[a]:h.push(a),a.lane=c|536870912),y):null}function Xh(s){if(50<Jc)throw Jc=0,sp=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var tl={};function eR(s,a,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(s,a,c,h){return new eR(s,a,c,h)}function Qm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Hs(s,a){var c=s.alternate;return c===null?(c=oi(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function ib(s,a){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,a=c.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Jh(s,a,c,h,g,y){var w=0;if(h=s,typeof s=="function")Qm(s)&&(w=1);else if(typeof s=="string")w=rN(s,c,de.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case D:return s=oi(31,c,a,g),s.elementType=D,s.lanes=y,s;case A:return Ja(c.children,g,y,a);case C:w=8,g|=24;break;case M:return s=oi(12,c,a,g|2),s.elementType=M,s.lanes=y,s;case $:return s=oi(13,c,a,g),s.elementType=$,s.lanes=y,s;case te:return s=oi(19,c,a,g),s.elementType=te,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case H:w=10;break e;case L:w=9;break e;case Y:w=11;break e;case I:w=14;break e;case N:w=16,h=null;break e}w=29,c=Error(i(130,s===null?"null":typeof s,"")),h=null}return a=oi(w,c,a,g),a.elementType=s,a.type=h,a.lanes=y,a}function Ja(s,a,c,h){return s=oi(7,s,h,a),s.lanes=c,s}function Xm(s,a,c){return s=oi(6,s,null,a),s.lanes=c,s}function sb(s){var a=oi(18,null,null,0);return a.stateNode=s,a}function Jm(s,a,c){return a=oi(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var rb=new WeakMap;function Ai(s,a){if(typeof s=="object"&&s!==null){var c=rb.get(s);return c!==void 0?c:(a={value:s,source:a,stack:Tr(a)},rb.set(s,a),a)}return{value:s,source:a,stack:Tr(a)}}var nl=[],il=0,Zh=null,kc=0,Ci=[],Ri=0,Lr=null,_s=1,bs="";function qs(s,a){nl[il++]=kc,nl[il++]=Zh,Zh=s,kc=a}function ab(s,a,c){Ci[Ri++]=_s,Ci[Ri++]=bs,Ci[Ri++]=Lr,Lr=s;var h=_s;s=bs;var g=32-Ne(h)-1;h&=~(1<<g),c+=1;var y=32-Ne(a)+g;if(30<y){var w=g-g%5;y=(h&(1<<w)-1).toString(32),h>>=w,g-=w,_s=1<<32-Ne(a)+g|c<<g|h,bs=y+s}else _s=1<<y|c<<g|h,bs=s}function Zm(s){s.return!==null&&(qs(s,1),ab(s,1,0))}function eg(s){for(;s===Zh;)Zh=nl[--il],nl[il]=null,kc=nl[--il],nl[il]=null;for(;s===Lr;)Lr=Ci[--Ri],Ci[Ri]=null,bs=Ci[--Ri],Ci[Ri]=null,_s=Ci[--Ri],Ci[Ri]=null}function ob(s,a){Ci[Ri++]=_s,Ci[Ri++]=bs,Ci[Ri++]=Lr,_s=a.id,bs=a.overflow,Lr=s}var xn=null,wt=null,Xe=!1,jr=null,Ni=!1,tg=Error(i(519));function Vr(s){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Dc(Ai(a,s)),tg}function lb(s){var a=s.stateNode,c=s.type,h=s.memoizedProps;switch(a[Xt]=s,a[fn]=h,c){case"dialog":He("cancel",a),He("close",a);break;case"iframe":case"object":case"embed":He("load",a);break;case"video":case"audio":for(c=0;c<eu.length;c++)He(eu[c],a);break;case"source":He("error",a);break;case"img":case"image":case"link":He("error",a),He("load",a);break;case"details":He("toggle",a);break;case"input":He("invalid",a),Dh(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":He("invalid",a);break;case"textarea":He("invalid",a),Nr(a,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||h.suppressHydrationWarning===!0||Sx(a.textContent,c)?(h.popover!=null&&(He("beforetoggle",a),He("toggle",a)),h.onScroll!=null&&He("scroll",a),h.onScrollEnd!=null&&He("scrollend",a),h.onClick!=null&&(a.onclick=Bi),a=!0):a=!1,a||Vr(s,!0)}function cb(s){for(xn=s.return;xn;)switch(xn.tag){case 5:case 31:case 13:Ni=!1;return;case 27:case 3:Ni=!0;return;default:xn=xn.return}}function sl(s){if(s!==xn)return!1;if(!Xe)return cb(s),Xe=!0,!1;var a=s.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||bp(s.type,s.memoizedProps)),c=!c),c&&wt&&Vr(s),cb(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));wt=Ox(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));wt=Ox(s)}else a===27?(a=wt,Jr(s.type)?(s=Tp,Tp=null,wt=s):wt=a):wt=xn?ki(s.stateNode.nextSibling):null;return!0}function Za(){wt=xn=null,Xe=!1}function ng(){var s=jr;return s!==null&&($n===null?$n=s:$n.push.apply($n,s),jr=null),s}function Dc(s){jr===null?jr=[s]:jr.push(s)}var ig=z(null),eo=null,Gs=null;function Ur(s,a,c){ue(ig,a._currentValue),a._currentValue=c}function Ys(s){s._currentValue=ig.current,ne(ig)}function sg(s,a,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===c)break;s=s.return}}function rg(s,a,c,h){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var y=g.dependencies;if(y!==null){var w=g.child;y=y.firstContext;e:for(;y!==null;){var R=y;y=g;for(var V=0;V<a.length;V++)if(R.context===a[V]){y.lanes|=c,R=y.alternate,R!==null&&(R.lanes|=c),sg(y.return,c,s),h||(w=null);break e}y=R.next}}else if(g.tag===18){if(w=g.return,w===null)throw Error(i(341));w.lanes|=c,y=w.alternate,y!==null&&(y.lanes|=c),sg(w,c,s),w=null}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}}function rl(s,a,c,h){s=null;for(var g=a,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var w=g.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var R=g.type;ai(g.pendingProps.value,w.value)||(s!==null?s.push(R):s=[R])}}else if(g===ze.current){if(w=g.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(ru):s=[ru])}g=g.return}s!==null&&rg(a,s,c,h),a.flags|=262144}function ed(s){for(s=s.firstContext;s!==null;){if(!ai(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function to(s){eo=s,Gs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function wn(s){return ub(eo,s)}function td(s,a){return eo===null&&to(s),ub(s,a)}function ub(s,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},Gs===null){if(s===null)throw Error(i(308));Gs=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Gs=Gs.next=a;return c}var tR=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(c,h){s.push(h)}};this.abort=function(){a.aborted=!0,s.forEach(function(c){return c()})}},nR=n.unstable_scheduleCallback,iR=n.unstable_NormalPriority,en={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ag(){return{controller:new tR,data:new Map,refCount:0}}function Mc(s){s.refCount--,s.refCount===0&&nR(iR,function(){s.controller.abort()})}var Oc=null,og=0,al=0,ol=null;function sR(s,a){if(Oc===null){var c=Oc=[];og=0,al=up(),ol={status:"pending",value:void 0,then:function(h){c.push(h)}}}return og++,a.then(hb,hb),a}function hb(){if(--og===0&&Oc!==null){ol!==null&&(ol.status="fulfilled");var s=Oc;Oc=null,al=0,ol=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function rR(s,a){var c=[],h={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return s.then(function(){h.status="fulfilled",h.value=a;for(var g=0;g<c.length;g++)(0,c[g])(a)},function(g){for(h.status="rejected",h.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),h}var db=Q.S;Q.S=function(s,a){Kv=dn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&sR(s,a),db!==null&&db(s,a)};var no=z(null);function lg(){var s=no.current;return s!==null?s:bt.pooledCache}function nd(s,a){a===null?ue(no,no.current):ue(no,a.pool)}function fb(){var s=lg();return s===null?null:{parent:en._currentValue,pool:s}}var ll=Error(i(460)),cg=Error(i(474)),id=Error(i(542)),sd={then:function(){}};function mb(s){return s=s.status,s==="fulfilled"||s==="rejected"}function gb(s,a,c){switch(c=s[c],c===void 0?s.push(a):c!==a&&(a.then(Bi,Bi),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,yb(s),s;default:if(typeof a.status=="string")a.then(Bi,Bi);else{if(s=bt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(h){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=h}},function(h){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,yb(s),s}throw so=a,ll}}function io(s){try{var a=s._init;return a(s._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(so=c,ll):c}}var so=null;function pb(){if(so===null)throw Error(i(459));var s=so;return so=null,s}function yb(s){if(s===ll||s===id)throw Error(i(483))}var cl=null,Pc=0;function rd(s){var a=Pc;return Pc+=1,cl===null&&(cl=[]),gb(cl,s,a)}function Lc(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function ad(s,a){throw a.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function _b(s){function a(q,F){if(s){var W=q.deletions;W===null?(q.deletions=[F],q.flags|=16):W.push(F)}}function c(q,F){if(!s)return null;for(;F!==null;)a(q,F),F=F.sibling;return null}function h(q){for(var F=new Map;q!==null;)q.key!==null?F.set(q.key,q):F.set(q.index,q),q=q.sibling;return F}function g(q,F){return q=Hs(q,F),q.index=0,q.sibling=null,q}function y(q,F,W){return q.index=W,s?(W=q.alternate,W!==null?(W=W.index,W<F?(q.flags|=67108866,F):W):(q.flags|=67108866,F)):(q.flags|=1048576,F)}function w(q){return s&&q.alternate===null&&(q.flags|=67108866),q}function R(q,F,W,se){return F===null||F.tag!==6?(F=Xm(W,q.mode,se),F.return=q,F):(F=g(F,W),F.return=q,F)}function V(q,F,W,se){var we=W.type;return we===A?ie(q,F,W.props.children,se,W.key):F!==null&&(F.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===N&&io(we)===F.type)?(F=g(F,W.props),Lc(F,W),F.return=q,F):(F=Jh(W.type,W.key,W.props,null,q.mode,se),Lc(F,W),F.return=q,F)}function K(q,F,W,se){return F===null||F.tag!==4||F.stateNode.containerInfo!==W.containerInfo||F.stateNode.implementation!==W.implementation?(F=Jm(W,q.mode,se),F.return=q,F):(F=g(F,W.children||[]),F.return=q,F)}function ie(q,F,W,se,we){return F===null||F.tag!==7?(F=Ja(W,q.mode,se,we),F.return=q,F):(F=g(F,W),F.return=q,F)}function ae(q,F,W){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Xm(""+F,q.mode,W),F.return=q,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case E:return W=Jh(F.type,F.key,F.props,null,q.mode,W),Lc(W,F),W.return=q,W;case S:return F=Jm(F,q.mode,W),F.return=q,F;case N:return F=io(F),ae(q,F,W)}if(be(F)||U(F))return F=Ja(F,q.mode,W,null),F.return=q,F;if(typeof F.then=="function")return ae(q,rd(F),W);if(F.$$typeof===H)return ae(q,td(q,F),W);ad(q,F)}return null}function X(q,F,W,se){var we=F!==null?F.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return we!==null?null:R(q,F,""+W,se);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case E:return W.key===we?V(q,F,W,se):null;case S:return W.key===we?K(q,F,W,se):null;case N:return W=io(W),X(q,F,W,se)}if(be(W)||U(W))return we!==null?null:ie(q,F,W,se,null);if(typeof W.then=="function")return X(q,F,rd(W),se);if(W.$$typeof===H)return X(q,F,td(q,W),se);ad(q,W)}return null}function Z(q,F,W,se,we){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return q=q.get(W)||null,R(F,q,""+se,we);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case E:return q=q.get(se.key===null?W:se.key)||null,V(F,q,se,we);case S:return q=q.get(se.key===null?W:se.key)||null,K(F,q,se,we);case N:return se=io(se),Z(q,F,W,se,we)}if(be(se)||U(se))return q=q.get(W)||null,ie(F,q,se,we,null);if(typeof se.then=="function")return Z(q,F,W,rd(se),we);if(se.$$typeof===H)return Z(q,F,W,td(F,se),we);ad(F,se)}return null}function _e(q,F,W,se){for(var we=null,nt=null,ve=F,Ue=F=0,Ye=null;ve!==null&&Ue<W.length;Ue++){ve.index>Ue?(Ye=ve,ve=null):Ye=ve.sibling;var it=X(q,ve,W[Ue],se);if(it===null){ve===null&&(ve=Ye);break}s&&ve&&it.alternate===null&&a(q,ve),F=y(it,F,Ue),nt===null?we=it:nt.sibling=it,nt=it,ve=Ye}if(Ue===W.length)return c(q,ve),Xe&&qs(q,Ue),we;if(ve===null){for(;Ue<W.length;Ue++)ve=ae(q,W[Ue],se),ve!==null&&(F=y(ve,F,Ue),nt===null?we=ve:nt.sibling=ve,nt=ve);return Xe&&qs(q,Ue),we}for(ve=h(ve);Ue<W.length;Ue++)Ye=Z(ve,q,Ue,W[Ue],se),Ye!==null&&(s&&Ye.alternate!==null&&ve.delete(Ye.key===null?Ue:Ye.key),F=y(Ye,F,Ue),nt===null?we=Ye:nt.sibling=Ye,nt=Ye);return s&&ve.forEach(function(ia){return a(q,ia)}),Xe&&qs(q,Ue),we}function Ae(q,F,W,se){if(W==null)throw Error(i(151));for(var we=null,nt=null,ve=F,Ue=F=0,Ye=null,it=W.next();ve!==null&&!it.done;Ue++,it=W.next()){ve.index>Ue?(Ye=ve,ve=null):Ye=ve.sibling;var ia=X(q,ve,it.value,se);if(ia===null){ve===null&&(ve=Ye);break}s&&ve&&ia.alternate===null&&a(q,ve),F=y(ia,F,Ue),nt===null?we=ia:nt.sibling=ia,nt=ia,ve=Ye}if(it.done)return c(q,ve),Xe&&qs(q,Ue),we;if(ve===null){for(;!it.done;Ue++,it=W.next())it=ae(q,it.value,se),it!==null&&(F=y(it,F,Ue),nt===null?we=it:nt.sibling=it,nt=it);return Xe&&qs(q,Ue),we}for(ve=h(ve);!it.done;Ue++,it=W.next())it=Z(ve,q,Ue,it.value,se),it!==null&&(s&&it.alternate!==null&&ve.delete(it.key===null?Ue:it.key),F=y(it,F,Ue),nt===null?we=it:nt.sibling=it,nt=it);return s&&ve.forEach(function(pN){return a(q,pN)}),Xe&&qs(q,Ue),we}function _t(q,F,W,se){if(typeof W=="object"&&W!==null&&W.type===A&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case E:e:{for(var we=W.key;F!==null;){if(F.key===we){if(we=W.type,we===A){if(F.tag===7){c(q,F.sibling),se=g(F,W.props.children),se.return=q,q=se;break e}}else if(F.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===N&&io(we)===F.type){c(q,F.sibling),se=g(F,W.props),Lc(se,W),se.return=q,q=se;break e}c(q,F);break}else a(q,F);F=F.sibling}W.type===A?(se=Ja(W.props.children,q.mode,se,W.key),se.return=q,q=se):(se=Jh(W.type,W.key,W.props,null,q.mode,se),Lc(se,W),se.return=q,q=se)}return w(q);case S:e:{for(we=W.key;F!==null;){if(F.key===we)if(F.tag===4&&F.stateNode.containerInfo===W.containerInfo&&F.stateNode.implementation===W.implementation){c(q,F.sibling),se=g(F,W.children||[]),se.return=q,q=se;break e}else{c(q,F);break}else a(q,F);F=F.sibling}se=Jm(W,q.mode,se),se.return=q,q=se}return w(q);case N:return W=io(W),_t(q,F,W,se)}if(be(W))return _e(q,F,W,se);if(U(W)){if(we=U(W),typeof we!="function")throw Error(i(150));return W=we.call(W),Ae(q,F,W,se)}if(typeof W.then=="function")return _t(q,F,rd(W),se);if(W.$$typeof===H)return _t(q,F,td(q,W),se);ad(q,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,F!==null&&F.tag===6?(c(q,F.sibling),se=g(F,W),se.return=q,q=se):(c(q,F),se=Xm(W,q.mode,se),se.return=q,q=se),w(q)):c(q,F)}return function(q,F,W,se){try{Pc=0;var we=_t(q,F,W,se);return cl=null,we}catch(ve){if(ve===ll||ve===id)throw ve;var nt=oi(29,ve,null,q.mode);return nt.lanes=se,nt.return=q,nt}}}var ro=_b(!0),bb=_b(!1),zr=!1;function ug(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hg(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Br(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Fr(s,a,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(ot&2)!==0){var g=h.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),h.pending=a,a=Xh(s),nb(s,null,c),a}return Qh(s,h,a,c),Xh(s)}function jc(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,ss(s,c)}}function dg(s,a){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var w={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?g=y=w:y=y.next=w,c=c.next}while(c!==null);y===null?g=y=a:y=y.next=a}else g=y=a;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}var fg=!1;function Vc(){if(fg){var s=ol;if(s!==null)throw s}}function Uc(s,a,c,h){fg=!1;var g=s.updateQueue;zr=!1;var y=g.firstBaseUpdate,w=g.lastBaseUpdate,R=g.shared.pending;if(R!==null){g.shared.pending=null;var V=R,K=V.next;V.next=null,w===null?y=K:w.next=K,w=V;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,R=ie.lastBaseUpdate,R!==w&&(R===null?ie.firstBaseUpdate=K:R.next=K,ie.lastBaseUpdate=V))}if(y!==null){var ae=g.baseState;w=0,ie=K=V=null,R=y;do{var X=R.lane&-536870913,Z=X!==R.lane;if(Z?(Ge&X)===X:(h&X)===X){X!==0&&X===al&&(fg=!0),ie!==null&&(ie=ie.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var _e=s,Ae=R;X=a;var _t=c;switch(Ae.tag){case 1:if(_e=Ae.payload,typeof _e=="function"){ae=_e.call(_t,ae,X);break e}ae=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Ae.payload,X=typeof _e=="function"?_e.call(_t,ae,X):_e,X==null)break e;ae=_({},ae,X);break e;case 2:zr=!0}}X=R.callback,X!==null&&(s.flags|=64,Z&&(s.flags|=8192),Z=g.callbacks,Z===null?g.callbacks=[X]:Z.push(X))}else Z={lane:X,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ie===null?(K=ie=Z,V=ae):ie=ie.next=Z,w|=X;if(R=R.next,R===null){if(R=g.shared.pending,R===null)break;Z=R,R=Z.next,Z.next=null,g.lastBaseUpdate=Z,g.shared.pending=null}}while(!0);ie===null&&(V=ae),g.baseState=V,g.firstBaseUpdate=K,g.lastBaseUpdate=ie,y===null&&(g.shared.lanes=0),$r|=w,s.lanes=w,s.memoizedState=ae}}function vb(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function xb(s,a){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)vb(c[s],a)}var ul=z(null),od=z(0);function wb(s,a){s=tr,ue(od,s),ue(ul,a),tr=s|a.baseLanes}function mg(){ue(od,tr),ue(ul,ul.current)}function gg(){tr=od.current,ne(ul),ne(od)}var li=z(null),Ii=null;function Hr(s){var a=s.alternate;ue(qt,qt.current&1),ue(li,s),Ii===null&&(a===null||ul.current!==null||a.memoizedState!==null)&&(Ii=s)}function pg(s){ue(qt,qt.current),ue(li,s),Ii===null&&(Ii=s)}function Eb(s){s.tag===22?(ue(qt,qt.current),ue(li,s),Ii===null&&(Ii=s)):qr()}function qr(){ue(qt,qt.current),ue(li,li.current)}function ci(s){ne(li),Ii===s&&(Ii=null),ne(qt)}var qt=z(0);function ld(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||wp(c)||Ep(c)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var $s=0,je=null,pt=null,tn=null,cd=!1,hl=!1,ao=!1,ud=0,zc=0,dl=null,aR=0;function Lt(){throw Error(i(321))}function yg(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!ai(s[c],a[c]))return!1;return!0}function _g(s,a,c,h,g,y){return $s=y,je=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Q.H=s===null||s.memoizedState===null?av:Mg,ao=!1,y=c(h,g),ao=!1,hl&&(y=Sb(a,c,h,g)),Tb(s),y}function Tb(s){Q.H=Hc;var a=pt!==null&&pt.next!==null;if($s=0,tn=pt=je=null,cd=!1,zc=0,dl=null,a)throw Error(i(300));s===null||nn||(s=s.dependencies,s!==null&&ed(s)&&(nn=!0))}function Sb(s,a,c,h){je=s;var g=0;do{if(hl&&(dl=null),zc=0,hl=!1,25<=g)throw Error(i(301));if(g+=1,tn=pt=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}Q.H=ov,y=a(c,h)}while(hl);return y}function oR(){var s=Q.H,a=s.useState()[0];return a=typeof a.then=="function"?Bc(a):a,s=s.useState()[0],(pt!==null?pt.memoizedState:null)!==s&&(je.flags|=1024),a}function bg(){var s=ud!==0;return ud=0,s}function vg(s,a,c){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~c}function xg(s){if(cd){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}cd=!1}$s=0,tn=pt=je=null,hl=!1,zc=ud=0,dl=null}function Un(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?je.memoizedState=tn=s:tn=tn.next=s,tn}function Gt(){if(pt===null){var s=je.alternate;s=s!==null?s.memoizedState:null}else s=pt.next;var a=tn===null?je.memoizedState:tn.next;if(a!==null)tn=a,pt=s;else{if(s===null)throw je.alternate===null?Error(i(467)):Error(i(310));pt=s,s={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},tn===null?je.memoizedState=tn=s:tn=tn.next=s}return tn}function hd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bc(s){var a=zc;return zc+=1,dl===null&&(dl=[]),s=gb(dl,s,a),a=je,(tn===null?a.memoizedState:tn.next)===null&&(a=a.alternate,Q.H=a===null||a.memoizedState===null?av:Mg),s}function dd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Bc(s);if(s.$$typeof===H)return wn(s)}throw Error(i(438,String(s)))}function wg(s){var a=null,c=je.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var h=je.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=hd(),je.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(s),h=0;h<s;h++)c[h]=j;return a.index++,c}function Ws(s,a){return typeof a=="function"?a(s):a}function fd(s){var a=Gt();return Eg(a,pt,s)}function Eg(s,a,c){var h=s.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=c;var g=s.baseQueue,y=h.pending;if(y!==null){if(g!==null){var w=g.next;g.next=y.next,y.next=w}a.baseQueue=g=y,h.pending=null}if(y=s.baseState,g===null)s.memoizedState=y;else{a=g.next;var R=w=null,V=null,K=a,ie=!1;do{var ae=K.lane&-536870913;if(ae!==K.lane?(Ge&ae)===ae:($s&ae)===ae){var X=K.revertLane;if(X===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ae===al&&(ie=!0);else if(($s&X)===X){K=K.next,X===al&&(ie=!0);continue}else ae={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(R=V=ae,w=y):V=V.next=ae,je.lanes|=X,$r|=X;ae=K.action,ao&&c(y,ae),y=K.hasEagerState?K.eagerState:c(y,ae)}else X={lane:ae,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(R=V=X,w=y):V=V.next=X,je.lanes|=ae,$r|=ae;K=K.next}while(K!==null&&K!==a);if(V===null?w=y:V.next=R,!ai(y,s.memoizedState)&&(nn=!0,ie&&(c=ol,c!==null)))throw c;s.memoizedState=y,s.baseState=w,s.baseQueue=V,h.lastRenderedState=y}return g===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function Tg(s){var a=Gt(),c=a.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=s;var h=c.dispatch,g=c.pending,y=a.memoizedState;if(g!==null){c.pending=null;var w=g=g.next;do y=s(y,w.action),w=w.next;while(w!==g);ai(y,a.memoizedState)||(nn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),c.lastRenderedState=y}return[y,h]}function Ab(s,a,c){var h=je,g=Gt(),y=Xe;if(y){if(c===void 0)throw Error(i(407));c=c()}else c=a();var w=!ai((pt||g).memoizedState,c);if(w&&(g.memoizedState=c,nn=!0),g=g.queue,Cg(Nb.bind(null,h,g,s),[s]),g.getSnapshot!==a||w||tn!==null&&tn.memoizedState.tag&1){if(h.flags|=2048,fl(9,{destroy:void 0},Rb.bind(null,h,g,c,a),null),bt===null)throw Error(i(349));y||($s&127)!==0||Cb(h,a,c)}return c}function Cb(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=je.updateQueue,a===null?(a=hd(),je.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function Rb(s,a,c,h){a.value=c,a.getSnapshot=h,Ib(a)&&kb(s)}function Nb(s,a,c){return c(function(){Ib(a)&&kb(s)})}function Ib(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!ai(s,c)}catch{return!0}}function kb(s){var a=Xa(s,2);a!==null&&Wn(a,s,2)}function Sg(s){var a=Un();if(typeof s=="function"){var c=s;if(s=c(),ao){Ve(!0);try{c()}finally{Ve(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:s},a}function Db(s,a,c,h){return s.baseState=c,Eg(s,pt,typeof h=="function"?h:Ws)}function lR(s,a,c,h,g){if(pd(s))throw Error(i(485));if(s=a.action,s!==null){var y={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};Q.T!==null?c(!0):y.isTransition=!1,h(y),c=a.pending,c===null?(y.next=a.pending=y,Mb(a,y)):(y.next=c.next,a.pending=c.next=y)}}function Mb(s,a){var c=a.action,h=a.payload,g=s.state;if(a.isTransition){var y=Q.T,w={};Q.T=w;try{var R=c(g,h),V=Q.S;V!==null&&V(w,R),Ob(s,a,R)}catch(K){Ag(s,a,K)}finally{y!==null&&w.types!==null&&(y.types=w.types),Q.T=y}}else try{y=c(g,h),Ob(s,a,y)}catch(K){Ag(s,a,K)}}function Ob(s,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){Pb(s,a,h)},function(h){return Ag(s,a,h)}):Pb(s,a,c)}function Pb(s,a,c){a.status="fulfilled",a.value=c,Lb(a),s.state=c,a=s.pending,a!==null&&(c=a.next,c===a?s.pending=null:(c=c.next,a.next=c,Mb(s,c)))}function Ag(s,a,c){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=c,Lb(a),a=a.next;while(a!==h)}s.action=null}function Lb(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function jb(s,a){return a}function Vb(s,a){if(Xe){var c=bt.formState;if(c!==null){e:{var h=je;if(Xe){if(wt){t:{for(var g=wt,y=Ni;g.nodeType!==8;){if(!y){g=null;break t}if(g=ki(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){wt=ki(g.nextSibling),h=g.data==="F!";break e}}Vr(h)}h=!1}h&&(a=c[0])}}return c=Un(),c.memoizedState=c.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jb,lastRenderedState:a},c.queue=h,c=iv.bind(null,je,h),h.dispatch=c,h=Sg(!1),y=Dg.bind(null,je,!1,h.queue),h=Un(),g={state:a,dispatch:null,action:s,pending:null},h.queue=g,c=lR.bind(null,je,g,y,c),g.dispatch=c,h.memoizedState=s,[a,c,!1]}function Ub(s){var a=Gt();return zb(a,pt,s)}function zb(s,a,c){if(a=Eg(s,a,jb)[0],s=fd(Ws)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=Bc(a)}catch(w){throw w===ll?id:w}else h=a;a=Gt();var g=a.queue,y=g.dispatch;return c!==a.memoizedState&&(je.flags|=2048,fl(9,{destroy:void 0},cR.bind(null,g,c),null)),[h,y,s]}function cR(s,a){s.action=a}function Bb(s){var a=Gt(),c=pt;if(c!==null)return zb(a,c,s);Gt(),a=a.memoizedState,c=Gt();var h=c.queue.dispatch;return c.memoizedState=s,[a,h,!1]}function fl(s,a,c,h){return s={tag:s,create:c,deps:h,inst:a,next:null},a=je.updateQueue,a===null&&(a=hd(),je.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,a.lastEffect=s),s}function Fb(){return Gt().memoizedState}function md(s,a,c,h){var g=Un();je.flags|=s,g.memoizedState=fl(1|a,{destroy:void 0},c,h===void 0?null:h)}function gd(s,a,c,h){var g=Gt();h=h===void 0?null:h;var y=g.memoizedState.inst;pt!==null&&h!==null&&yg(h,pt.memoizedState.deps)?g.memoizedState=fl(a,y,c,h):(je.flags|=s,g.memoizedState=fl(1|a,y,c,h))}function Hb(s,a){md(8390656,8,s,a)}function Cg(s,a){gd(2048,8,s,a)}function uR(s){je.flags|=4;var a=je.updateQueue;if(a===null)a=hd(),je.updateQueue=a,a.events=[s];else{var c=a.events;c===null?a.events=[s]:c.push(s)}}function qb(s){var a=Gt().memoizedState;return uR({ref:a,nextImpl:s}),function(){if((ot&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function Gb(s,a){return gd(4,2,s,a)}function Yb(s,a){return gd(4,4,s,a)}function $b(s,a){if(typeof a=="function"){s=s();var c=a(s);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Wb(s,a,c){c=c!=null?c.concat([s]):null,gd(4,4,$b.bind(null,a,s),c)}function Rg(){}function Kb(s,a){var c=Gt();a=a===void 0?null:a;var h=c.memoizedState;return a!==null&&yg(a,h[1])?h[0]:(c.memoizedState=[s,a],s)}function Qb(s,a){var c=Gt();a=a===void 0?null:a;var h=c.memoizedState;if(a!==null&&yg(a,h[1]))return h[0];if(h=s(),ao){Ve(!0);try{s()}finally{Ve(!1)}}return c.memoizedState=[h,a],h}function Ng(s,a,c){return c===void 0||($s&1073741824)!==0&&(Ge&261930)===0?s.memoizedState=a:(s.memoizedState=c,s=Xv(),je.lanes|=s,$r|=s,c)}function Xb(s,a,c,h){return ai(c,a)?c:ul.current!==null?(s=Ng(s,c,h),ai(s,a)||(nn=!0),s):($s&42)===0||($s&1073741824)!==0&&(Ge&261930)===0?(nn=!0,s.memoizedState=c):(s=Xv(),je.lanes|=s,$r|=s,a)}function Jb(s,a,c,h,g){var y=le.p;le.p=y!==0&&8>y?y:8;var w=Q.T,R={};Q.T=R,Dg(s,!1,a,c);try{var V=g(),K=Q.S;if(K!==null&&K(R,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ie=rR(V,h);Fc(s,a,ie,di(s))}else Fc(s,a,h,di(s))}catch(ae){Fc(s,a,{then:function(){},status:"rejected",reason:ae},di())}finally{le.p=y,w!==null&&R.types!==null&&(w.types=R.types),Q.T=w}}function hR(){}function Ig(s,a,c,h){if(s.tag!==5)throw Error(i(476));var g=Zb(s).queue;Jb(s,g,a,fe,c===null?hR:function(){return ev(s),c(h)})}function Zb(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:fe},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:c},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function ev(s){var a=Zb(s);a.next===null&&(a=s.alternate.memoizedState),Fc(s,a.next.queue,{},di())}function kg(){return wn(ru)}function tv(){return Gt().memoizedState}function nv(){return Gt().memoizedState}function dR(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var c=di();s=Br(c);var h=Fr(a,s,c);h!==null&&(Wn(h,a,c),jc(h,a,c)),a={cache:ag()},s.payload=a;return}a=a.return}}function fR(s,a,c){var h=di();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},pd(s)?sv(a,c):(c=Km(s,a,c,h),c!==null&&(Wn(c,s,h),rv(c,a,h)))}function iv(s,a,c){var h=di();Fc(s,a,c,h)}function Fc(s,a,c,h){var g={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(pd(s))sv(a,g);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var w=a.lastRenderedState,R=y(w,c);if(g.hasEagerState=!0,g.eagerState=R,ai(R,w))return Qh(s,a,g,0),bt===null&&Kh(),!1}catch{}if(c=Km(s,a,g,h),c!==null)return Wn(c,s,h),rv(c,a,h),!0}return!1}function Dg(s,a,c,h){if(h={lane:2,revertLane:up(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},pd(s)){if(a)throw Error(i(479))}else a=Km(s,c,h,2),a!==null&&Wn(a,s,2)}function pd(s){var a=s.alternate;return s===je||a!==null&&a===je}function sv(s,a){hl=cd=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function rv(s,a,c){if((c&4194048)!==0){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,ss(s,c)}}var Hc={readContext:wn,use:dd,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt};Hc.useEffectEvent=Lt;var av={readContext:wn,use:dd,useCallback:function(s,a){return Un().memoizedState=[s,a===void 0?null:a],s},useContext:wn,useEffect:Hb,useImperativeHandle:function(s,a,c){c=c!=null?c.concat([s]):null,md(4194308,4,$b.bind(null,a,s),c)},useLayoutEffect:function(s,a){return md(4194308,4,s,a)},useInsertionEffect:function(s,a){md(4,2,s,a)},useMemo:function(s,a){var c=Un();a=a===void 0?null:a;var h=s();if(ao){Ve(!0);try{s()}finally{Ve(!1)}}return c.memoizedState=[h,a],h},useReducer:function(s,a,c){var h=Un();if(c!==void 0){var g=c(a);if(ao){Ve(!0);try{c(a)}finally{Ve(!1)}}}else g=a;return h.memoizedState=h.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},h.queue=s,s=s.dispatch=fR.bind(null,je,s),[h.memoizedState,s]},useRef:function(s){var a=Un();return s={current:s},a.memoizedState=s},useState:function(s){s=Sg(s);var a=s.queue,c=iv.bind(null,je,a);return a.dispatch=c,[s.memoizedState,c]},useDebugValue:Rg,useDeferredValue:function(s,a){var c=Un();return Ng(c,s,a)},useTransition:function(){var s=Sg(!1);return s=Jb.bind(null,je,s.queue,!0,!1),Un().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,c){var h=je,g=Un();if(Xe){if(c===void 0)throw Error(i(407));c=c()}else{if(c=a(),bt===null)throw Error(i(349));(Ge&127)!==0||Cb(h,a,c)}g.memoizedState=c;var y={value:c,getSnapshot:a};return g.queue=y,Hb(Nb.bind(null,h,y,s),[s]),h.flags|=2048,fl(9,{destroy:void 0},Rb.bind(null,h,y,c,a),null),c},useId:function(){var s=Un(),a=bt.identifierPrefix;if(Xe){var c=bs,h=_s;c=(h&~(1<<32-Ne(h)-1)).toString(32)+c,a="_"+a+"R_"+c,c=ud++,0<c&&(a+="H"+c.toString(32)),a+="_"}else c=aR++,a="_"+a+"r_"+c.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:kg,useFormState:Vb,useActionState:Vb,useOptimistic:function(s){var a=Un();a.memoizedState=a.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=Dg.bind(null,je,!0,c),c.dispatch=a,[s,a]},useMemoCache:wg,useCacheRefresh:function(){return Un().memoizedState=dR.bind(null,je)},useEffectEvent:function(s){var a=Un(),c={impl:s};return a.memoizedState=c,function(){if((ot&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}},Mg={readContext:wn,use:dd,useCallback:Kb,useContext:wn,useEffect:Cg,useImperativeHandle:Wb,useInsertionEffect:Gb,useLayoutEffect:Yb,useMemo:Qb,useReducer:fd,useRef:Fb,useState:function(){return fd(Ws)},useDebugValue:Rg,useDeferredValue:function(s,a){var c=Gt();return Xb(c,pt.memoizedState,s,a)},useTransition:function(){var s=fd(Ws)[0],a=Gt().memoizedState;return[typeof s=="boolean"?s:Bc(s),a]},useSyncExternalStore:Ab,useId:tv,useHostTransitionStatus:kg,useFormState:Ub,useActionState:Ub,useOptimistic:function(s,a){var c=Gt();return Db(c,pt,s,a)},useMemoCache:wg,useCacheRefresh:nv};Mg.useEffectEvent=qb;var ov={readContext:wn,use:dd,useCallback:Kb,useContext:wn,useEffect:Cg,useImperativeHandle:Wb,useInsertionEffect:Gb,useLayoutEffect:Yb,useMemo:Qb,useReducer:Tg,useRef:Fb,useState:function(){return Tg(Ws)},useDebugValue:Rg,useDeferredValue:function(s,a){var c=Gt();return pt===null?Ng(c,s,a):Xb(c,pt.memoizedState,s,a)},useTransition:function(){var s=Tg(Ws)[0],a=Gt().memoizedState;return[typeof s=="boolean"?s:Bc(s),a]},useSyncExternalStore:Ab,useId:tv,useHostTransitionStatus:kg,useFormState:Bb,useActionState:Bb,useOptimistic:function(s,a){var c=Gt();return pt!==null?Db(c,pt,s,a):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:wg,useCacheRefresh:nv};ov.useEffectEvent=qb;function Og(s,a,c,h){a=s.memoizedState,c=c(h,a),c=c==null?a:_({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Pg={enqueueSetState:function(s,a,c){s=s._reactInternals;var h=di(),g=Br(h);g.payload=a,c!=null&&(g.callback=c),a=Fr(s,g,h),a!==null&&(Wn(a,s,h),jc(a,s,h))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var h=di(),g=Br(h);g.tag=1,g.payload=a,c!=null&&(g.callback=c),a=Fr(s,g,h),a!==null&&(Wn(a,s,h),jc(a,s,h))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=di(),h=Br(c);h.tag=2,a!=null&&(h.callback=a),a=Fr(s,h,c),a!==null&&(Wn(a,s,c),jc(a,s,c))}};function lv(s,a,c,h,g,y,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,w):a.prototype&&a.prototype.isPureReactComponent?!Nc(c,h)||!Nc(g,y):!0}function cv(s,a,c,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==s&&Pg.enqueueReplaceState(a,a.state,null)}function oo(s,a){var c=a;if("ref"in a){c={};for(var h in a)h!=="ref"&&(c[h]=a[h])}if(s=s.defaultProps){c===a&&(c=_({},c));for(var g in s)c[g]===void 0&&(c[g]=s[g])}return c}function uv(s){Wh(s)}function hv(s){console.error(s)}function dv(s){Wh(s)}function yd(s,a){try{var c=s.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function fv(s,a,c){try{var h=s.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Lg(s,a,c){return c=Br(c),c.tag=3,c.payload={element:null},c.callback=function(){yd(s,a)},c}function mv(s){return s=Br(s),s.tag=3,s}function gv(s,a,c,h){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var y=h.value;s.payload=function(){return g(y)},s.callback=function(){fv(a,c,h)}}var w=c.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(s.callback=function(){fv(a,c,h),typeof g!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var R=h.stack;this.componentDidCatch(h.value,{componentStack:R!==null?R:""})})}function mR(s,a,c,h,g){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=c.alternate,a!==null&&rl(a,c,g,!0),c=li.current,c!==null){switch(c.tag){case 31:case 13:return Ii===null?Nd():c.alternate===null&&jt===0&&(jt=3),c.flags&=-257,c.flags|=65536,c.lanes=g,h===sd?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([h]):a.add(h),op(s,h,g)),!1;case 22:return c.flags|=65536,h===sd?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([h]):c.add(h)),op(s,h,g)),!1}throw Error(i(435,c.tag))}return op(s,h,g),Nd(),!1}if(Xe)return a=li.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,h!==tg&&(s=Error(i(422),{cause:h}),Dc(Ai(s,c)))):(h!==tg&&(a=Error(i(423),{cause:h}),Dc(Ai(a,c))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,h=Ai(h,c),g=Lg(s.stateNode,h,g),dg(s,g),jt!==4&&(jt=2)),!1;var y=Error(i(520),{cause:h});if(y=Ai(y,c),Xc===null?Xc=[y]:Xc.push(y),jt!==4&&(jt=2),a===null)return!0;h=Ai(h,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,s=g&-g,c.lanes|=s,s=Lg(c.stateNode,h,s),dg(c,s),!1;case 1:if(a=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Wr===null||!Wr.has(y))))return c.flags|=65536,g&=-g,c.lanes|=g,g=mv(g),gv(g,s,c,h),dg(c,g),!1}c=c.return}while(c!==null);return!1}var jg=Error(i(461)),nn=!1;function En(s,a,c,h){a.child=s===null?bb(a,null,c,h):ro(a,s.child,c,h)}function pv(s,a,c,h,g){c=c.render;var y=a.ref;if("ref"in h){var w={};for(var R in h)R!=="ref"&&(w[R]=h[R])}else w=h;return to(a),h=_g(s,a,c,w,y,g),R=bg(),s!==null&&!nn?(vg(s,a,g),Ks(s,a,g)):(Xe&&R&&Zm(a),a.flags|=1,En(s,a,h,g),a.child)}function yv(s,a,c,h,g){if(s===null){var y=c.type;return typeof y=="function"&&!Qm(y)&&y.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=y,_v(s,a,y,h,g)):(s=Jh(c.type,null,h,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!Gg(s,g)){var w=y.memoizedProps;if(c=c.compare,c=c!==null?c:Nc,c(w,h)&&s.ref===a.ref)return Ks(s,a,g)}return a.flags|=1,s=Hs(y,h),s.ref=a.ref,s.return=a,a.child=s}function _v(s,a,c,h,g){if(s!==null){var y=s.memoizedProps;if(Nc(y,h)&&s.ref===a.ref)if(nn=!1,a.pendingProps=h=y,Gg(s,g))(s.flags&131072)!==0&&(nn=!0);else return a.lanes=s.lanes,Ks(s,a,g)}return Vg(s,a,c,h,g)}function bv(s,a,c,h){var g=h.children,y=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((a.flags&128)!==0){if(y=y!==null?y.baseLanes|c:c,s!==null){for(h=a.child=s.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;h=g&~y}else h=0,a.child=null;return vv(s,a,y,c,h)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&nd(a,y!==null?y.cachePool:null),y!==null?wb(a,y):mg(),Eb(a);else return h=a.lanes=536870912,vv(s,a,y!==null?y.baseLanes|c:c,c,h)}else y!==null?(nd(a,y.cachePool),wb(a,y),qr(),a.memoizedState=null):(s!==null&&nd(a,null),mg(),qr());return En(s,a,g,c),a.child}function qc(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function vv(s,a,c,h,g){var y=lg();return y=y===null?null:{parent:en._currentValue,pool:y},a.memoizedState={baseLanes:c,cachePool:y},s!==null&&nd(a,null),mg(),Eb(a),s!==null&&rl(s,a,h,!0),a.childLanes=g,null}function _d(s,a){return a=vd({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function xv(s,a,c){return ro(a,s.child,null,c),s=_d(a,a.pendingProps),s.flags|=2,ci(a),a.memoizedState=null,s}function gR(s,a,c){var h=a.pendingProps,g=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(Xe){if(h.mode==="hidden")return s=_d(a,h),a.lanes=536870912,qc(null,s);if(pg(a),(s=wt)?(s=Mx(s,Ni),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Lr!==null?{id:_s,overflow:bs}:null,retryLane:536870912,hydrationErrors:null},c=sb(s),c.return=a,a.child=c,xn=a,wt=null)):s=null,s===null)throw Vr(a);return a.lanes=536870912,null}return _d(a,h)}var y=s.memoizedState;if(y!==null){var w=y.dehydrated;if(pg(a),g)if(a.flags&256)a.flags&=-257,a=xv(s,a,c);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(i(558));else if(nn||rl(s,a,c,!1),g=(c&s.childLanes)!==0,nn||g){if(h=bt,h!==null&&(w=Ar(h,c),w!==0&&w!==y.retryLane))throw y.retryLane=w,Xa(s,w),Wn(h,s,w),jg;Nd(),a=xv(s,a,c)}else s=y.treeContext,wt=ki(w.nextSibling),xn=a,Xe=!0,jr=null,Ni=!1,s!==null&&ob(a,s),a=_d(a,h),a.flags|=4096;return a}return s=Hs(s.child,{mode:h.mode,children:h.children}),s.ref=a.ref,a.child=s,s.return=a,s}function bd(s,a){var c=a.ref;if(c===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(s===null||s.ref!==c)&&(a.flags|=4194816)}}function Vg(s,a,c,h,g){return to(a),c=_g(s,a,c,h,void 0,g),h=bg(),s!==null&&!nn?(vg(s,a,g),Ks(s,a,g)):(Xe&&h&&Zm(a),a.flags|=1,En(s,a,c,g),a.child)}function wv(s,a,c,h,g,y){return to(a),a.updateQueue=null,c=Sb(a,h,c,g),Tb(s),h=bg(),s!==null&&!nn?(vg(s,a,y),Ks(s,a,y)):(Xe&&h&&Zm(a),a.flags|=1,En(s,a,c,y),a.child)}function Ev(s,a,c,h,g){if(to(a),a.stateNode===null){var y=tl,w=c.contextType;typeof w=="object"&&w!==null&&(y=wn(w)),y=new c(h,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Pg,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=h,y.state=a.memoizedState,y.refs={},ug(a),w=c.contextType,y.context=typeof w=="object"&&w!==null?wn(w):tl,y.state=a.memoizedState,w=c.getDerivedStateFromProps,typeof w=="function"&&(Og(a,c,w,h),y.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&Pg.enqueueReplaceState(y,y.state,null),Uc(a,h,y,g),Vc(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(s===null){y=a.stateNode;var R=a.memoizedProps,V=oo(c,R);y.props=V;var K=y.context,ie=c.contextType;w=tl,typeof ie=="object"&&ie!==null&&(w=wn(ie));var ae=c.getDerivedStateFromProps;ie=typeof ae=="function"||typeof y.getSnapshotBeforeUpdate=="function",R=a.pendingProps!==R,ie||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R||K!==w)&&cv(a,y,h,w),zr=!1;var X=a.memoizedState;y.state=X,Uc(a,h,y,g),Vc(),K=a.memoizedState,R||X!==K||zr?(typeof ae=="function"&&(Og(a,c,ae,h),K=a.memoizedState),(V=zr||lv(a,c,V,h,X,K,w))?(ie||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=K),y.props=h,y.state=K,y.context=w,h=V):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{y=a.stateNode,hg(s,a),w=a.memoizedProps,ie=oo(c,w),y.props=ie,ae=a.pendingProps,X=y.context,K=c.contextType,V=tl,typeof K=="object"&&K!==null&&(V=wn(K)),R=c.getDerivedStateFromProps,(K=typeof R=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==ae||X!==V)&&cv(a,y,h,V),zr=!1,X=a.memoizedState,y.state=X,Uc(a,h,y,g),Vc();var Z=a.memoizedState;w!==ae||X!==Z||zr||s!==null&&s.dependencies!==null&&ed(s.dependencies)?(typeof R=="function"&&(Og(a,c,R,h),Z=a.memoizedState),(ie=zr||lv(a,c,ie,h,X,Z,V)||s!==null&&s.dependencies!==null&&ed(s.dependencies))?(K||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,Z,V),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,Z,V)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===s.memoizedProps&&X===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&X===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=Z),y.props=h,y.state=Z,y.context=V,h=ie):(typeof y.componentDidUpdate!="function"||w===s.memoizedProps&&X===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&X===s.memoizedState||(a.flags|=1024),h=!1)}return y=h,bd(s,a),h=(a.flags&128)!==0,y||h?(y=a.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&h?(a.child=ro(a,s.child,null,g),a.child=ro(a,null,c,g)):En(s,a,c,g),a.memoizedState=y.state,s=a.child):s=Ks(s,a,g),s}function Tv(s,a,c,h){return Za(),a.flags|=256,En(s,a,c,h),a.child}var Ug={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zg(s){return{baseLanes:s,cachePool:fb()}}function Bg(s,a,c){return s=s!==null?s.childLanes&~c:0,a&&(s|=hi),s}function Sv(s,a,c){var h=a.pendingProps,g=!1,y=(a.flags&128)!==0,w;if((w=y)||(w=s!==null&&s.memoizedState===null?!1:(qt.current&2)!==0),w&&(g=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,s===null){if(Xe){if(g?Hr(a):qr(),(s=wt)?(s=Mx(s,Ni),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Lr!==null?{id:_s,overflow:bs}:null,retryLane:536870912,hydrationErrors:null},c=sb(s),c.return=a,a.child=c,xn=a,wt=null)):s=null,s===null)throw Vr(a);return Ep(s)?a.lanes=32:a.lanes=536870912,null}var R=h.children;return h=h.fallback,g?(qr(),g=a.mode,R=vd({mode:"hidden",children:R},g),h=Ja(h,g,c,null),R.return=a,h.return=a,R.sibling=h,a.child=R,h=a.child,h.memoizedState=zg(c),h.childLanes=Bg(s,w,c),a.memoizedState=Ug,qc(null,h)):(Hr(a),Fg(a,R))}var V=s.memoizedState;if(V!==null&&(R=V.dehydrated,R!==null)){if(y)a.flags&256?(Hr(a),a.flags&=-257,a=Hg(s,a,c)):a.memoizedState!==null?(qr(),a.child=s.child,a.flags|=128,a=null):(qr(),R=h.fallback,g=a.mode,h=vd({mode:"visible",children:h.children},g),R=Ja(R,g,c,null),R.flags|=2,h.return=a,R.return=a,h.sibling=R,a.child=h,ro(a,s.child,null,c),h=a.child,h.memoizedState=zg(c),h.childLanes=Bg(s,w,c),a.memoizedState=Ug,a=qc(null,h));else if(Hr(a),Ep(R)){if(w=R.nextSibling&&R.nextSibling.dataset,w)var K=w.dgst;w=K,h=Error(i(419)),h.stack="",h.digest=w,Dc({value:h,source:null,stack:null}),a=Hg(s,a,c)}else if(nn||rl(s,a,c,!1),w=(c&s.childLanes)!==0,nn||w){if(w=bt,w!==null&&(h=Ar(w,c),h!==0&&h!==V.retryLane))throw V.retryLane=h,Xa(s,h),Wn(w,s,h),jg;wp(R)||Nd(),a=Hg(s,a,c)}else wp(R)?(a.flags|=192,a.child=s.child,a=null):(s=V.treeContext,wt=ki(R.nextSibling),xn=a,Xe=!0,jr=null,Ni=!1,s!==null&&ob(a,s),a=Fg(a,h.children),a.flags|=4096);return a}return g?(qr(),R=h.fallback,g=a.mode,V=s.child,K=V.sibling,h=Hs(V,{mode:"hidden",children:h.children}),h.subtreeFlags=V.subtreeFlags&65011712,K!==null?R=Hs(K,R):(R=Ja(R,g,c,null),R.flags|=2),R.return=a,h.return=a,h.sibling=R,a.child=h,qc(null,h),h=a.child,R=s.child.memoizedState,R===null?R=zg(c):(g=R.cachePool,g!==null?(V=en._currentValue,g=g.parent!==V?{parent:V,pool:V}:g):g=fb(),R={baseLanes:R.baseLanes|c,cachePool:g}),h.memoizedState=R,h.childLanes=Bg(s,w,c),a.memoizedState=Ug,qc(s.child,h)):(Hr(a),c=s.child,s=c.sibling,c=Hs(c,{mode:"visible",children:h.children}),c.return=a,c.sibling=null,s!==null&&(w=a.deletions,w===null?(a.deletions=[s],a.flags|=16):w.push(s)),a.child=c,a.memoizedState=null,c)}function Fg(s,a){return a=vd({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function vd(s,a){return s=oi(22,s,null,a),s.lanes=0,s}function Hg(s,a,c){return ro(a,s.child,null,c),s=Fg(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Av(s,a,c){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),sg(s.return,a,c)}function qg(s,a,c,h,g,y){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g,treeForkCount:y}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=c,w.tailMode=g,w.treeForkCount=y)}function Cv(s,a,c){var h=a.pendingProps,g=h.revealOrder,y=h.tail;h=h.children;var w=qt.current,R=(w&2)!==0;if(R?(w=w&1|2,a.flags|=128):w&=1,ue(qt,w),En(s,a,h,c),h=Xe?kc:0,!R&&s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Av(s,c,a);else if(s.tag===19)Av(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(g){case"forwards":for(c=a.child,g=null;c!==null;)s=c.alternate,s!==null&&ld(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),qg(a,!1,g,c,y,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&ld(s)===null){a.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}qg(a,!0,c,null,y,h);break;case"together":qg(a,!1,null,null,void 0,h);break;default:a.memoizedState=null}return a.child}function Ks(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),$r|=a.lanes,(c&a.childLanes)===0)if(s!==null){if(rl(s,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,c=Hs(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=Hs(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function Gg(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&ed(s)))}function pR(s,a,c){switch(a.tag){case 3:rt(a,a.stateNode.containerInfo),Ur(a,en,s.memoizedState.cache),Za();break;case 27:case 5:ei(a);break;case 4:rt(a,a.stateNode.containerInfo);break;case 10:Ur(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,pg(a),null;break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(Hr(a),a.flags|=128,null):(c&a.child.childLanes)!==0?Sv(s,a,c):(Hr(a),s=Ks(s,a,c),s!==null?s.sibling:null);Hr(a);break;case 19:var g=(s.flags&128)!==0;if(h=(c&a.childLanes)!==0,h||(rl(s,a,c,!1),h=(c&a.childLanes)!==0),g){if(h)return Cv(s,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ue(qt,qt.current),h)break;return null;case 22:return a.lanes=0,bv(s,a,c,a.pendingProps);case 24:Ur(a,en,s.memoizedState.cache)}return Ks(s,a,c)}function Rv(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps)nn=!0;else{if(!Gg(s,c)&&(a.flags&128)===0)return nn=!1,pR(s,a,c);nn=(s.flags&131072)!==0}else nn=!1,Xe&&(a.flags&1048576)!==0&&ab(a,kc,a.index);switch(a.lanes=0,a.tag){case 16:e:{var h=a.pendingProps;if(s=io(a.elementType),a.type=s,typeof s=="function")Qm(s)?(h=oo(s,h),a.tag=1,a=Ev(null,a,s,h,c)):(a.tag=0,a=Vg(null,a,s,h,c));else{if(s!=null){var g=s.$$typeof;if(g===Y){a.tag=11,a=pv(null,a,s,h,c);break e}else if(g===I){a.tag=14,a=yv(null,a,s,h,c);break e}}throw a=Ie(s)||s,Error(i(306,a,""))}}return a;case 0:return Vg(s,a,a.type,a.pendingProps,c);case 1:return h=a.type,g=oo(h,a.pendingProps),Ev(s,a,h,g,c);case 3:e:{if(rt(a,a.stateNode.containerInfo),s===null)throw Error(i(387));h=a.pendingProps;var y=a.memoizedState;g=y.element,hg(s,a),Uc(a,h,null,c);var w=a.memoizedState;if(h=w.cache,Ur(a,en,h),h!==y.cache&&rg(a,[en],c,!0),Vc(),h=w.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=Tv(s,a,h,c);break e}else if(h!==g){g=Ai(Error(i(424)),a),Dc(g),a=Tv(s,a,h,c);break e}else for(s=a.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,wt=ki(s.firstChild),xn=a,Xe=!0,jr=null,Ni=!0,c=bb(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Za(),h===g){a=Ks(s,a,c);break e}En(s,a,h,c)}a=a.child}return a;case 26:return bd(s,a),s===null?(c=Ux(a.type,null,a.pendingProps,null))?a.memoizedState=c:Xe||(c=a.type,s=a.pendingProps,h=Ld(Te.current).createElement(c),h[Xt]=a,h[fn]=s,Tn(h,c,s),Jt(h),a.stateNode=h):a.memoizedState=Ux(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return ei(a),s===null&&Xe&&(h=a.stateNode=Lx(a.type,a.pendingProps,Te.current),xn=a,Ni=!0,g=wt,Jr(a.type)?(Tp=g,wt=ki(h.firstChild)):wt=g),En(s,a,a.pendingProps.children,c),bd(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Xe&&((g=h=wt)&&(h=YR(h,a.type,a.pendingProps,Ni),h!==null?(a.stateNode=h,xn=a,wt=ki(h.firstChild),Ni=!1,g=!0):g=!1),g||Vr(a)),ei(a),g=a.type,y=a.pendingProps,w=s!==null?s.memoizedProps:null,h=y.children,bp(g,y)?h=null:w!==null&&bp(g,w)&&(a.flags|=32),a.memoizedState!==null&&(g=_g(s,a,oR,null,null,c),ru._currentValue=g),bd(s,a),En(s,a,h,c),a.child;case 6:return s===null&&Xe&&((s=c=wt)&&(c=$R(c,a.pendingProps,Ni),c!==null?(a.stateNode=c,xn=a,wt=null,s=!0):s=!1),s||Vr(a)),null;case 13:return Sv(s,a,c);case 4:return rt(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=ro(a,null,h,c):En(s,a,h,c),a.child;case 11:return pv(s,a,a.type,a.pendingProps,c);case 7:return En(s,a,a.pendingProps,c),a.child;case 8:return En(s,a,a.pendingProps.children,c),a.child;case 12:return En(s,a,a.pendingProps.children,c),a.child;case 10:return h=a.pendingProps,Ur(a,a.type,h.value),En(s,a,h.children,c),a.child;case 9:return g=a.type._context,h=a.pendingProps.children,to(a),g=wn(g),h=h(g),a.flags|=1,En(s,a,h,c),a.child;case 14:return yv(s,a,a.type,a.pendingProps,c);case 15:return _v(s,a,a.type,a.pendingProps,c);case 19:return Cv(s,a,c);case 31:return gR(s,a,c);case 22:return bv(s,a,c,a.pendingProps);case 24:return to(a),h=wn(en),s===null?(g=lg(),g===null&&(g=bt,y=ag(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=c),g=y),a.memoizedState={parent:h,cache:g},ug(a),Ur(a,en,g)):((s.lanes&c)!==0&&(hg(s,a),Uc(a,null,null,c),Vc()),g=s.memoizedState,y=a.memoizedState,g.parent!==h?(g={parent:h,cache:h},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Ur(a,en,h)):(h=y.cache,Ur(a,en,h),h!==g.cache&&rg(a,[en],c,!0))),En(s,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Qs(s){s.flags|=4}function Yg(s,a,c,h,g){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(g&335544128)===g)if(s.stateNode.complete)s.flags|=8192;else if(tx())s.flags|=8192;else throw so=sd,cg}else s.flags&=-16777217}function Nv(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!qx(a))if(tx())s.flags|=8192;else throw so=sd,cg}function xd(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Vs():536870912,s.lanes|=a,yl|=a)}function Gc(s,a){if(!Xe)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Et(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(a)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=c,a}function yR(s,a,c){var h=a.pendingProps;switch(eg(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(a),null;case 1:return Et(a),null;case 3:return c=a.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),Ys(en),ct(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(sl(a)?Qs(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ng())),Et(a),null;case 26:var g=a.type,y=a.memoizedState;return s===null?(Qs(a),y!==null?(Et(a),Nv(a,y)):(Et(a),Yg(a,g,null,h,c))):y?y!==s.memoizedState?(Qs(a),Et(a),Nv(a,y)):(Et(a),a.flags&=-16777217):(s=s.memoizedProps,s!==h&&Qs(a),Et(a),Yg(a,g,s,h,c)),null;case 27:if(ce(a),c=Te.current,g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&Qs(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return Et(a),null}s=de.current,sl(a)?lb(a):(s=Lx(g,h,c),a.stateNode=s,Qs(a))}return Et(a),null;case 5:if(ce(a),g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&Qs(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return Et(a),null}if(y=de.current,sl(a))lb(a);else{var w=Ld(Te.current);switch(y){case 1:y=w.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=w.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=w.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=w.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=w.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof h.is=="string"?w.createElement("select",{is:h.is}):w.createElement("select"),h.multiple?y.multiple=!0:h.size&&(y.size=h.size);break;default:y=typeof h.is=="string"?w.createElement(g,{is:h.is}):w.createElement(g)}}y[Xt]=a,y[fn]=h;e:for(w=a.child;w!==null;){if(w.tag===5||w.tag===6)y.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===a)break e;for(;w.sibling===null;){if(w.return===null||w.return===a)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}a.stateNode=y;e:switch(Tn(y,g,h),g){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Qs(a)}}return Et(a),Yg(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,c),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==h&&Qs(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(i(166));if(s=Te.current,sl(a)){if(s=a.stateNode,c=a.memoizedProps,h=null,g=xn,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}s[Xt]=a,s=!!(s.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||Sx(s.nodeValue,c)),s||Vr(a,!0)}else s=Ld(s).createTextNode(h),s[Xt]=a,a.stateNode=s}return Et(a),null;case 31:if(c=a.memoizedState,s===null||s.memoizedState!==null){if(h=sl(a),c!==null){if(s===null){if(!h)throw Error(i(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Xt]=a}else Za(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Et(a),s=!1}else c=ng(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=c),s=!0;if(!s)return a.flags&256?(ci(a),a):(ci(a),null);if((a.flags&128)!==0)throw Error(i(558))}return Et(a),null;case 13:if(h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=sl(a),h!==null&&h.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Xt]=a}else Za(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Et(a),g=!1}else g=ng(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(ci(a),a):(ci(a),null)}return ci(a),(a.flags&128)!==0?(a.lanes=c,a):(c=h!==null,s=s!==null&&s.memoizedState!==null,c&&(h=a.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==g&&(h.flags|=2048)),c!==s&&c&&(a.child.flags|=8192),xd(a,a.updateQueue),Et(a),null);case 4:return ct(),s===null&&mp(a.stateNode.containerInfo),Et(a),null;case 10:return Ys(a.type),Et(a),null;case 19:if(ne(qt),h=a.memoizedState,h===null)return Et(a),null;if(g=(a.flags&128)!==0,y=h.rendering,y===null)if(g)Gc(h,!1);else{if(jt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(y=ld(s),y!==null){for(a.flags|=128,Gc(h,!1),s=y.updateQueue,a.updateQueue=s,xd(a,s),a.subtreeFlags=0,s=c,c=a.child;c!==null;)ib(c,s),c=c.sibling;return ue(qt,qt.current&1|2),Xe&&qs(a,h.treeForkCount),a.child}s=s.sibling}h.tail!==null&&dn()>Ad&&(a.flags|=128,g=!0,Gc(h,!1),a.lanes=4194304)}else{if(!g)if(s=ld(y),s!==null){if(a.flags|=128,g=!0,s=s.updateQueue,a.updateQueue=s,xd(a,s),Gc(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!Xe)return Et(a),null}else 2*dn()-h.renderingStartTime>Ad&&c!==536870912&&(a.flags|=128,g=!0,Gc(h,!1),a.lanes=4194304);h.isBackwards?(y.sibling=a.child,a.child=y):(s=h.last,s!==null?s.sibling=y:a.child=y,h.last=y)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=dn(),s.sibling=null,c=qt.current,ue(qt,g?c&1|2:c&1),Xe&&qs(a,h.treeForkCount),s):(Et(a),null);case 22:case 23:return ci(a),gg(),h=a.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(c&536870912)!==0&&(a.flags&128)===0&&(Et(a),a.subtreeFlags&6&&(a.flags|=8192)):Et(a),c=a.updateQueue,c!==null&&xd(a,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==c&&(a.flags|=2048),s!==null&&ne(no),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Ys(en),Et(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function _R(s,a){switch(eg(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ys(en),ct(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return ce(a),null;case 31:if(a.memoizedState!==null){if(ci(a),a.alternate===null)throw Error(i(340));Za()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(ci(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Za()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return ne(qt),null;case 4:return ct(),null;case 10:return Ys(a.type),null;case 22:case 23:return ci(a),gg(),s!==null&&ne(no),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Ys(en),null;case 25:return null;default:return null}}function Iv(s,a){switch(eg(a),a.tag){case 3:Ys(en),ct();break;case 26:case 27:case 5:ce(a);break;case 4:ct();break;case 31:a.memoizedState!==null&&ci(a);break;case 13:ci(a);break;case 19:ne(qt);break;case 10:Ys(a.type);break;case 22:case 23:ci(a),gg(),s!==null&&ne(no);break;case 24:Ys(en)}}function Yc(s,a){try{var c=a.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var g=h.next;c=g;do{if((c.tag&s)===s){h=void 0;var y=c.create,w=c.inst;h=y(),w.destroy=h}c=c.next}while(c!==g)}}catch(R){ft(a,a.return,R)}}function Gr(s,a,c){try{var h=a.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var y=g.next;h=y;do{if((h.tag&s)===s){var w=h.inst,R=w.destroy;if(R!==void 0){w.destroy=void 0,g=a;var V=c,K=R;try{K()}catch(ie){ft(g,V,ie)}}}h=h.next}while(h!==y)}}catch(ie){ft(a,a.return,ie)}}function kv(s){var a=s.updateQueue;if(a!==null){var c=s.stateNode;try{xb(a,c)}catch(h){ft(s,s.return,h)}}}function Dv(s,a,c){c.props=oo(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(h){ft(s,a,h)}}function $c(s,a){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof c=="function"?s.refCleanup=c(h):c.current=h}}catch(g){ft(s,a,g)}}function vs(s,a){var c=s.ref,h=s.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(g){ft(s,a,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){ft(s,a,g)}else c.current=null}function Mv(s){var a=s.type,c=s.memoizedProps,h=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(g){ft(s,s.return,g)}}function $g(s,a,c){try{var h=s.stateNode;zR(h,s.type,c,a),h[fn]=a}catch(g){ft(s,s.return,g)}}function Ov(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Jr(s.type)||s.tag===4}function Wg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Ov(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Jr(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Kg(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(s),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Bi));else if(h!==4&&(h===27&&Jr(s.type)&&(c=s.stateNode,a=null),s=s.child,s!==null))for(Kg(s,a,c),s=s.sibling;s!==null;)Kg(s,a,c),s=s.sibling}function wd(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(h!==4&&(h===27&&Jr(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(wd(s,a,c),s=s.sibling;s!==null;)wd(s,a,c),s=s.sibling}function Pv(s){var a=s.stateNode,c=s.memoizedProps;try{for(var h=s.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);Tn(a,h,c),a[Xt]=s,a[fn]=c}catch(y){ft(s,s.return,y)}}var Xs=!1,sn=!1,Qg=!1,Lv=typeof WeakSet=="function"?WeakSet:Set,gn=null;function bR(s,a){if(s=s.containerInfo,yp=Hd,s=W_(s),Hm(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var w=0,R=-1,V=-1,K=0,ie=0,ae=s,X=null;t:for(;;){for(var Z;ae!==c||g!==0&&ae.nodeType!==3||(R=w+g),ae!==y||h!==0&&ae.nodeType!==3||(V=w+h),ae.nodeType===3&&(w+=ae.nodeValue.length),(Z=ae.firstChild)!==null;)X=ae,ae=Z;for(;;){if(ae===s)break t;if(X===c&&++K===g&&(R=w),X===y&&++ie===h&&(V=w),(Z=ae.nextSibling)!==null)break;ae=X,X=ae.parentNode}ae=Z}c=R===-1||V===-1?null:{start:R,end:V}}else c=null}c=c||{start:0,end:0}}else c=null;for(_p={focusedElem:s,selectionRange:c},Hd=!1,gn=a;gn!==null;)if(a=gn,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,gn=s;else for(;gn!==null;){switch(a=gn,y=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(c=0;c<s.length;c++)g=s[c],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,c=a,g=y.memoizedProps,y=y.memoizedState,h=c.stateNode;try{var _e=oo(c.type,g);s=h.getSnapshotBeforeUpdate(_e,y),h.__reactInternalSnapshotBeforeUpdate=s}catch(Ae){ft(c,c.return,Ae)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,c=s.nodeType,c===9)xp(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":xp(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,gn=s;break}gn=a.return}}function jv(s,a,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Zs(s,c),h&4&&Yc(5,c);break;case 1:if(Zs(s,c),h&4)if(s=c.stateNode,a===null)try{s.componentDidMount()}catch(w){ft(c,c.return,w)}else{var g=oo(c.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(g,a,s.__reactInternalSnapshotBeforeUpdate)}catch(w){ft(c,c.return,w)}}h&64&&kv(c),h&512&&$c(c,c.return);break;case 3:if(Zs(s,c),h&64&&(s=c.updateQueue,s!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{xb(s,a)}catch(w){ft(c,c.return,w)}}break;case 27:a===null&&h&4&&Pv(c);case 26:case 5:Zs(s,c),a===null&&h&4&&Mv(c),h&512&&$c(c,c.return);break;case 12:Zs(s,c);break;case 31:Zs(s,c),h&4&&zv(s,c);break;case 13:Zs(s,c),h&4&&Bv(s,c),h&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=RR.bind(null,c),WR(s,c))));break;case 22:if(h=c.memoizedState!==null||Xs,!h){a=a!==null&&a.memoizedState!==null||sn,g=Xs;var y=sn;Xs=h,(sn=a)&&!y?er(s,c,(c.subtreeFlags&8772)!==0):Zs(s,c),Xs=g,sn=y}break;case 30:break;default:Zs(s,c)}}function Vv(s){var a=s.alternate;a!==null&&(s.alternate=null,Vv(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Bo(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ct=null,qn=!1;function Js(s,a,c){for(c=c.child;c!==null;)Uv(s,a,c),c=c.sibling}function Uv(s,a,c){if(ge&&typeof ge.onCommitFiberUnmount=="function")try{ge.onCommitFiberUnmount(ee,c)}catch{}switch(c.tag){case 26:sn||vs(c,a),Js(s,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:sn||vs(c,a);var h=Ct,g=qn;Jr(c.type)&&(Ct=c.stateNode,qn=!1),Js(s,a,c),nu(c.stateNode),Ct=h,qn=g;break;case 5:sn||vs(c,a);case 6:if(h=Ct,g=qn,Ct=null,Js(s,a,c),Ct=h,qn=g,Ct!==null)if(qn)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(c.stateNode)}catch(y){ft(c,a,y)}else try{Ct.removeChild(c.stateNode)}catch(y){ft(c,a,y)}break;case 18:Ct!==null&&(qn?(s=Ct,kx(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),Sl(s)):kx(Ct,c.stateNode));break;case 4:h=Ct,g=qn,Ct=c.stateNode.containerInfo,qn=!0,Js(s,a,c),Ct=h,qn=g;break;case 0:case 11:case 14:case 15:Gr(2,c,a),sn||Gr(4,c,a),Js(s,a,c);break;case 1:sn||(vs(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"&&Dv(c,a,h)),Js(s,a,c);break;case 21:Js(s,a,c);break;case 22:sn=(h=sn)||c.memoizedState!==null,Js(s,a,c),sn=h;break;default:Js(s,a,c)}}function zv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Sl(s)}catch(c){ft(a,a.return,c)}}}function Bv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Sl(s)}catch(c){ft(a,a.return,c)}}function vR(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new Lv),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new Lv),a;default:throw Error(i(435,s.tag))}}function Ed(s,a){var c=vR(s);a.forEach(function(h){if(!c.has(h)){c.add(h);var g=NR.bind(null,s,h);h.then(g,g)}})}function Gn(s,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h],y=s,w=a,R=w;e:for(;R!==null;){switch(R.tag){case 27:if(Jr(R.type)){Ct=R.stateNode,qn=!1;break e}break;case 5:Ct=R.stateNode,qn=!1;break e;case 3:case 4:Ct=R.stateNode.containerInfo,qn=!0;break e}R=R.return}if(Ct===null)throw Error(i(160));Uv(y,w,g),Ct=null,qn=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Fv(a,s),a=a.sibling}var $i=null;function Fv(s,a){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Gn(a,s),Yn(s),h&4&&(Gr(3,s,s.return),Yc(3,s),Gr(5,s,s.return));break;case 1:Gn(a,s),Yn(s),h&512&&(sn||c===null||vs(c,c.return)),h&64&&Xs&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var g=$i;if(Gn(a,s),Yn(s),h&512&&(sn||c===null||vs(c,c.return)),h&4){var y=c!==null?c.memoizedState:null;if(h=s.memoizedState,c===null)if(h===null)if(s.stateNode===null){e:{h=s.type,c=s.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":y=g.getElementsByTagName("title")[0],(!y||y[as]||y[Xt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(h),g.head.insertBefore(y,g.querySelector("head > title"))),Tn(y,h,c),y[Xt]=s,Jt(y),h=y;break e;case"link":var w=Fx("link","href",g).get(h+(c.href||""));if(w){for(var R=0;R<w.length;R++)if(y=w[R],y.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){w.splice(R,1);break t}}y=g.createElement(h),Tn(y,h,c),g.head.appendChild(y);break;case"meta":if(w=Fx("meta","content",g).get(h+(c.content||""))){for(R=0;R<w.length;R++)if(y=w[R],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){w.splice(R,1);break t}}y=g.createElement(h),Tn(y,h,c),g.head.appendChild(y);break;default:throw Error(i(468,h))}y[Xt]=s,Jt(y),h=y}s.stateNode=h}else Hx(g,s.type,s.stateNode);else s.stateNode=Bx(g,h,s.memoizedProps);else y!==h?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,h===null?Hx(g,s.type,s.stateNode):Bx(g,h,s.memoizedProps)):h===null&&s.stateNode!==null&&$g(s,s.memoizedProps,c.memoizedProps)}break;case 27:Gn(a,s),Yn(s),h&512&&(sn||c===null||vs(c,c.return)),c!==null&&h&4&&$g(s,s.memoizedProps,c.memoizedProps);break;case 5:if(Gn(a,s),Yn(s),h&512&&(sn||c===null||vs(c,c.return)),s.flags&32){g=s.stateNode;try{Hn(g,"")}catch(_e){ft(s,s.return,_e)}}h&4&&s.stateNode!=null&&(g=s.memoizedProps,$g(s,g,c!==null?c.memoizedProps:g)),h&1024&&(Qg=!0);break;case 6:if(Gn(a,s),Yn(s),h&4){if(s.stateNode===null)throw Error(i(162));h=s.memoizedProps,c=s.stateNode;try{c.nodeValue=h}catch(_e){ft(s,s.return,_e)}}break;case 3:if(Ud=null,g=$i,$i=jd(a.containerInfo),Gn(a,s),$i=g,Yn(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Sl(a.containerInfo)}catch(_e){ft(s,s.return,_e)}Qg&&(Qg=!1,Hv(s));break;case 4:h=$i,$i=jd(s.stateNode.containerInfo),Gn(a,s),Yn(s),$i=h;break;case 12:Gn(a,s),Yn(s);break;case 31:Gn(a,s),Yn(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Ed(s,h)));break;case 13:Gn(a,s),Yn(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Sd=dn()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Ed(s,h)));break;case 22:g=s.memoizedState!==null;var V=c!==null&&c.memoizedState!==null,K=Xs,ie=sn;if(Xs=K||g,sn=ie||V,Gn(a,s),sn=ie,Xs=K,Yn(s),h&8192)e:for(a=s.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(c===null||V||Xs||sn||lo(s)),c=null,a=s;;){if(a.tag===5||a.tag===26){if(c===null){V=c=a;try{if(y=V.stateNode,g)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{R=V.stateNode;var ae=V.memoizedProps.style,X=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;R.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(_e){ft(V,V.return,_e)}}}else if(a.tag===6){if(c===null){V=a;try{V.stateNode.nodeValue=g?"":V.memoizedProps}catch(_e){ft(V,V.return,_e)}}}else if(a.tag===18){if(c===null){V=a;try{var Z=V.stateNode;g?Dx(Z,!0):Dx(V.stateNode,!1)}catch(_e){ft(V,V.return,_e)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=s.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,Ed(s,c))));break;case 19:Gn(a,s),Yn(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Ed(s,h)));break;case 30:break;case 21:break;default:Gn(a,s),Yn(s)}}function Yn(s){var a=s.flags;if(a&2){try{for(var c,h=s.return;h!==null;){if(Ov(h)){c=h;break}h=h.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var g=c.stateNode,y=Wg(s);wd(s,y,g);break;case 5:var w=c.stateNode;c.flags&32&&(Hn(w,""),c.flags&=-33);var R=Wg(s);wd(s,R,w);break;case 3:case 4:var V=c.stateNode.containerInfo,K=Wg(s);Kg(s,K,V);break;default:throw Error(i(161))}}catch(ie){ft(s,s.return,ie)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function Hv(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;Hv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Zs(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)jv(s,a.alternate,a),a=a.sibling}function lo(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Gr(4,a,a.return),lo(a);break;case 1:vs(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&Dv(a,a.return,c),lo(a);break;case 27:nu(a.stateNode);case 26:case 5:vs(a,a.return),lo(a);break;case 22:a.memoizedState===null&&lo(a);break;case 30:lo(a);break;default:lo(a)}s=s.sibling}}function er(s,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,g=s,y=a,w=y.flags;switch(y.tag){case 0:case 11:case 15:er(g,y,c),Yc(4,y);break;case 1:if(er(g,y,c),h=y,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(K){ft(h,h.return,K)}if(h=y,g=h.updateQueue,g!==null){var R=h.stateNode;try{var V=g.shared.hiddenCallbacks;if(V!==null)for(g.shared.hiddenCallbacks=null,g=0;g<V.length;g++)vb(V[g],R)}catch(K){ft(h,h.return,K)}}c&&w&64&&kv(y),$c(y,y.return);break;case 27:Pv(y);case 26:case 5:er(g,y,c),c&&h===null&&w&4&&Mv(y),$c(y,y.return);break;case 12:er(g,y,c);break;case 31:er(g,y,c),c&&w&4&&zv(g,y);break;case 13:er(g,y,c),c&&w&4&&Bv(g,y);break;case 22:y.memoizedState===null&&er(g,y,c),$c(y,y.return);break;case 30:break;default:er(g,y,c)}a=a.sibling}}function Xg(s,a){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&Mc(c))}function Jg(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Mc(s))}function Wi(s,a,c,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)qv(s,a,c,h),a=a.sibling}function qv(s,a,c,h){var g=a.flags;switch(a.tag){case 0:case 11:case 15:Wi(s,a,c,h),g&2048&&Yc(9,a);break;case 1:Wi(s,a,c,h);break;case 3:Wi(s,a,c,h),g&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Mc(s)));break;case 12:if(g&2048){Wi(s,a,c,h),s=a.stateNode;try{var y=a.memoizedProps,w=y.id,R=y.onPostCommit;typeof R=="function"&&R(w,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(V){ft(a,a.return,V)}}else Wi(s,a,c,h);break;case 31:Wi(s,a,c,h);break;case 13:Wi(s,a,c,h);break;case 23:break;case 22:y=a.stateNode,w=a.alternate,a.memoizedState!==null?y._visibility&2?Wi(s,a,c,h):Wc(s,a):y._visibility&2?Wi(s,a,c,h):(y._visibility|=2,ml(s,a,c,h,(a.subtreeFlags&10256)!==0||!1)),g&2048&&Xg(w,a);break;case 24:Wi(s,a,c,h),g&2048&&Jg(a.alternate,a);break;default:Wi(s,a,c,h)}}function ml(s,a,c,h,g){for(g=g&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var y=s,w=a,R=c,V=h,K=w.flags;switch(w.tag){case 0:case 11:case 15:ml(y,w,R,V,g),Yc(8,w);break;case 23:break;case 22:var ie=w.stateNode;w.memoizedState!==null?ie._visibility&2?ml(y,w,R,V,g):Wc(y,w):(ie._visibility|=2,ml(y,w,R,V,g)),g&&K&2048&&Xg(w.alternate,w);break;case 24:ml(y,w,R,V,g),g&&K&2048&&Jg(w.alternate,w);break;default:ml(y,w,R,V,g)}a=a.sibling}}function Wc(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=s,h=a,g=h.flags;switch(h.tag){case 22:Wc(c,h),g&2048&&Xg(h.alternate,h);break;case 24:Wc(c,h),g&2048&&Jg(h.alternate,h);break;default:Wc(c,h)}a=a.sibling}}var Kc=8192;function gl(s,a,c){if(s.subtreeFlags&Kc)for(s=s.child;s!==null;)Gv(s,a,c),s=s.sibling}function Gv(s,a,c){switch(s.tag){case 26:gl(s,a,c),s.flags&Kc&&s.memoizedState!==null&&aN(c,$i,s.memoizedState,s.memoizedProps);break;case 5:gl(s,a,c);break;case 3:case 4:var h=$i;$i=jd(s.stateNode.containerInfo),gl(s,a,c),$i=h;break;case 22:s.memoizedState===null&&(h=s.alternate,h!==null&&h.memoizedState!==null?(h=Kc,Kc=16777216,gl(s,a,c),Kc=h):gl(s,a,c));break;default:gl(s,a,c)}}function Yv(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Qc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];gn=h,Wv(h,s)}Yv(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)$v(s),s=s.sibling}function $v(s){switch(s.tag){case 0:case 11:case 15:Qc(s),s.flags&2048&&Gr(9,s,s.return);break;case 3:Qc(s);break;case 12:Qc(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Td(s)):Qc(s);break;default:Qc(s)}}function Td(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];gn=h,Wv(h,s)}Yv(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Gr(8,a,a.return),Td(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,Td(a));break;default:Td(a)}s=s.sibling}}function Wv(s,a){for(;gn!==null;){var c=gn;switch(c.tag){case 0:case 11:case 15:Gr(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Mc(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,gn=h;else e:for(c=s;gn!==null;){h=gn;var g=h.sibling,y=h.return;if(Vv(h),h===c){gn=null;break e}if(g!==null){g.return=y,gn=g;break e}gn=y}}}var xR={getCacheForType:function(s){var a=wn(en),c=a.data.get(s);return c===void 0&&(c=s(),a.data.set(s,c)),c},cacheSignal:function(){return wn(en).controller.signal}},wR=typeof WeakMap=="function"?WeakMap:Map,ot=0,bt=null,Fe=null,Ge=0,dt=0,ui=null,Yr=!1,pl=!1,Zg=!1,tr=0,jt=0,$r=0,co=0,ep=0,hi=0,yl=0,Xc=null,$n=null,tp=!1,Sd=0,Kv=0,Ad=1/0,Cd=null,Wr=null,cn=0,Kr=null,_l=null,nr=0,np=0,ip=null,Qv=null,Jc=0,sp=null;function di(){return(ot&2)!==0&&Ge!==0?Ge&-Ge:Q.T!==null?up():Rh()}function Xv(){if(hi===0)if((Ge&536870912)===0||Xe){var s=Ft;Ft<<=1,(Ft&3932160)===0&&(Ft=262144),hi=s}else hi=536870912;return s=li.current,s!==null&&(s.flags|=32),hi}function Wn(s,a,c){(s===bt&&(dt===2||dt===9)||s.cancelPendingCommit!==null)&&(bl(s,0),Qr(s,Ge,hi,!1)),ni(s,c),((ot&2)===0||s!==bt)&&(s===bt&&((ot&2)===0&&(co|=c),jt===4&&Qr(s,Ge,hi,!1)),xs(s))}function Jv(s,a,c){if((ot&6)!==0)throw Error(i(327));var h=!c&&(a&127)===0&&(a&s.expiredLanes)===0||bn(s,a),g=h?SR(s,a):ap(s,a,!0),y=h;do{if(g===0){pl&&!h&&Qr(s,a,0,!1);break}else{if(c=s.current.alternate,y&&!ER(c)){g=ap(s,a,!1),y=!1;continue}if(g===2){if(y=a,s.errorRecoveryDisabledLanes&y)var w=0;else w=s.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;e:{var R=s;g=Xc;var V=R.current.memoizedState.isDehydrated;if(V&&(bl(R,w).flags|=256),w=ap(R,w,!1),w!==2){if(Zg&&!V){R.errorRecoveryDisabledLanes|=y,co|=y,g=4;break e}y=$n,$n=g,y!==null&&($n===null?$n=y:$n.push.apply($n,y))}g=w}if(y=!1,g!==2)continue}}if(g===1){bl(s,0),Qr(s,a,0,!0);break}e:{switch(h=s,y=g,y){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Qr(h,a,hi,!Yr);break e;case 2:$n=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(g=Sd+300-dn(),10<g)){if(Qr(h,a,hi,!Yr),_n(h,0,!0)!==0)break e;nr=a,h.timeoutHandle=Nx(Zv.bind(null,h,c,$n,Cd,tp,a,hi,co,yl,Yr,y,"Throttled",-0,0),g);break e}Zv(h,c,$n,Cd,tp,a,hi,co,yl,Yr,y,null,-0,0)}}break}while(!0);xs(s)}function Zv(s,a,c,h,g,y,w,R,V,K,ie,ae,X,Z){if(s.timeoutHandle=-1,ae=a.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bi},Gv(a,y,ae);var _e=(y&62914560)===y?Sd-dn():(y&4194048)===y?Kv-dn():0;if(_e=oN(ae,_e),_e!==null){nr=y,s.cancelPendingCommit=_e(ox.bind(null,s,a,y,c,h,g,w,R,V,ie,ae,null,X,Z)),Qr(s,y,w,!K);return}}ox(s,a,y,c,h,g,w,R,V)}function ER(s){for(var a=s;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var g=c[h],y=g.getSnapshot;g=g.value;try{if(!ai(y(),g))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Qr(s,a,c,h){a&=~ep,a&=~co,s.suspendedLanes|=a,s.pingedLanes&=~a,h&&(s.warmLanes|=a),h=s.expirationTimes;for(var g=a;0<g;){var y=31-Ne(g),w=1<<y;h[y]=-1,g&=~w}c!==0&&ii(s,c,a)}function Rd(){return(ot&6)===0?(Zc(0),!1):!0}function rp(){if(Fe!==null){if(dt===0)var s=Fe.return;else s=Fe,Gs=eo=null,xg(s),cl=null,Pc=0,s=Fe;for(;s!==null;)Iv(s.alternate,s),s=s.return;Fe=null}}function bl(s,a){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,HR(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),nr=0,rp(),bt=s,Fe=c=Hs(s.current,null),Ge=a,dt=0,ui=null,Yr=!1,pl=bn(s,a),Zg=!1,yl=hi=ep=co=$r=jt=0,$n=Xc=null,tp=!1,(a&8)!==0&&(a|=a&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=a;0<h;){var g=31-Ne(h),y=1<<g;a|=s[g],h&=~y}return tr=a,Kh(),c}function ex(s,a){je=null,Q.H=Hc,a===ll||a===id?(a=pb(),dt=3):a===cg?(a=pb(),dt=4):dt=a===jg?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ui=a,Fe===null&&(jt=1,yd(s,Ai(a,s.current)))}function tx(){var s=li.current;return s===null?!0:(Ge&4194048)===Ge?Ii===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?s===Ii:!1}function nx(){var s=Q.H;return Q.H=Hc,s===null?Hc:s}function ix(){var s=Q.A;return Q.A=xR,s}function Nd(){jt=4,Yr||(Ge&4194048)!==Ge&&li.current!==null||(pl=!0),($r&134217727)===0&&(co&134217727)===0||bt===null||Qr(bt,Ge,hi,!1)}function ap(s,a,c){var h=ot;ot|=2;var g=nx(),y=ix();(bt!==s||Ge!==a)&&(Cd=null,bl(s,a)),a=!1;var w=jt;e:do try{if(dt!==0&&Fe!==null){var R=Fe,V=ui;switch(dt){case 8:rp(),w=6;break e;case 3:case 2:case 9:case 6:li.current===null&&(a=!0);var K=dt;if(dt=0,ui=null,vl(s,R,V,K),c&&pl){w=0;break e}break;default:K=dt,dt=0,ui=null,vl(s,R,V,K)}}TR(),w=jt;break}catch(ie){ex(s,ie)}while(!0);return a&&s.shellSuspendCounter++,Gs=eo=null,ot=h,Q.H=g,Q.A=y,Fe===null&&(bt=null,Ge=0,Kh()),w}function TR(){for(;Fe!==null;)sx(Fe)}function SR(s,a){var c=ot;ot|=2;var h=nx(),g=ix();bt!==s||Ge!==a?(Cd=null,Ad=dn()+500,bl(s,a)):pl=bn(s,a);e:do try{if(dt!==0&&Fe!==null){a=Fe;var y=ui;t:switch(dt){case 1:dt=0,ui=null,vl(s,a,y,1);break;case 2:case 9:if(mb(y)){dt=0,ui=null,rx(a);break}a=function(){dt!==2&&dt!==9||bt!==s||(dt=7),xs(s)},y.then(a,a);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:mb(y)?(dt=0,ui=null,rx(a)):(dt=0,ui=null,vl(s,a,y,7));break;case 5:var w=null;switch(Fe.tag){case 26:w=Fe.memoizedState;case 5:case 27:var R=Fe;if(w?qx(w):R.stateNode.complete){dt=0,ui=null;var V=R.sibling;if(V!==null)Fe=V;else{var K=R.return;K!==null?(Fe=K,Id(K)):Fe=null}break t}}dt=0,ui=null,vl(s,a,y,5);break;case 6:dt=0,ui=null,vl(s,a,y,6);break;case 8:rp(),jt=6;break e;default:throw Error(i(462))}}AR();break}catch(ie){ex(s,ie)}while(!0);return Gs=eo=null,Q.H=h,Q.A=g,ot=c,Fe!==null?0:(bt=null,Ge=0,Kh(),jt)}function AR(){for(;Fe!==null&&!jo();)sx(Fe)}function sx(s){var a=Rv(s.alternate,s,tr);s.memoizedProps=s.pendingProps,a===null?Id(s):Fe=a}function rx(s){var a=s,c=a.alternate;switch(a.tag){case 15:case 0:a=wv(c,a,a.pendingProps,a.type,void 0,Ge);break;case 11:a=wv(c,a,a.pendingProps,a.type.render,a.ref,Ge);break;case 5:xg(a);default:Iv(c,a),a=Fe=ib(a,tr),a=Rv(c,a,tr)}s.memoizedProps=s.pendingProps,a===null?Id(s):Fe=a}function vl(s,a,c,h){Gs=eo=null,xg(a),cl=null,Pc=0;var g=a.return;try{if(mR(s,g,a,c,Ge)){jt=1,yd(s,Ai(c,s.current)),Fe=null;return}}catch(y){if(g!==null)throw Fe=g,y;jt=1,yd(s,Ai(c,s.current)),Fe=null;return}a.flags&32768?(Xe||h===1?s=!0:pl||(Ge&536870912)!==0?s=!1:(Yr=s=!0,(h===2||h===9||h===3||h===6)&&(h=li.current,h!==null&&h.tag===13&&(h.flags|=16384))),ax(a,s)):Id(a)}function Id(s){var a=s;do{if((a.flags&32768)!==0){ax(a,Yr);return}s=a.return;var c=yR(a.alternate,a,tr);if(c!==null){Fe=c;return}if(a=a.sibling,a!==null){Fe=a;return}Fe=a=s}while(a!==null);jt===0&&(jt=5)}function ax(s,a){do{var c=_R(s.alternate,s);if(c!==null){c.flags&=32767,Fe=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(s=s.sibling,s!==null)){Fe=s;return}Fe=s=c}while(s!==null);jt=6,Fe=null}function ox(s,a,c,h,g,y,w,R,V){s.cancelPendingCommit=null;do kd();while(cn!==0);if((ot&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(y=a.lanes|a.childLanes,y|=Wm,Vi(s,c,y,w,R,V),s===bt&&(Fe=bt=null,Ge=0),_l=a,Kr=s,nr=c,np=y,ip=g,Qv=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,IR(is,function(){return dx(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=Q.T,Q.T=null,g=le.p,le.p=2,w=ot,ot|=4;try{bR(s,a,c)}finally{ot=w,le.p=g,Q.T=h}}cn=1,lx(),cx(),ux()}}function lx(){if(cn===1){cn=0;var s=Kr,a=_l,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=Q.T,Q.T=null;var h=le.p;le.p=2;var g=ot;ot|=4;try{Fv(a,s);var y=_p,w=W_(s.containerInfo),R=y.focusedElem,V=y.selectionRange;if(w!==R&&R&&R.ownerDocument&&$_(R.ownerDocument.documentElement,R)){if(V!==null&&Hm(R)){var K=V.start,ie=V.end;if(ie===void 0&&(ie=K),"selectionStart"in R)R.selectionStart=K,R.selectionEnd=Math.min(ie,R.value.length);else{var ae=R.ownerDocument||document,X=ae&&ae.defaultView||window;if(X.getSelection){var Z=X.getSelection(),_e=R.textContent.length,Ae=Math.min(V.start,_e),_t=V.end===void 0?Ae:Math.min(V.end,_e);!Z.extend&&Ae>_t&&(w=_t,_t=Ae,Ae=w);var q=Y_(R,Ae),F=Y_(R,_t);if(q&&F&&(Z.rangeCount!==1||Z.anchorNode!==q.node||Z.anchorOffset!==q.offset||Z.focusNode!==F.node||Z.focusOffset!==F.offset)){var W=ae.createRange();W.setStart(q.node,q.offset),Z.removeAllRanges(),Ae>_t?(Z.addRange(W),Z.extend(F.node,F.offset)):(W.setEnd(F.node,F.offset),Z.addRange(W))}}}}for(ae=[],Z=R;Z=Z.parentNode;)Z.nodeType===1&&ae.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ae.length;R++){var se=ae[R];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Hd=!!yp,_p=yp=null}finally{ot=g,le.p=h,Q.T=c}}s.current=a,cn=2}}function cx(){if(cn===2){cn=0;var s=Kr,a=_l,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=Q.T,Q.T=null;var h=le.p;le.p=2;var g=ot;ot|=4;try{jv(s,a.alternate,a)}finally{ot=g,le.p=h,Q.T=c}}cn=3}}function ux(){if(cn===4||cn===3){cn=0,Va();var s=Kr,a=_l,c=nr,h=Qv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?cn=5:(cn=0,_l=Kr=null,hx(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(Wr=null),Us(c),a=a.stateNode,ge&&typeof ge.onCommitFiberRoot=="function")try{ge.onCommitFiberRoot(ee,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=Q.T,g=le.p,le.p=2,Q.T=null;try{for(var y=s.onRecoverableError,w=0;w<h.length;w++){var R=h[w];y(R.value,{componentStack:R.stack})}}finally{Q.T=a,le.p=g}}(nr&3)!==0&&kd(),xs(s),g=s.pendingLanes,(c&261930)!==0&&(g&42)!==0?s===sp?Jc++:(Jc=0,sp=s):Jc=0,Zc(0)}}function hx(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Mc(a)))}function kd(){return lx(),cx(),ux(),dx()}function dx(){if(cn!==5)return!1;var s=Kr,a=np;np=0;var c=Us(nr),h=Q.T,g=le.p;try{le.p=32>c?32:c,Q.T=null,c=ip,ip=null;var y=Kr,w=nr;if(cn=0,_l=Kr=null,nr=0,(ot&6)!==0)throw Error(i(331));var R=ot;if(ot|=4,$v(y.current),qv(y,y.current,w,c),ot=R,Zc(0,!1),ge&&typeof ge.onPostCommitFiberRoot=="function")try{ge.onPostCommitFiberRoot(ee,y)}catch{}return!0}finally{le.p=g,Q.T=h,hx(s,a)}}function fx(s,a,c){a=Ai(c,a),a=Lg(s.stateNode,a,2),s=Fr(s,a,2),s!==null&&(ni(s,2),xs(s))}function ft(s,a,c){if(s.tag===3)fx(s,s,c);else for(;a!==null;){if(a.tag===3){fx(a,s,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Wr===null||!Wr.has(h))){s=Ai(c,s),c=mv(2),h=Fr(a,c,2),h!==null&&(gv(c,h,a,s),ni(h,2),xs(h));break}}a=a.return}}function op(s,a,c){var h=s.pingCache;if(h===null){h=s.pingCache=new wR;var g=new Set;h.set(a,g)}else g=h.get(a),g===void 0&&(g=new Set,h.set(a,g));g.has(c)||(Zg=!0,g.add(c),s=CR.bind(null,s,a,c),a.then(s,s))}function CR(s,a,c){var h=s.pingCache;h!==null&&h.delete(a),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,bt===s&&(Ge&c)===c&&(jt===4||jt===3&&(Ge&62914560)===Ge&&300>dn()-Sd?(ot&2)===0&&bl(s,0):ep|=c,yl===Ge&&(yl=0)),xs(s)}function mx(s,a){a===0&&(a=Vs()),s=Xa(s,a),s!==null&&(ni(s,a),xs(s))}function RR(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),mx(s,c)}function NR(s,a){var c=0;switch(s.tag){case 31:case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(a),mx(s,c)}function IR(s,a){return Pt(s,a)}var Dd=null,xl=null,lp=!1,Md=!1,cp=!1,Xr=0;function xs(s){s!==xl&&s.next===null&&(xl===null?Dd=xl=s:xl=xl.next=s),Md=!0,lp||(lp=!0,DR())}function Zc(s,a){if(!cp&&Md){cp=!0;do for(var c=!1,h=Dd;h!==null;){if(s!==0){var g=h.pendingLanes;if(g===0)var y=0;else{var w=h.suspendedLanes,R=h.pingedLanes;y=(1<<31-Ne(42|s)+1)-1,y&=g&~(w&~R),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,_x(h,y))}else y=Ge,y=_n(h,h===bt?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||bn(h,y)||(c=!0,_x(h,y));h=h.next}while(c);cp=!1}}function kR(){gx()}function gx(){Md=lp=!1;var s=0;Xr!==0&&FR()&&(s=Xr);for(var a=dn(),c=null,h=Dd;h!==null;){var g=h.next,y=px(h,a);y===0?(h.next=null,c===null?Dd=g:c.next=g,g===null&&(xl=c)):(c=h,(s!==0||(y&3)!==0)&&(Md=!0)),h=g}cn!==0&&cn!==5||Zc(s),Xr!==0&&(Xr=0)}function px(s,a){for(var c=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var w=31-Ne(y),R=1<<w,V=g[w];V===-1?((R&c)===0||(R&h)!==0)&&(g[w]=Sr(R,a)):V<=a&&(s.expiredLanes|=R),y&=~R}if(a=bt,c=Ge,c=_n(s,s===a?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,c===0||s===a&&(dt===2||dt===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&Li(h),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||bn(s,c)){if(a=c&-c,a===s.callbackPriority)return a;switch(h!==null&&Li(h),Us(c)){case 2:case 8:c=ji;break;case 32:c=is;break;case 268435456:c=Vo;break;default:c=is}return h=yx.bind(null,s),c=Pt(c,h),s.callbackPriority=a,s.callbackNode=c,a}return h!==null&&h!==null&&Li(h),s.callbackPriority=2,s.callbackNode=null,2}function yx(s,a){if(cn!==0&&cn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(kd()&&s.callbackNode!==c)return null;var h=Ge;return h=_n(s,s===bt?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(Jv(s,h,a),px(s,dn()),s.callbackNode!=null&&s.callbackNode===c?yx.bind(null,s):null)}function _x(s,a){if(kd())return null;Jv(s,a,!0)}function DR(){qR(function(){(ot&6)!==0?Pt(bi,kR):gx()})}function up(){if(Xr===0){var s=al;s===0&&(s=Je,Je<<=1,(Je&261888)===0&&(Je=256)),Xr=s}return Xr}function bx(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Go(""+s)}function vx(s,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,s.id&&c.setAttribute("form",s.id),a.parentNode.insertBefore(c,a),s=new FormData(s),c.parentNode.removeChild(c),s}function MR(s,a,c,h,g){if(a==="submit"&&c&&c.stateNode===g){var y=bx((g[fn]||null).action),w=h.submitter;w&&(a=(a=w[fn]||null)?bx(a.formAction):w.getAttribute("formAction"),a!==null&&(y=a,w=null));var R=new ms("action","action",null,h,g);s.push({event:R,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Xr!==0){var V=w?vx(g,w):new FormData(g);Ig(c,{pending:!0,data:V,method:g.method,action:y},null,V)}}else typeof y=="function"&&(R.preventDefault(),V=w?vx(g,w):new FormData(g),Ig(c,{pending:!0,data:V,method:g.method,action:y},y,V))},currentTarget:g}]})}}for(var hp=0;hp<$m.length;hp++){var dp=$m[hp],OR=dp.toLowerCase(),PR=dp[0].toUpperCase()+dp.slice(1);Yi(OR,"on"+PR)}Yi(X_,"onAnimationEnd"),Yi(J_,"onAnimationIteration"),Yi(Z_,"onAnimationStart"),Yi("dblclick","onDoubleClick"),Yi("focusin","onFocus"),Yi("focusout","onBlur"),Yi(XC,"onTransitionRun"),Yi(JC,"onTransitionStart"),Yi(ZC,"onTransitionCancel"),Yi(eb,"onTransitionEnd"),us("onMouseEnter",["mouseout","mouseover"]),us("onMouseLeave",["mouseout","mouseover"]),us("onPointerEnter",["pointerout","pointerover"]),us("onPointerLeave",["pointerout","pointerover"]),cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cs("onBeforeInput",["compositionend","keypress","textInput","paste"]),cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eu));function xx(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],g=h.event;h=h.listeners;e:{var y=void 0;if(a)for(var w=h.length-1;0<=w;w--){var R=h[w],V=R.instance,K=R.currentTarget;if(R=R.listener,V!==y&&g.isPropagationStopped())break e;y=R,g.currentTarget=K;try{y(g)}catch(ie){Wh(ie)}g.currentTarget=null,y=V}else for(w=0;w<h.length;w++){if(R=h[w],V=R.instance,K=R.currentTarget,R=R.listener,V!==y&&g.isPropagationStopped())break e;y=R,g.currentTarget=K;try{y(g)}catch(ie){Wh(ie)}g.currentTarget=null,y=V}}}}function He(s,a){var c=a[zo];c===void 0&&(c=a[zo]=new Set);var h=s+"__bubble";c.has(h)||(wx(a,s,2,!1),c.add(h))}function fp(s,a,c){var h=0;a&&(h|=4),wx(c,s,h,a)}var Od="_reactListening"+Math.random().toString(36).slice(2);function mp(s){if(!s[Od]){s[Od]=!0,dc.forEach(function(c){c!=="selectionchange"&&(LR.has(c)||fp(c,!1,s),fp(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Od]||(a[Od]=!0,fp("selectionchange",!1,a))}}function wx(s,a,c,h){switch(Xx(a)){case 2:var g=uN;break;case 8:g=hN;break;default:g=Np}c=g.bind(null,a,c,s),g=void 0,!Ha||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(a,c,{capture:!0,passive:g}):s.addEventListener(a,c,!0):g!==void 0?s.addEventListener(a,c,{passive:g}):s.addEventListener(a,c,!1)}function gp(s,a,c,h,g){var y=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var R=h.stateNode.containerInfo;if(R===g)break;if(w===4)for(w=h.return;w!==null;){var V=w.tag;if((V===3||V===4)&&w.stateNode.containerInfo===g)return;w=w.return}for(;R!==null;){if(w=os(R),w===null)return;if(V=w.tag,V===5||V===6||V===26||V===27){h=y=w;continue e}R=R.parentNode}}h=h.return}Dr(function(){var K=y,ie=wi(c),ae=[];e:{var X=tb.get(s);if(X!==void 0){var Z=ms,_e=s;switch(s){case"keypress":if(Ga(c)===0)break e;case"keydown":case"keyup":Z=Gh;break;case"focusin":_e="focus",Z=$a;break;case"focusout":_e="blur",Z=$a;break;case"beforeblur":case"afterblur":Z=$a;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Sc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Lh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=x;break;case X_:case J_:case Z_:Z=Vh;break;case eb:Z=k;break;case"scroll":case"scrollend":Z=Tc;break;case"wheel":Z=J;break;case"copy":case"cut":case"paste":Z=Uh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Fs;break;case"toggle":case"beforetoggle":Z=Le}var Ae=(a&4)!==0,_t=!Ae&&(s==="scroll"||s==="scrollend"),q=Ae?X!==null?X+"Capture":null:X;Ae=[];for(var F=K,W;F!==null;){var se=F;if(W=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||W===null||q===null||(se=Fi(F,q),se!=null&&Ae.push(tu(F,se,W))),_t)break;F=F.return}0<Ae.length&&(X=new Z(X,_e,null,c,ie),ae.push({event:X,listeners:Ae}))}}if((a&7)===0){e:{if(X=s==="mouseover"||s==="pointerover",Z=s==="mouseout"||s==="pointerout",X&&c!==xc&&(_e=c.relatedTarget||c.fromElement)&&(os(_e)||_e[rs]))break e;if((Z||X)&&(X=ie.window===ie?ie:(X=ie.ownerDocument)?X.defaultView||X.parentWindow:window,Z?(_e=c.relatedTarget||c.toElement,Z=K,_e=_e?os(_e):null,_e!==null&&(_t=o(_e),Ae=_e.tag,_e!==_t||Ae!==5&&Ae!==27&&Ae!==6)&&(_e=null)):(Z=null,_e=K),Z!==_e)){if(Ae=Sc,se="onMouseLeave",q="onMouseEnter",F="mouse",(s==="pointerout"||s==="pointerover")&&(Ae=Fs,se="onPointerLeave",q="onPointerEnter",F="pointer"),_t=Z==null?X:si(Z),W=_e==null?X:si(_e),X=new Ae(se,F+"leave",Z,c,ie),X.target=_t,X.relatedTarget=W,se=null,os(ie)===K&&(Ae=new Ae(q,F+"enter",_e,c,ie),Ae.target=W,Ae.relatedTarget=_t,se=Ae),_t=se,Z&&_e)t:{for(Ae=jR,q=Z,F=_e,W=0,se=q;se;se=Ae(se))W++;se=0;for(var we=F;we;we=Ae(we))se++;for(;0<W-se;)q=Ae(q),W--;for(;0<se-W;)F=Ae(F),se--;for(;W--;){if(q===F||F!==null&&q===F.alternate){Ae=q;break t}q=Ae(q),F=Ae(F)}Ae=null}else Ae=null;Z!==null&&Ex(ae,X,Z,Ae,!1),_e!==null&&_t!==null&&Ex(ae,_t,_e,Ae,!0)}}e:{if(X=K?si(K):window,Z=X.nodeName&&X.nodeName.toLowerCase(),Z==="select"||Z==="input"&&X.type==="file")var nt=z_;else if(V_(X))if(B_)nt=WC;else{nt=YC;var ve=GC}else Z=X.nodeName,!Z||Z.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?K&&qo(K.elementType)&&(nt=z_):nt=$C;if(nt&&(nt=nt(s,K))){U_(ae,nt,c,ie);break e}ve&&ve(s,X,K),s==="focusout"&&K&&X.type==="number"&&K.memoizedProps.value!=null&&_c(X,"number",X.value)}switch(ve=K?si(K):window,s){case"focusin":(V_(ve)||ve.contentEditable==="true")&&(Jo=ve,qm=K,Ic=null);break;case"focusout":Ic=qm=Jo=null;break;case"mousedown":Gm=!0;break;case"contextmenu":case"mouseup":case"dragend":Gm=!1,K_(ae,c,ie);break;case"selectionchange":if(QC)break;case"keydown":case"keyup":K_(ae,c,ie)}var Ue;if(at)e:{switch(s){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Xo?Wa(s,c)&&(Ye="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Ye="onCompositionStart");Ye&&(ys&&c.locale!=="ko"&&(Xo||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Xo&&(Ue=Ec()):(fs=ie,wc="value"in fs?fs.value:fs.textContent,Xo=!0)),ve=Pd(K,Ye),0<ve.length&&(Ye=new ps(Ye,s,null,c,ie),ae.push({event:Ye,listeners:ve}),Ue?Ye.data=Ue:(Ue=Qo(c),Ue!==null&&(Ye.data=Ue)))),(Ue=Ti?BC(s,c):FC(s,c))&&(Ye=Pd(K,"onBeforeInput"),0<Ye.length&&(ve=new ps("onBeforeInput","beforeinput",null,c,ie),ae.push({event:ve,listeners:Ye}),ve.data=Ue)),MR(ae,s,K,c,ie)}xx(ae,a)})}function tu(s,a,c){return{instance:s,listener:a,currentTarget:c}}function Pd(s,a){for(var c=a+"Capture",h=[];s!==null;){var g=s,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=Fi(s,c),g!=null&&h.unshift(tu(s,g,y)),g=Fi(s,a),g!=null&&h.push(tu(s,g,y))),s.tag===3)return h;s=s.return}return[]}function jR(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Ex(s,a,c,h,g){for(var y=a._reactName,w=[];c!==null&&c!==h;){var R=c,V=R.alternate,K=R.stateNode;if(R=R.tag,V!==null&&V===h)break;R!==5&&R!==26&&R!==27||K===null||(V=K,g?(K=Fi(c,y),K!=null&&w.unshift(tu(c,K,V))):g||(K=Fi(c,y),K!=null&&w.push(tu(c,K,V)))),c=c.return}w.length!==0&&s.push({event:a,listeners:w})}var VR=/\r\n?/g,UR=/\u0000|\uFFFD/g;function Tx(s){return(typeof s=="string"?s:""+s).replace(VR,`
`).replace(UR,"")}function Sx(s,a){return a=Tx(a),Tx(s)===a}function yt(s,a,c,h,g,y){switch(c){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||Hn(s,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&Hn(s,""+h);break;case"className":ri(s,"class",h);break;case"tabIndex":ri(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ri(s,c,h);break;case"style":vc(s,h,y);break;case"data":if(a!=="object"){ri(s,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||c!=="href")){s.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=Go(""+h),s.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(a!=="input"&&yt(s,a,"name",g.name,g,null),yt(s,a,"formEncType",g.formEncType,g,null),yt(s,a,"formMethod",g.formMethod,g,null),yt(s,a,"formTarget",g.formTarget,g,null)):(yt(s,a,"encType",g.encType,g,null),yt(s,a,"method",g.method,g,null),yt(s,a,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=Go(""+h),s.setAttribute(c,h);break;case"onClick":h!=null&&(s.onclick=Bi);break;case"onScroll":h!=null&&He("scroll",s);break;case"onScrollEnd":h!=null&&He("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}c=Go(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""+h):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":h===!0?s.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,h):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(c,h):s.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(c):s.setAttribute(c,h);break;case"popover":He("beforetoggle",s),He("toggle",s),Fo(s,"popover",h);break;case"xlinkActuate":Zt(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Zt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Zt(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Zt(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Zt(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Zt(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Zt(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Zt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Zt(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Fo(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Ph.get(c)||c,Fo(s,c,h))}}function pp(s,a,c,h,g,y){switch(c){case"style":vc(s,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"children":typeof h=="string"?Hn(s,h):(typeof h=="number"||typeof h=="bigint")&&Hn(s,""+h);break;case"onScroll":h!=null&&He("scroll",s);break;case"onScrollEnd":h!=null&&He("scrollend",s);break;case"onClick":h!=null&&(s.onclick=Bi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fc.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),a=c.slice(2,g?c.length-7:void 0),y=s[fn]||null,y=y!=null?y[c]:null,typeof y=="function"&&s.removeEventListener(a,y,g),typeof h=="function")){typeof y!="function"&&y!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(a,h,g);break e}c in s?s[c]=h:h===!0?s.setAttribute(c,""):Fo(s,c,h)}}}function Tn(s,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",s),He("load",s);var h=!1,g=!1,y;for(y in c)if(c.hasOwnProperty(y)){var w=c[y];if(w!=null)switch(y){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:yt(s,a,y,w,c,null)}}g&&yt(s,a,"srcSet",c.srcSet,c,null),h&&yt(s,a,"src",c.src,c,null);return;case"input":He("invalid",s);var R=y=w=g=null,V=null,K=null;for(h in c)if(c.hasOwnProperty(h)){var ie=c[h];if(ie!=null)switch(h){case"name":g=ie;break;case"type":w=ie;break;case"checked":V=ie;break;case"defaultChecked":K=ie;break;case"value":y=ie;break;case"defaultValue":R=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,a));break;default:yt(s,a,h,ie,c,null)}}Dh(s,y,R,V,K,w,g,!1);return;case"select":He("invalid",s),h=w=y=null;for(g in c)if(c.hasOwnProperty(g)&&(R=c[g],R!=null))switch(g){case"value":y=R;break;case"defaultValue":w=R;break;case"multiple":h=R;default:yt(s,a,g,R,c,null)}a=y,c=w,s.multiple=!!h,a!=null?Rr(s,!!h,a,!1):c!=null&&Rr(s,!!h,c,!0);return;case"textarea":He("invalid",s),y=g=h=null;for(w in c)if(c.hasOwnProperty(w)&&(R=c[w],R!=null))switch(w){case"value":h=R;break;case"defaultValue":g=R;break;case"children":y=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:yt(s,a,w,R,c,null)}Nr(s,h,g,y);return;case"option":for(V in c)c.hasOwnProperty(V)&&(h=c[V],h!=null)&&(V==="selected"?s.selected=h&&typeof h!="function"&&typeof h!="symbol":yt(s,a,V,h,c,null));return;case"dialog":He("beforetoggle",s),He("toggle",s),He("cancel",s),He("close",s);break;case"iframe":case"object":He("load",s);break;case"video":case"audio":for(h=0;h<eu.length;h++)He(eu[h],s);break;case"image":He("error",s),He("load",s);break;case"details":He("toggle",s);break;case"embed":case"source":case"link":He("error",s),He("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in c)if(c.hasOwnProperty(K)&&(h=c[K],h!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:yt(s,a,K,h,c,null)}return;default:if(qo(a)){for(ie in c)c.hasOwnProperty(ie)&&(h=c[ie],h!==void 0&&pp(s,a,ie,h,c,void 0));return}}for(R in c)c.hasOwnProperty(R)&&(h=c[R],h!=null&&yt(s,a,R,h,c,null))}function zR(s,a,c,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,w=null,R=null,V=null,K=null,ie=null;for(Z in c){var ae=c[Z];if(c.hasOwnProperty(Z)&&ae!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":V=ae;default:h.hasOwnProperty(Z)||yt(s,a,Z,null,h,ae)}}for(var X in h){var Z=h[X];if(ae=c[X],h.hasOwnProperty(X)&&(Z!=null||ae!=null))switch(X){case"type":y=Z;break;case"name":g=Z;break;case"checked":K=Z;break;case"defaultChecked":ie=Z;break;case"value":w=Z;break;case"defaultValue":R=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:Z!==ae&&yt(s,a,X,Z,h,ae)}}Ho(s,w,R,V,K,ie,y,g);return;case"select":Z=w=R=X=null;for(y in c)if(V=c[y],c.hasOwnProperty(y)&&V!=null)switch(y){case"value":break;case"multiple":Z=V;default:h.hasOwnProperty(y)||yt(s,a,y,null,h,V)}for(g in h)if(y=h[g],V=c[g],h.hasOwnProperty(g)&&(y!=null||V!=null))switch(g){case"value":X=y;break;case"defaultValue":R=y;break;case"multiple":w=y;default:y!==V&&yt(s,a,g,y,h,V)}a=R,c=w,h=Z,X!=null?Rr(s,!!c,X,!1):!!h!=!!c&&(a!=null?Rr(s,!!c,a,!0):Rr(s,!!c,c?[]:"",!1));return;case"textarea":Z=X=null;for(R in c)if(g=c[R],c.hasOwnProperty(R)&&g!=null&&!h.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:yt(s,a,R,null,h,g)}for(w in h)if(g=h[w],y=c[w],h.hasOwnProperty(w)&&(g!=null||y!=null))switch(w){case"value":X=g;break;case"defaultValue":Z=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==y&&yt(s,a,w,g,h,y)}Mh(s,X,Z);return;case"option":for(var _e in c)X=c[_e],c.hasOwnProperty(_e)&&X!=null&&!h.hasOwnProperty(_e)&&(_e==="selected"?s.selected=!1:yt(s,a,_e,null,h,X));for(V in h)X=h[V],Z=c[V],h.hasOwnProperty(V)&&X!==Z&&(X!=null||Z!=null)&&(V==="selected"?s.selected=X&&typeof X!="function"&&typeof X!="symbol":yt(s,a,V,X,h,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in c)X=c[Ae],c.hasOwnProperty(Ae)&&X!=null&&!h.hasOwnProperty(Ae)&&yt(s,a,Ae,null,h,X);for(K in h)if(X=h[K],Z=c[K],h.hasOwnProperty(K)&&X!==Z&&(X!=null||Z!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,a));break;default:yt(s,a,K,X,h,Z)}return;default:if(qo(a)){for(var _t in c)X=c[_t],c.hasOwnProperty(_t)&&X!==void 0&&!h.hasOwnProperty(_t)&&pp(s,a,_t,void 0,h,X);for(ie in h)X=h[ie],Z=c[ie],!h.hasOwnProperty(ie)||X===Z||X===void 0&&Z===void 0||pp(s,a,ie,X,h,Z);return}}for(var q in c)X=c[q],c.hasOwnProperty(q)&&X!=null&&!h.hasOwnProperty(q)&&yt(s,a,q,null,h,X);for(ae in h)X=h[ae],Z=c[ae],!h.hasOwnProperty(ae)||X===Z||X==null&&Z==null||yt(s,a,ae,X,h,Z)}function Ax(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function BR(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var g=c[h],y=g.transferSize,w=g.initiatorType,R=g.duration;if(y&&R&&Ax(w)){for(w=0,R=g.responseEnd,h+=1;h<c.length;h++){var V=c[h],K=V.startTime;if(K>R)break;var ie=V.transferSize,ae=V.initiatorType;ie&&Ax(ae)&&(V=V.responseEnd,w+=ie*(V<R?1:(R-K)/(V-K)))}if(--h,a+=8*(y+w)/(g.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var yp=null,_p=null;function Ld(s){return s.nodeType===9?s:s.ownerDocument}function Cx(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rx(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function bp(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var vp=null;function FR(){var s=window.event;return s&&s.type==="popstate"?s===vp?!1:(vp=s,!0):(vp=null,!1)}var Nx=typeof setTimeout=="function"?setTimeout:void 0,HR=typeof clearTimeout=="function"?clearTimeout:void 0,Ix=typeof Promise=="function"?Promise:void 0,qR=typeof queueMicrotask=="function"?queueMicrotask:typeof Ix<"u"?function(s){return Ix.resolve(null).then(s).catch(GR)}:Nx;function GR(s){setTimeout(function(){throw s})}function Jr(s){return s==="head"}function kx(s,a){var c=a,h=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"||c==="/&"){if(h===0){s.removeChild(g),Sl(a);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")nu(s.ownerDocument.documentElement);else if(c==="head"){c=s.ownerDocument.head,nu(c);for(var y=c.firstChild;y;){var w=y.nextSibling,R=y.nodeName;y[as]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&y.rel.toLowerCase()==="stylesheet"||c.removeChild(y),y=w}}else c==="body"&&nu(s.ownerDocument.body);c=g}while(c);Sl(a)}function Dx(s,a){var c=s;s=0;do{var h=c.nextSibling;if(c.nodeType===1?a?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(a?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(s===0)break;s--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||s++;c=h}while(c)}function xp(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":xp(c),Bo(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function YR(s,a,c,h){for(;s.nodeType===1;){var g=c;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[as])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=ki(s.nextSibling),s===null)break}return null}function $R(s,a,c){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=ki(s.nextSibling),s===null))return null;return s}function Mx(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=ki(s.nextSibling),s===null))return null;return s}function wp(s){return s.data==="$?"||s.data==="$~"}function Ep(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function WR(s,a){var c=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||c.readyState!=="loading")a();else{var h=function(){a(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function ki(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var Tp=null;function Ox(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"||c==="/&"){if(a===0)return ki(s.nextSibling);a--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||a++}s=s.nextSibling}return null}function Px(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(a===0)return s;a--}else c!=="/$"&&c!=="/&"||a++}s=s.previousSibling}return null}function Lx(s,a,c){switch(a=Ld(c),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function nu(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Bo(s)}var Di=new Map,jx=new Set;function jd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ir=le.d;le.d={f:KR,r:QR,D:XR,C:JR,L:ZR,m:eN,X:nN,S:tN,M:iN};function KR(){var s=ir.f(),a=Rd();return s||a}function QR(s){var a=xi(s);a!==null&&a.tag===5&&a.type==="form"?ev(a):ir.r(s)}var wl=typeof document>"u"?null:document;function Vx(s,a,c){var h=wl;if(h&&typeof a=="string"&&a){var g=Fn(a);g='link[rel="'+s+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),jx.has(g)||(jx.add(g),s={rel:s,crossOrigin:c,href:a},h.querySelector(g)===null&&(a=h.createElement("link"),Tn(a,"link",s),Jt(a),h.head.appendChild(a)))}}function XR(s){ir.D(s),Vx("dns-prefetch",s,null)}function JR(s,a){ir.C(s,a),Vx("preconnect",s,a)}function ZR(s,a,c){ir.L(s,a,c);var h=wl;if(h&&s&&a){var g='link[rel="preload"][as="'+Fn(a)+'"]';a==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+Fn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+Fn(c.imageSizes)+'"]')):g+='[href="'+Fn(s)+'"]';var y=g;switch(a){case"style":y=El(s);break;case"script":y=Tl(s)}Di.has(y)||(s=_({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:s,as:a},c),Di.set(y,s),h.querySelector(g)!==null||a==="style"&&h.querySelector(iu(y))||a==="script"&&h.querySelector(su(y))||(a=h.createElement("link"),Tn(a,"link",s),Jt(a),h.head.appendChild(a)))}}function eN(s,a){ir.m(s,a);var c=wl;if(c&&s){var h=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+Fn(h)+'"][href="'+Fn(s)+'"]',y=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Tl(s)}if(!Di.has(y)&&(s=_({rel:"modulepreload",href:s},a),Di.set(y,s),c.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(su(y)))return}h=c.createElement("link"),Tn(h,"link",s),Jt(h),c.head.appendChild(h)}}}function tN(s,a,c){ir.S(s,a,c);var h=wl;if(h&&s){var g=ls(h).hoistableStyles,y=El(s);a=a||"default";var w=g.get(y);if(!w){var R={loading:0,preload:null};if(w=h.querySelector(iu(y)))R.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":a},c),(c=Di.get(y))&&Sp(s,c);var V=w=h.createElement("link");Jt(V),Tn(V,"link",s),V._p=new Promise(function(K,ie){V.onload=K,V.onerror=ie}),V.addEventListener("load",function(){R.loading|=1}),V.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Vd(w,a,h)}w={type:"stylesheet",instance:w,count:1,state:R},g.set(y,w)}}}function nN(s,a){ir.X(s,a);var c=wl;if(c&&s){var h=ls(c).hoistableScripts,g=Tl(s),y=h.get(g);y||(y=c.querySelector(su(g)),y||(s=_({src:s,async:!0},a),(a=Di.get(g))&&Ap(s,a),y=c.createElement("script"),Jt(y),Tn(y,"link",s),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function iN(s,a){ir.M(s,a);var c=wl;if(c&&s){var h=ls(c).hoistableScripts,g=Tl(s),y=h.get(g);y||(y=c.querySelector(su(g)),y||(s=_({src:s,async:!0,type:"module"},a),(a=Di.get(g))&&Ap(s,a),y=c.createElement("script"),Jt(y),Tn(y,"link",s),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function Ux(s,a,c,h){var g=(g=Te.current)?jd(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=El(c.href),c=ls(g).hoistableStyles,h=c.get(a),h||(h={type:"style",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=El(c.href);var y=ls(g).hoistableStyles,w=y.get(s);if(w||(g=g.ownerDocument||g,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,w),(y=g.querySelector(iu(s)))&&!y._p&&(w.instance=y,w.state.loading=5),Di.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Di.set(s,c),y||sN(g,s,c,w.state))),a&&h===null)throw Error(i(528,""));return w}if(a&&h!==null)throw Error(i(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Tl(c),c=ls(g).hoistableScripts,h=c.get(a),h||(h={type:"script",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function El(s){return'href="'+Fn(s)+'"'}function iu(s){return'link[rel="stylesheet"]['+s+"]"}function zx(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function sN(s,a,c,h){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=s.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),Tn(a,"link",c),Jt(a),s.head.appendChild(a))}function Tl(s){return'[src="'+Fn(s)+'"]'}function su(s){return"script[async]"+s}function Bx(s,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var h=s.querySelector('style[data-href~="'+Fn(c.href)+'"]');if(h)return a.instance=h,Jt(h),h;var g=_({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),Jt(h),Tn(h,"style",g),Vd(h,c.precedence,s),a.instance=h;case"stylesheet":g=El(c.href);var y=s.querySelector(iu(g));if(y)return a.state.loading|=4,a.instance=y,Jt(y),y;h=zx(c),(g=Di.get(g))&&Sp(h,g),y=(s.ownerDocument||s).createElement("link"),Jt(y);var w=y;return w._p=new Promise(function(R,V){w.onload=R,w.onerror=V}),Tn(y,"link",h),a.state.loading|=4,Vd(y,c.precedence,s),a.instance=y;case"script":return y=Tl(c.src),(g=s.querySelector(su(y)))?(a.instance=g,Jt(g),g):(h=c,(g=Di.get(y))&&(h=_({},c),Ap(h,g)),s=s.ownerDocument||s,g=s.createElement("script"),Jt(g),Tn(g,"link",h),s.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,Vd(h,c.precedence,s));return a.instance}function Vd(s,a,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,y=g,w=0;w<h.length;w++){var R=h[w];if(R.dataset.precedence===a)y=R;else if(y!==g)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(s,a.firstChild))}function Sp(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Ap(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Ud=null;function Fx(s,a,c){if(Ud===null){var h=new Map,g=Ud=new Map;g.set(c,h)}else g=Ud,h=g.get(c),h||(h=new Map,g.set(c,h));if(h.has(s))return h;for(h.set(s,null),c=c.getElementsByTagName(s),g=0;g<c.length;g++){var y=c[g];if(!(y[as]||y[Xt]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(a)||"";w=s+w;var R=h.get(w);R?R.push(y):h.set(w,[y])}}return h}function Hx(s,a,c){s=s.ownerDocument||s,s.head.insertBefore(c,a==="title"?s.querySelector("head > title"):null)}function rN(s,a,c){if(c===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(s=a.disabled,typeof a.precedence=="string"&&s==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function qx(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function aN(s,a,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var g=El(h.href),y=a.querySelector(iu(g));if(y){a=y._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=zd.bind(s),a.then(s,s)),c.state.loading|=4,c.instance=y,Jt(y);return}y=a.ownerDocument||a,h=zx(h),(g=Di.get(g))&&Sp(h,g),y=y.createElement("link"),Jt(y);var w=y;w._p=new Promise(function(R,V){w.onload=R,w.onerror=V}),Tn(y,"link",h),c.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(s.count++,c=zd.bind(s),a.addEventListener("load",c),a.addEventListener("error",c))}}var Cp=0;function oN(s,a){return s.stylesheets&&s.count===0&&Fd(s,s.stylesheets),0<s.count||0<s.imgCount?function(c){var h=setTimeout(function(){if(s.stylesheets&&Fd(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+a);0<s.imgBytes&&Cp===0&&(Cp=62500*BR());var g=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Fd(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>Cp?50:800)+a);return s.unsuspend=c,function(){s.unsuspend=null,clearTimeout(h),clearTimeout(g)}}:null}function zd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Bd=null;function Fd(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Bd=new Map,a.forEach(lN,s),Bd=null,zd.call(s))}function lN(s,a){if(!(a.state.loading&4)){var c=Bd.get(s);if(c)var h=c.get(null);else{c=new Map,Bd.set(s,c);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var w=g[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(c.set(w.dataset.precedence,w),h=w)}h&&c.set(null,h)}g=a.instance,w=g.getAttribute("data-precedence"),y=c.get(w)||h,y===h&&c.set(null,g),c.set(w,g),this.count++,h=zd.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),y?y.parentNode.insertBefore(g,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),a.state.loading|=4}}var ru={$$typeof:H,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function cN(s,a,c,h,g,y,w,R,V){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ut(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ut(0),this.hiddenUpdates=ut(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function Gx(s,a,c,h,g,y,w,R,V,K,ie,ae){return s=new cN(s,a,c,w,V,K,ie,ae,R),a=1,y===!0&&(a|=24),y=oi(3,null,null,a),s.current=y,y.stateNode=s,a=ag(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:h,isDehydrated:c,cache:a},ug(y),s}function Yx(s){return s?(s=tl,s):tl}function $x(s,a,c,h,g,y){g=Yx(g),h.context===null?h.context=g:h.pendingContext=g,h=Br(a),h.payload={element:c},y=y===void 0?null:y,y!==null&&(h.callback=y),c=Fr(s,h,a),c!==null&&(Wn(c,s,a),jc(c,s,a))}function Wx(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function Rp(s,a){Wx(s,a),(s=s.alternate)&&Wx(s,a)}function Kx(s){if(s.tag===13||s.tag===31){var a=Xa(s,67108864);a!==null&&Wn(a,s,67108864),Rp(s,67108864)}}function Qx(s){if(s.tag===13||s.tag===31){var a=di();a=Ua(a);var c=Xa(s,a);c!==null&&Wn(c,s,a),Rp(s,a)}}var Hd=!0;function uN(s,a,c,h){var g=Q.T;Q.T=null;var y=le.p;try{le.p=2,Np(s,a,c,h)}finally{le.p=y,Q.T=g}}function hN(s,a,c,h){var g=Q.T;Q.T=null;var y=le.p;try{le.p=8,Np(s,a,c,h)}finally{le.p=y,Q.T=g}}function Np(s,a,c,h){if(Hd){var g=Ip(h);if(g===null)gp(s,a,h,qd,c),Jx(s,h);else if(fN(g,s,a,c,h))h.stopPropagation();else if(Jx(s,h),a&4&&-1<dN.indexOf(s)){for(;g!==null;){var y=xi(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=ln(y.pendingLanes);if(w!==0){var R=y;for(R.pendingLanes|=2,R.entangledLanes|=2;w;){var V=1<<31-Ne(w);R.entanglements[1]|=V,w&=~V}xs(y),(ot&6)===0&&(Ad=dn()+500,Zc(0))}}break;case 31:case 13:R=Xa(y,2),R!==null&&Wn(R,y,2),Rd(),Rp(y,2)}if(y=Ip(h),y===null&&gp(s,a,h,qd,c),y===g)break;g=y}g!==null&&h.stopPropagation()}else gp(s,a,h,null,c)}}function Ip(s){return s=wi(s),kp(s)}var qd=null;function kp(s){if(qd=null,s=os(s),s!==null){var a=o(s);if(a===null)s=null;else{var c=a.tag;if(c===13){if(s=l(a),s!==null)return s;s=null}else if(c===31){if(s=u(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return qd=s,null}function Xx(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qt()){case bi:return 2;case ji:return 8;case is:case hc:return 32;case Vo:return 268435456;default:return 32}default:return 32}}var Dp=!1,Zr=null,ea=null,ta=null,au=new Map,ou=new Map,na=[],dN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jx(s,a){switch(s){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":au.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ou.delete(a.pointerId)}}function lu(s,a,c,h,g,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:y,targetContainers:[g]},a!==null&&(a=xi(a),a!==null&&Kx(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function fN(s,a,c,h,g){switch(a){case"focusin":return Zr=lu(Zr,s,a,c,h,g),!0;case"dragenter":return ea=lu(ea,s,a,c,h,g),!0;case"mouseover":return ta=lu(ta,s,a,c,h,g),!0;case"pointerover":var y=g.pointerId;return au.set(y,lu(au.get(y)||null,s,a,c,h,g)),!0;case"gotpointercapture":return y=g.pointerId,ou.set(y,lu(ou.get(y)||null,s,a,c,h,g)),!0}return!1}function Zx(s){var a=os(s.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){s.blockedOn=a,Ui(s.priority,function(){Qx(c)});return}}else if(a===31){if(a=u(c),a!==null){s.blockedOn=a,Ui(s.priority,function(){Qx(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Gd(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=Ip(s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);xc=h,c.target.dispatchEvent(h),xc=null}else return a=xi(c),a!==null&&Kx(a),s.blockedOn=c,!1;a.shift()}return!0}function ew(s,a,c){Gd(s)&&c.delete(a)}function mN(){Dp=!1,Zr!==null&&Gd(Zr)&&(Zr=null),ea!==null&&Gd(ea)&&(ea=null),ta!==null&&Gd(ta)&&(ta=null),au.forEach(ew),ou.forEach(ew)}function Yd(s,a){s.blockedOn===a&&(s.blockedOn=null,Dp||(Dp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,mN)))}var $d=null;function tw(s){$d!==s&&($d=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){$d===s&&($d=null);for(var a=0;a<s.length;a+=3){var c=s[a],h=s[a+1],g=s[a+2];if(typeof h!="function"){if(kp(h||c)===null)continue;break}var y=xi(c);y!==null&&(s.splice(a,3),a-=3,Ig(y,{pending:!0,data:g,method:c.method,action:h},h,g))}}))}function Sl(s){function a(V){return Yd(V,s)}Zr!==null&&Yd(Zr,s),ea!==null&&Yd(ea,s),ta!==null&&Yd(ta,s),au.forEach(a),ou.forEach(a);for(var c=0;c<na.length;c++){var h=na[c];h.blockedOn===s&&(h.blockedOn=null)}for(;0<na.length&&(c=na[0],c.blockedOn===null);)Zx(c),c.blockedOn===null&&na.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var g=c[h],y=c[h+1],w=g[fn]||null;if(typeof y=="function")w||tw(c);else if(w){var R=null;if(y&&y.hasAttribute("formAction")){if(g=y,w=y[fn]||null)R=w.formAction;else if(kp(g)!==null)continue}else R=w.action;typeof R=="function"?c[h+1]=R:(c.splice(h,3),h-=3),tw(c)}}}function nw(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(w){return g=w})},focusReset:"manual",scroll:"manual"})}function a(){g!==null&&(g(),g=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,g=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),g!==null&&(g(),g=null)}}}function Mp(s){this._internalRoot=s}Wd.prototype.render=Mp.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var c=a.current,h=di();$x(c,h,s,a,null,null)},Wd.prototype.unmount=Mp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;$x(s.current,2,null,s,null,null),Rd(),a[rs]=null}};function Wd(s){this._internalRoot=s}Wd.prototype.unstable_scheduleHydration=function(s){if(s){var a=Rh();s={blockedOn:null,target:s,priority:a};for(var c=0;c<na.length&&a!==0&&a<na[c].priority;c++);na.splice(c,0,s),c===0&&Zx(s)}};var iw=e.version;if(iw!=="19.2.3")throw Error(i(527,iw,"19.2.3"));le.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(a),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var gN={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kd.isDisabled&&Kd.supportsFiber)try{ee=Kd.inject(gN),ge=Kd}catch{}}return uu.createRoot=function(s,a){if(!r(s))throw Error(i(299));var c=!1,h="",g=uv,y=hv,w=dv;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),a=Gx(s,1,!1,null,null,c,h,null,g,y,w,nw),s[rs]=a.current,mp(s),new Mp(a)},uu.hydrateRoot=function(s,a,c){if(!r(s))throw Error(i(299));var h=!1,g="",y=uv,w=hv,R=dv,V=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(w=c.onCaughtError),c.onRecoverableError!==void 0&&(R=c.onRecoverableError),c.formState!==void 0&&(V=c.formState)),a=Gx(s,1,!0,a,c??null,h,g,V,y,w,R,nw),a.context=Yx(null),c=a.current,h=di(),h=Ua(h),g=Br(h),g.callback=null,Fr(c,g,h),c=h,a.current.lanes=c,ni(a,c),xs(a),s[rs]=a.current,mp(s),new Wd(a)},uu.version="19.2.3",uu}var fw;function CN(){if(fw)return Lp.exports;fw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Lp.exports=AN(),Lp.exports}var RN=CN();var mw="popstate";function NN(n={}){function e(i,r){let{pathname:o,search:l,hash:u}=i.location;return vy("",{pathname:o,search:l,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:Hu(r)}return kN(e,t,null,n)}function It(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function es(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IN(){return Math.random().toString(36).substring(2,10)}function gw(n,e){return{usr:n.state,key:n.key,idx:e}}function vy(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?tc(e):e,state:t,key:e&&e.key||i||IN()}}function Hu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function tc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function kN(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,l=r.history,u="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function _(){u="POP";let C=p(),M=C==null?null:C-f;f=C,d&&d({action:u,location:A.location,delta:M})}function v(C,M){u="PUSH";let L=vy(A.location,C,M);f=p()+1;let H=gw(L,f),Y=A.createHref(L);try{l.pushState(H,"",Y)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;r.location.assign(Y)}o&&d&&d({action:u,location:A.location,delta:1})}function E(C,M){u="REPLACE";let L=vy(A.location,C,M);f=p();let H=gw(L,f),Y=A.createHref(L);l.replaceState(H,"",Y),o&&d&&d({action:u,location:A.location,delta:0})}function S(C){return DN(C)}let A={get action(){return u},get location(){return n(r,l)},listen(C){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(mw,_),d=C,()=>{r.removeEventListener(mw,_),d=null}},createHref(C){return e(r,C)},createURL:S,encodeLocation(C){let M=S(C);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:v,replace:E,go(C){return l.go(C)}};return A}function DN(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),It(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Hu(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function RT(n,e,t="/"){return MN(n,e,t,!1)}function MN(n,e,t,i){let r=typeof e=="string"?tc(e):e,o=gr(r.pathname||"/",t);if(o==null)return null;let l=NT(n);ON(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=GN(o);u=HN(l[d],f,i)}return u}function NT(n,e=[],t=[],i="",r=!1){let o=(l,u,d=r,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(i)&&d)return;It(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length)}let _=fr([i,p.relativePath]),v=t.concat(p);l.children&&l.children.length>0&&(It(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),NT(l.children,e,v,_,d)),!(l.path==null&&!l.index)&&e.push({path:_,score:BN(_,l.index),routesMeta:v})};return n.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))o(l,u);else for(let d of IT(l.path))o(l,u,!0,d)}),e}function IT(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let l=IT(i.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),r&&u.push(...l),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function ON(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:FN(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var PN=/^:[\w-]+$/,LN=3,jN=2,VN=1,UN=10,zN=-2,pw=n=>n==="*";function BN(n,e){let t=n.split("/"),i=t.length;return t.some(pw)&&(i+=zN),e&&(i+=jN),t.filter(r=>!pw(r)).reduce((r,o)=>r+(PN.test(o)?LN:o===""?VN:UN),i)}function FN(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function HN(n,e,t=!1){let{routesMeta:i}=n,r={},o="/",l=[];for(let u=0;u<i.length;++u){let d=i[u],f=u===i.length-1,p=o==="/"?e:e.slice(o.length)||"/",_=Of({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),v=d.route;if(!_&&f&&t&&!i[i.length-1].route.index&&(_=Of({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!_)return null;Object.assign(r,_.params),l.push({params:r,pathname:fr([o,_.pathname]),pathnameBase:KN(fr([o,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(o=fr([o,_.pathnameBase]))}return l}function Of(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=qN(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((f,{paramName:p,isOptional:_},v)=>{if(p==="*"){let S=u[v]||"";l=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const E=u[v];return _&&!E?f[p]=void 0:f[p]=(E||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:n}}function qN(n,e=!1,t=!0){es(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(i.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function GN(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return es(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function gr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var YN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function $N(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?tc(n):n,o;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?o=yw(t.substring(1),"/"):o=yw(t,e)):o=e,{pathname:o,search:QN(i),hash:XN(r)}}function yw(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function zp(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WN(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function l0(n){let e=WN(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function c0(n,e,t,i=!1){let r;typeof n=="string"?r=tc(n):(r={...n},It(!r.pathname||!r.pathname.includes("?"),zp("?","pathname","search",r)),It(!r.pathname||!r.pathname.includes("#"),zp("#","pathname","hash",r)),It(!r.search||!r.search.includes("#"),zp("#","search","hash",r)));let o=n===""||r.pathname==="",l=o?"/":r.pathname,u;if(l==null)u=t;else{let _=e.length-1;if(!i&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),_-=1;r.pathname=v.join("/")}u=_>=0?e[_]:"/"}let d=$N(r,u),f=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var fr=n=>n.join("/").replace(/\/\/+/g,"/"),KN=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),QN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,XN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,JN=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function ZN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function eI(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var kT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function DT(n,e){let t=n;if(typeof t!="string"||!YN.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,r=!1;if(kT)try{let o=new URL(window.location.href),l=t.startsWith("//")?new URL(o.protocol+t):new URL(t),u=gr(l.pathname,e);l.origin===o.origin&&u!=null?t=u+l.search+l.hash:r=!0}catch{es(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:r,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var MT=["POST","PUT","PATCH","DELETE"];new Set(MT);var tI=["GET",...MT];new Set(tI);var nc=B.createContext(null);nc.displayName="DataRouter";var lm=B.createContext(null);lm.displayName="DataRouterState";var nI=B.createContext(!1),OT=B.createContext({isTransitioning:!1});OT.displayName="ViewTransition";var iI=B.createContext(new Map);iI.displayName="Fetchers";var sI=B.createContext(null);sI.displayName="Await";var yi=B.createContext(null);yi.displayName="Navigation";var hh=B.createContext(null);hh.displayName="Location";var Ls=B.createContext({outlet:null,matches:[],isDataRoute:!1});Ls.displayName="Route";var u0=B.createContext(null);u0.displayName="RouteError";var PT="REACT_ROUTER_ERROR",rI="REDIRECT",aI="ROUTE_ERROR_RESPONSE";function oI(n){if(n.startsWith(`${PT}:${rI}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function lI(n){if(n.startsWith(`${PT}:${aI}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new JN(e.status,e.statusText,e.data)}catch{}}function cI(n,{relative:e}={}){It(ic(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=B.useContext(yi),{hash:r,pathname:o,search:l}=fh(n,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:fr([t,o])),i.createHref({pathname:u,search:l,hash:r})}function ic(){return B.useContext(hh)!=null}function Ia(){return It(ic(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(hh).location}var LT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jT(n){B.useContext(yi).static||B.useLayoutEffect(n)}function dh(){let{isDataRoute:n}=B.useContext(Ls);return n?wI():uI()}function uI(){It(ic(),"useNavigate() may be used only in the context of a <Router> component.");let n=B.useContext(nc),{basename:e,navigator:t}=B.useContext(yi),{matches:i}=B.useContext(Ls),{pathname:r}=Ia(),o=JSON.stringify(l0(i)),l=B.useRef(!1);return jT(()=>{l.current=!0}),B.useCallback((d,f={})=>{if(es(l.current,LT),!l.current)return;if(typeof d=="number"){t.go(d);return}let p=c0(d,JSON.parse(o),r,f.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:fr([e,p.pathname])),(f.replace?t.replace:t.push)(p,f.state,f)},[e,t,o,r,n])}B.createContext(null);function fh(n,{relative:e}={}){let{matches:t}=B.useContext(Ls),{pathname:i}=Ia(),r=JSON.stringify(l0(t));return B.useMemo(()=>c0(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function hI(n,e){return VT(n,e)}function VT(n,e,t,i,r){It(ic(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=B.useContext(yi),{matches:l}=B.useContext(Ls),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",_=u&&u.route;{let L=_&&_.path||"";zT(f,!_||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let v=Ia(),E;if(e){let L=typeof e=="string"?tc(e):e;It(p==="/"||L.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${L.pathname}" was given in the \`location\` prop.`),E=L}else E=v;let S=E.pathname||"/",A=S;if(p!=="/"){let L=p.replace(/^\//,"").split("/");A="/"+S.replace(/^\//,"").split("/").slice(L.length).join("/")}let C=RT(n,{pathname:A});es(_||C!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),es(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=pI(C&&C.map(L=>Object.assign({},L,{params:Object.assign({},d,L.params),pathname:fr([p,o.encodeLocation?o.encodeLocation(L.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?p:fr([p,o.encodeLocation?o.encodeLocation(L.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathnameBase])})),l,t,i,r);return e&&M?B.createElement(hh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},M):M}function dI(){let n=xI(),e=ZN(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:o},"ErrorBoundary")," or"," ",B.createElement("code",{style:o},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:r},t):null,l)}var fI=B.createElement(dI,null),UT=class extends B.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=lI(n.digest);t&&(n=t)}let e=n!==void 0?B.createElement(Ls.Provider,{value:this.props.routeContext},B.createElement(u0.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?B.createElement(mI,{error:n},e):e}};UT.contextType=nI;var Bp=new WeakMap;function mI({children:n,error:e}){let{basename:t}=B.useContext(yi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=oI(e.digest);if(i){let r=Bp.get(e);if(r)throw r;let o=DT(i.location,t);if(kT&&!Bp.get(e))if(o.isExternal||i.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:i.replace}));throw Bp.set(e,l),l}return B.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return n}function gI({routeContext:n,match:e,children:t}){let i=B.useContext(nc);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Ls.Provider,{value:n},t)}function pI(n,e=[],t=null,i=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t?.errors;if(l!=null){let p=o.findIndex(_=>_.route.id&&l?.[_.route.id]!==void 0);It(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let _=o[p];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(d=p),_.route.id){let{loaderData:v,errors:E}=t,S=_.route.loader&&!v.hasOwnProperty(_.route.id)&&(!E||E[_.route.id]===void 0);if(_.route.lazy||S){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let f=t&&i?(p,_)=>{i(p,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:eI(t.matches),errorInfo:_})}:void 0;return o.reduceRight((p,_,v)=>{let E,S=!1,A=null,C=null;t&&(E=l&&_.route.id?l[_.route.id]:void 0,A=_.route.errorElement||fI,u&&(d<0&&v===0?(zT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,C=null):d===v&&(S=!0,C=_.route.hydrateFallbackElement||null)));let M=e.concat(o.slice(0,v+1)),L=()=>{let H;return E?H=A:S?H=C:_.route.Component?H=B.createElement(_.route.Component,null):_.route.element?H=_.route.element:H=p,B.createElement(gI,{match:_,routeContext:{outlet:p,matches:M,isDataRoute:t!=null},children:H})};return t&&(_.route.ErrorBoundary||_.route.errorElement||v===0)?B.createElement(UT,{location:t.location,revalidation:t.revalidation,component:A,error:E,children:L(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:f}):L()},null)}function h0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yI(n){let e=B.useContext(nc);return It(e,h0(n)),e}function _I(n){let e=B.useContext(lm);return It(e,h0(n)),e}function bI(n){let e=B.useContext(Ls);return It(e,h0(n)),e}function d0(n){let e=bI(n),t=e.matches[e.matches.length-1];return It(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function vI(){return d0("useRouteId")}function xI(){let n=B.useContext(u0),e=_I("useRouteError"),t=d0("useRouteError");return n!==void 0?n:e.errors?.[t]}function wI(){let{router:n}=yI("useNavigate"),e=d0("useNavigate"),t=B.useRef(!1);return jT(()=>{t.current=!0}),B.useCallback(async(r,o={})=>{es(t.current,LT),t.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:e,...o}))},[n,e])}var _w={};function zT(n,e,t){!e&&!_w[n]&&(_w[n]=!0,es(!1,t))}B.memo(EI);function EI({routes:n,future:e,state:t,onError:i}){return VT(n,void 0,t,i,e)}function Pf({to:n,replace:e,state:t,relative:i}){It(ic(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=B.useContext(yi);es(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=B.useContext(Ls),{pathname:l}=Ia(),u=dh(),d=c0(n,l0(o),l,i==="path"),f=JSON.stringify(d);return B.useEffect(()=>{u(JSON.parse(f),{replace:e,state:t,relative:i})},[u,f,i,e,t]),null}function Ki(n){It(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TI({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:o=!1,unstable_useTransitions:l}){It(!ic(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=B.useMemo(()=>({basename:u,navigator:r,static:o,unstable_useTransitions:l,future:{}}),[u,r,o,l]);typeof t=="string"&&(t=tc(t));let{pathname:f="/",search:p="",hash:_="",state:v=null,key:E="default"}=t,S=B.useMemo(()=>{let A=gr(f,u);return A==null?null:{location:{pathname:A,search:p,hash:_,state:v,key:E},navigationType:i}},[u,f,p,_,v,E,i]);return es(S!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${_}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:B.createElement(yi.Provider,{value:d},B.createElement(hh.Provider,{children:e,value:S}))}function SI({children:n,location:e}){return hI(xy(n),e)}function xy(n,e=[]){let t=[];return B.Children.forEach(n,(i,r)=>{if(!B.isValidElement(i))return;let o=[...e,r];if(i.type===B.Fragment){t.push.apply(t,xy(i.props.children,o));return}It(i.type===Ki,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),It(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=xy(i.props.children,o)),t.push(l)}),t}var vf="get",xf="application/x-www-form-urlencoded";function cm(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function AI(n){return cm(n)&&n.tagName.toLowerCase()==="button"}function CI(n){return cm(n)&&n.tagName.toLowerCase()==="form"}function RI(n){return cm(n)&&n.tagName.toLowerCase()==="input"}function NI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function II(n,e){return n.button===0&&(!e||e==="_self")&&!NI(n)}var Qd=null;function kI(){if(Qd===null)try{new FormData(document.createElement("form"),0),Qd=!1}catch{Qd=!0}return Qd}var DI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fp(n){return n!=null&&!DI.has(n)?(es(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xf}"`),null):n}function MI(n,e){let t,i,r,o,l;if(CI(n)){let u=n.getAttribute("action");i=u?gr(u,e):null,t=n.getAttribute("method")||vf,r=Fp(n.getAttribute("enctype"))||xf,o=new FormData(n)}else if(AI(n)||RI(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(i=d?gr(d,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||vf,r=Fp(n.getAttribute("formenctype"))||Fp(u.getAttribute("enctype"))||xf,o=new FormData(u,n),!kI()){let{name:f,type:p,value:_}=n;if(p==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,_)}}else{if(cm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=vf,i=null,r=xf,l=n}return o&&r==="text/plain"&&(l=o,o=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function f0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function OI(n,e,t,i){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${i}`:r.pathname=`${r.pathname}.${i}`:r.pathname==="/"?r.pathname=`_root.${i}`:e&&gr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function PI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function jI(n,e,t){let i=await Promise.all(n.map(async r=>{let o=e.routes[r.route.id];if(o){let l=await PI(o,t);return l.links?l.links():[]}return[]}));return BI(i.flat(1).filter(LI).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function bw(n,e,t,i,r,o){let l=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,u=(d,f)=>t[f].pathname!==d.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,f)=>l(d,f)||u(d,f)):o==="data"?e.filter((d,f)=>{let p=i.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function VI(n,e,{includeHydrateFallback:t}={}){return UI(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function UI(n){return[...new Set(n)]}function zI(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function BI(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let o=JSON.stringify(zI(r));return t.has(o)||(t.add(o),i.push({key:o,link:r})),i},[])}function BT(){let n=B.useContext(nc);return f0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function FI(){let n=B.useContext(lm);return f0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var m0=B.createContext(void 0);m0.displayName="FrameworkContext";function FT(){let n=B.useContext(m0);return f0(n,"You must render this element inside a <HydratedRouter> element"),n}function HI(n,e){let t=B.useContext(m0),[i,r]=B.useState(!1),[o,l]=B.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:_}=e,v=B.useRef(null);B.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let A=M=>{M.forEach(L=>{l(L.isIntersecting)})},C=new IntersectionObserver(A,{threshold:.5});return v.current&&C.observe(v.current),()=>{C.disconnect()}}},[n]),B.useEffect(()=>{if(i){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[i]);let E=()=>{r(!0)},S=()=>{r(!1),l(!1)};return t?n!=="intent"?[o,v,{}]:[o,v,{onFocus:hu(u,E),onBlur:hu(d,S),onMouseEnter:hu(f,E),onMouseLeave:hu(p,S),onTouchStart:hu(_,E)}]:[!1,v,{}]}function hu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function qI({page:n,...e}){let{router:t}=BT(),i=B.useMemo(()=>RT(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?B.createElement(YI,{page:n,matches:i,...e}):null}function GI(n){let{manifest:e,routeModules:t}=FT(),[i,r]=B.useState([]);return B.useEffect(()=>{let o=!1;return jI(n,e,t).then(l=>{o||r(l)}),()=>{o=!0}},[n,e,t]),i}function YI({page:n,matches:e,...t}){let i=Ia(),{future:r,manifest:o,routeModules:l}=FT(),{basename:u}=BT(),{loaderData:d,matches:f}=FI(),p=B.useMemo(()=>bw(n,e,f,o,i,"data"),[n,e,f,o,i]),_=B.useMemo(()=>bw(n,e,f,o,i,"assets"),[n,e,f,o,i]),v=B.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let A=new Set,C=!1;if(e.forEach(L=>{let H=o.routes[L.route.id];!H||!H.hasLoader||(!p.some(Y=>Y.route.id===L.route.id)&&L.route.id in d&&l[L.route.id]?.shouldRevalidate||H.hasClientLoader?C=!0:A.add(L.route.id))}),A.size===0)return[];let M=OI(n,u,r.unstable_trailingSlashAwareDataRequests,"data");return C&&A.size>0&&M.searchParams.set("_routes",e.filter(L=>A.has(L.route.id)).map(L=>L.route.id).join(",")),[M.pathname+M.search]},[u,r.unstable_trailingSlashAwareDataRequests,d,i,o,p,e,n,l]),E=B.useMemo(()=>VI(_,o),[_,o]),S=GI(_);return B.createElement(B.Fragment,null,v.map(A=>B.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),E.map(A=>B.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),S.map(({key:A,link:C})=>B.createElement("link",{key:A,nonce:t.nonce,...C,crossOrigin:C.crossOrigin??t.crossOrigin})))}function $I(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var WI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{WI&&(window.__reactRouterVersion="7.13.0")}catch{}function KI({basename:n,children:e,unstable_useTransitions:t,window:i}){let r=B.useRef();r.current==null&&(r.current=NN({window:i,v5Compat:!0}));let o=r.current,[l,u]=B.useState({action:o.action,location:o.location}),d=B.useCallback(f=>{t===!1?u(f):B.startTransition(()=>u(f))},[t]);return B.useLayoutEffect(()=>o.listen(d),[o,d]),B.createElement(TI,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:o,unstable_useTransitions:t})}var HT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lf=B.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:o,replace:l,state:u,target:d,to:f,preventScrollReset:p,viewTransition:_,unstable_defaultShouldRevalidate:v,...E},S){let{basename:A,unstable_useTransitions:C}=B.useContext(yi),M=typeof f=="string"&&HT.test(f),L=DT(f,A);f=L.to;let H=cI(f,{relative:r}),[Y,$,te]=HI(i,E),I=ZI(f,{replace:l,state:u,target:d,preventScrollReset:p,relative:r,viewTransition:_,unstable_defaultShouldRevalidate:v,unstable_useTransitions:C});function N(j){e&&e(j),j.defaultPrevented||I(j)}let D=B.createElement("a",{...E,...te,href:L.absoluteURL||H,onClick:L.isExternal||o?e:N,ref:$I(S,$),target:d,"data-discover":!M&&t==="render"?"true":void 0});return Y&&!M?B.createElement(B.Fragment,null,D,B.createElement(qI,{page:H})):D});Lf.displayName="Link";var QI=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:o,to:l,viewTransition:u,children:d,...f},p){let _=fh(l,{relative:f.relative}),v=Ia(),E=B.useContext(lm),{navigator:S,basename:A}=B.useContext(yi),C=E!=null&&sk(_)&&u===!0,M=S.encodeLocation?S.encodeLocation(_).pathname:_.pathname,L=v.pathname,H=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(L=L.toLowerCase(),H=H?H.toLowerCase():null,M=M.toLowerCase()),H&&A&&(H=gr(H,A)||H);const Y=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let $=L===M||!r&&L.startsWith(M)&&L.charAt(Y)==="/",te=H!=null&&(H===M||!r&&H.startsWith(M)&&H.charAt(M.length)==="/"),I={isActive:$,isPending:te,isTransitioning:C},N=$?e:void 0,D;typeof i=="function"?D=i(I):D=[i,$?"active":null,te?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let j=typeof o=="function"?o(I):o;return B.createElement(Lf,{...f,"aria-current":N,className:D,ref:p,style:j,to:l,viewTransition:u},typeof d=="function"?d(I):d)});QI.displayName="NavLink";var XI=B.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:o,method:l=vf,action:u,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:_,unstable_defaultShouldRevalidate:v,...E},S)=>{let{unstable_useTransitions:A}=B.useContext(yi),C=nk(),M=ik(u,{relative:f}),L=l.toLowerCase()==="get"?"get":"post",H=typeof u=="string"&&HT.test(u),Y=$=>{if(d&&d($),$.defaultPrevented)return;$.preventDefault();let te=$.nativeEvent.submitter,I=te?.getAttribute("formmethod")||l,N=()=>C(te||$.currentTarget,{fetcherKey:e,method:I,navigate:t,replace:r,state:o,relative:f,preventScrollReset:p,viewTransition:_,unstable_defaultShouldRevalidate:v});A&&t!==!1?B.startTransition(()=>N()):N()};return B.createElement("form",{ref:S,method:L,action:M,onSubmit:i?d:Y,...E,"data-discover":!H&&n==="render"?"true":void 0})});XI.displayName="Form";function JI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qT(n){let e=B.useContext(nc);return It(e,JI(n)),e}function ZI(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:u,unstable_useTransitions:d}={}){let f=dh(),p=Ia(),_=fh(n,{relative:o});return B.useCallback(v=>{if(II(v,e)){v.preventDefault();let E=t!==void 0?t:Hu(p)===Hu(_),S=()=>f(n,{replace:E,state:i,preventScrollReset:r,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:u});d?B.startTransition(()=>S()):S()}},[p,f,_,t,i,e,n,r,o,l,u,d])}var ek=0,tk=()=>`__${String(++ek)}__`;function nk(){let{router:n}=qT("useSubmit"),{basename:e}=B.useContext(yi),t=vI(),i=n.fetch,r=n.navigate;return B.useCallback(async(o,l={})=>{let{action:u,method:d,encType:f,formData:p,body:_}=MI(o,e);if(l.navigate===!1){let v=l.fetcherKey||tk();await i(v,t,l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:_,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await r(l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:_,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,r,e,t])}function ik(n,{relative:e}={}){let{basename:t}=B.useContext(yi),i=B.useContext(Ls);It(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...fh(n||".",{relative:e})},l=Ia();if(n==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(_=>_).forEach(_=>u.append("index",_));let p=u.toString();o.search=p?`?${p}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:fr([t,o.pathname])),Hu(o)}function sk(n,{relative:e}={}){let t=B.useContext(OT);It(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=qT("useViewTransitionState"),r=fh(n,{relative:e});if(!t.isTransitioning)return!1;let o=gr(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=gr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Of(r.pathname,l)!=null||Of(r.pathname,o)!=null}function mh(n){return n+.5|0}const ua=(n,e,t)=>Math.max(Math.min(n,t),e);function bu(n){return ua(mh(n*2.55),0,255)}function ga(n){return ua(mh(n*255),0,255)}function or(n){return ua(mh(n/2.55)/100,0,1)}function vw(n){return ua(mh(n*100),0,100)}const Mi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},wy=[..."0123456789ABCDEF"],rk=n=>wy[n&15],ak=n=>wy[(n&240)>>4]+wy[n&15],Xd=n=>(n&240)>>4===(n&15),ok=n=>Xd(n.r)&&Xd(n.g)&&Xd(n.b)&&Xd(n.a);function lk(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Mi[n[1]]*17,g:255&Mi[n[2]]*17,b:255&Mi[n[3]]*17,a:e===5?Mi[n[4]]*17:255}:(e===7||e===9)&&(t={r:Mi[n[1]]<<4|Mi[n[2]],g:Mi[n[3]]<<4|Mi[n[4]],b:Mi[n[5]]<<4|Mi[n[6]],a:e===9?Mi[n[7]]<<4|Mi[n[8]]:255})),t}const ck=(n,e)=>n<255?e(n):"";function uk(n){var e=ok(n)?rk:ak;return n?"#"+e(n.r)+e(n.g)+e(n.b)+ck(n.a,e):void 0}const hk=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function GT(n,e,t){const i=e*Math.min(t,1-t),r=(o,l=(o+n/30)%12)=>t-i*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function dk(n,e,t){const i=(r,o=(r+n/60)%6)=>t-t*e*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function fk(n,e,t){const i=GT(n,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function mk(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}function g0(n){const t=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(t,i,r),l=Math.min(t,i,r),u=(o+l)/2;let d,f,p;return o!==l&&(p=o-l,f=u>.5?p/(2-o-l):p/(o+l),d=mk(t,i,r,p,o),d=d*60+.5),[d|0,f||0,u]}function p0(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(ga)}function y0(n,e,t){return p0(GT,n,e,t)}function gk(n,e,t){return p0(fk,n,e,t)}function pk(n,e,t){return p0(dk,n,e,t)}function YT(n){return(n%360+360)%360}function yk(n){const e=hk.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?bu(+e[5]):ga(+e[5]));const r=YT(+e[2]),o=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?i=gk(r,o,l):e[1]==="hsv"?i=pk(r,o,l):i=y0(r,o,l),{r:i[0],g:i[1],b:i[2],a:t}}function _k(n,e){var t=g0(n);t[0]=YT(t[0]+e),t=y0(t),n.r=t[0],n.g=t[1],n.b=t[2]}function bk(n){if(!n)return;const e=g0(n),t=e[0],i=vw(e[1]),r=vw(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${or(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}const xw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ww={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function vk(){const n={},e=Object.keys(ww),t=Object.keys(xw);let i,r,o,l,u;for(i=0;i<e.length;i++){for(l=u=e[i],r=0;r<t.length;r++)o=t[r],u=u.replace(o,xw[o]);o=parseInt(ww[l],16),n[u]=[o>>16&255,o>>8&255,o&255]}return n}let Jd;function xk(n){Jd||(Jd=vk(),Jd.transparent=[0,0,0,0]);const e=Jd[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const wk=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Ek(n){const e=wk.exec(n);let t=255,i,r,o;if(e){if(e[7]!==i){const l=+e[7];t=e[8]?bu(l):ua(l*255,0,255)}return i=+e[1],r=+e[3],o=+e[5],i=255&(e[2]?bu(i):ua(i,0,255)),r=255&(e[4]?bu(r):ua(r,0,255)),o=255&(e[6]?bu(o):ua(o,0,255)),{r:i,g:r,b:o,a:t}}}function Tk(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${or(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Hp=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Al=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Sk(n,e,t){const i=Al(or(n.r)),r=Al(or(n.g)),o=Al(or(n.b));return{r:ga(Hp(i+t*(Al(or(e.r))-i))),g:ga(Hp(r+t*(Al(or(e.g))-r))),b:ga(Hp(o+t*(Al(or(e.b))-o))),a:n.a+t*(e.a-n.a)}}function Zd(n,e,t){if(n){let i=g0(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=y0(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function $T(n,e){return n&&Object.assign(e||{},n)}function Ew(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=ga(n[3]))):(e=$T(n,{r:0,g:0,b:0,a:1}),e.a=ga(e.a)),e}function Ak(n){return n.charAt(0)==="r"?Ek(n):yk(n)}class qu{constructor(e){if(e instanceof qu)return e;const t=typeof e;let i;t==="object"?i=Ew(e):t==="string"&&(i=lk(e)||xk(e)||Ak(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=$T(this._rgb);return e&&(e.a=or(e.a)),e}set rgb(e){this._rgb=Ew(e)}rgbString(){return this._valid?Tk(this._rgb):void 0}hexString(){return this._valid?uk(this._rgb):void 0}hslString(){return this._valid?bk(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,r=e.rgb;let o;const l=t===o?.5:t,u=2*l-1,d=i.a-r.a,f=((u*d===-1?u:(u+d)/(1+u*d))+1)/2;o=1-f,i.r=255&f*i.r+o*r.r+.5,i.g=255&f*i.g+o*r.g+.5,i.b=255&f*i.b+o*r.b+.5,i.a=l*i.a+(1-l)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=Sk(this._rgb,e._rgb,t)),this}clone(){return new qu(this.rgb)}alpha(e){return this._rgb.a=ga(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=mh(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Zd(this._rgb,2,e),this}darken(e){return Zd(this._rgb,2,-e),this}saturate(e){return Zd(this._rgb,1,e),this}desaturate(e){return Zd(this._rgb,1,-e),this}rotate(e){return _k(this._rgb,e),this}}function sr(){}const Ck=(()=>{let n=0;return()=>n++})();function qe(n){return n==null}function Rt(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Qe(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Vt(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function fi(n,e){return Vt(n)?n:e}function Oe(n,e){return typeof n>"u"?e:n}const Rk=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,WT=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function vt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function mt(n,e,t,i){let r,o,l;if(Rt(n))for(o=n.length,r=0;r<o;r++)e.call(t,n[r],r);else if(Qe(n))for(l=Object.keys(n),o=l.length,r=0;r<o;r++)e.call(t,n[l[r]],l[r])}function jf(n,e){let t,i,r,o;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],o=e[t],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Vf(n){if(Rt(n))return n.map(Vf);if(Qe(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let r=0;for(;r<i;++r)e[t[r]]=Vf(n[t[r]]);return e}return n}function KT(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Nk(n,e,t,i){if(!KT(n))return;const r=e[n],o=t[n];Qe(r)&&Qe(o)?Gu(r,o,i):e[n]=Vf(o)}function Gu(n,e,t){const i=Rt(e)?e:[e],r=i.length;if(!Qe(n))return n;t=t||{};const o=t.merger||Nk;let l;for(let u=0;u<r;++u){if(l=i[u],!Qe(l))continue;const d=Object.keys(l);for(let f=0,p=d.length;f<p;++f)o(d[f],n,l,t)}return n}function ku(n,e){return Gu(n,e,{merger:Ik})}function Ik(n,e,t){if(!KT(n))return;const i=e[n],r=t[n];Qe(i)&&Qe(r)?ku(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Vf(r))}const Tw={"":n=>n,x:n=>n.x,y:n=>n.y};function kk(n){const e=n.split("."),t=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function Dk(n){const e=kk(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function xa(n,e){return(Tw[e]||(Tw[e]=Dk(e)))(n)}function _0(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Yu=n=>typeof n<"u",wa=n=>typeof n=="function",Sw=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function Mk(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const st=Math.PI,St=2*st,Ok=St+st,Uf=Number.POSITIVE_INFINITY,Pk=st/180,$t=st/2,uo=st/4,Aw=st*2/3,ha=Math.log10,Cs=Math.sign;function Du(n,e,t){return Math.abs(n-e)<t}function Cw(n){const e=Math.round(n);n=Du(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(ha(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function Lk(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((r,o)=>r-o).pop(),e}function jk(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function ql(n){return!jk(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function Vk(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function QT(n,e,t){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][t],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function Qi(n){return n*(st/180)}function b0(n){return n*(180/st)}function Rw(n){if(!Vt(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function XT(n,e){const t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i);let o=Math.atan2(i,t);return o<-.5*st&&(o+=St),{angle:o,distance:r}}function Ey(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function Uk(n,e){return(n-e+Ok)%St-st}function Dn(n){return(n%St+St)%St}function $u(n,e,t,i){const r=Dn(n),o=Dn(e),l=Dn(t),u=Dn(o-r),d=Dn(l-r),f=Dn(r-o),p=Dn(r-l);return r===o||r===l||i&&o===l||u>d&&f<p}function yn(n,e,t){return Math.max(e,Math.min(t,n))}function zk(n){return yn(n,-32768,32767)}function lr(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function v0(n,e,t){t=t||(l=>n[l]<e);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,t(o)?r=o:i=o;return{lo:r,hi:i}}const cr=(n,e,t,i)=>v0(n,t,i?r=>{const o=n[r][e];return o<t||o===t&&n[r+1][e]===t}:r=>n[r][e]<t),Bk=(n,e,t)=>v0(n,t,i=>n[i][e]>=t);function Fk(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}const JT=["push","pop","shift","splice","unshift"];function Hk(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),JT.forEach(t=>{const i="_onData"+_0(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...o){const l=r.apply(this,o);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...o)}),l}})})}function Nw(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(JT.forEach(o=>{delete n[o]}),delete n._chartjs)}function ZT(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const eS=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function tS(n,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,eS.call(window,()=>{i=!1,n.apply(e,t)}))}}function qk(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const x0=n=>n==="start"?"left":n==="end"?"right":"center",In=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,Gk=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e;function nS(n,e,t){const i=e.length;let r=0,o=i;if(n._sorted){const{iScale:l,vScale:u,_parsed:d}=n,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,p=l.axis,{min:_,max:v,minDefined:E,maxDefined:S}=l.getUserBounds();if(E){if(r=Math.min(cr(d,p,_).lo,t?i:cr(e,p,l.getPixelForValue(_)).lo),f){const A=d.slice(0,r+1).reverse().findIndex(C=>!qe(C[u.axis]));r-=Math.max(0,A)}r=yn(r,0,i-1)}if(S){let A=Math.max(cr(d,l.axis,v,!0).hi+1,t?0:cr(e,p,l.getPixelForValue(v),!0).hi+1);if(f){const C=d.slice(A-1).findIndex(M=>!qe(M[u.axis]));A+=Math.max(0,C)}o=yn(A,r,i)-r}else o=i-r}return{start:r,count:o}}function iS(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,r={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=r,!0;const o=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,r),o}const ef=n=>n===0||n===1,Iw=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*St/t)),kw=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*St/t)+1,Mu={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*$t)+1,easeOutSine:n=>Math.sin(n*$t),easeInOutSine:n=>-.5*(Math.cos(st*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>ef(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>ef(n)?n:Iw(n,.075,.3),easeOutElastic:n=>ef(n)?n:kw(n,.075,.3),easeInOutElastic(n){return ef(n)?n:n<.5?.5*Iw(n*2,.1125,.45):.5+.5*kw(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Mu.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Mu.easeInBounce(n*2)*.5:Mu.easeOutBounce(n*2-1)*.5+.5};function w0(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Dw(n){return w0(n)?n:new qu(n)}function qp(n){return w0(n)?n:new qu(n).saturate(.5).darken(.1).hexString()}const Yk=["x","y","borderWidth","radius","tension"],$k=["color","borderColor","backgroundColor"];function Wk(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:$k},numbers:{type:"number",properties:Yk}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Kk(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Mw=new Map;function Qk(n,e){e=e||{};const t=n+JSON.stringify(e);let i=Mw.get(t);return i||(i=new Intl.NumberFormat(n,e),Mw.set(t,i)),i}function gh(n,e,t){return Qk(e,t).format(n)}const sS={values(n){return Rt(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(t.length>1){const f=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(f<1e-4||f>1e15)&&(r="scientific"),o=Xk(n,t)}const l=ha(Math.abs(o)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),d={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(d,this.options.ticks.format),gh(n,i,d)},logarithmic(n,e,t){if(n===0)return"0";const i=t[e].significand||n/Math.pow(10,Math.floor(ha(n)));return[1,2,3,5,10,15].includes(i)||e>.8*t.length?sS.numeric.call(this,n,e,t):""}};function Xk(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var um={formatters:sS};function Jk(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:um.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Eo=Object.create(null),Ty=Object.create(null);function Ou(n,e){if(!e)return n;const t=e.split(".");for(let i=0,r=t.length;i<r;++i){const o=t[i];n=n[o]||(n[o]=Object.create(null))}return n}function Gp(n,e,t){return typeof e=="string"?Gu(Ou(n,e),t):Gu(Ou(n,""),e)}class Zk{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>qp(r.backgroundColor),this.hoverBorderColor=(i,r)=>qp(r.borderColor),this.hoverColor=(i,r)=>qp(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Gp(this,e,t)}get(e){return Ou(this,e)}describe(e,t){return Gp(Ty,e,t)}override(e,t){return Gp(Eo,e,t)}route(e,t,i,r){const o=Ou(this,e),l=Ou(this,i),u="_"+t;Object.defineProperties(o,{[u]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const d=this[u],f=l[r];return Qe(d)?Object.assign({},f,d):Oe(d,f)},set(d){this[u]=d}}})}apply(e){e.forEach(t=>t(this))}}var Nt=new Zk({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Wk,Kk,Jk]);function eD(n){return!n||qe(n.size)||qe(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function zf(n,e,t,i,r){let o=e[r];return o||(o=e[r]=n.measureText(r).width,t.push(r)),o>i&&(i=o),i}function tD(n,e,t,i){i=i||{};let r=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},o=i.garbageCollect=[],i.font=e),n.save(),n.font=e;let l=0;const u=t.length;let d,f,p,_,v;for(d=0;d<u;d++)if(_=t[d],_!=null&&!Rt(_))l=zf(n,r,o,l,_);else if(Rt(_))for(f=0,p=_.length;f<p;f++)v=_[f],v!=null&&!Rt(v)&&(l=zf(n,r,o,l,v));n.restore();const E=o.length/2;if(E>t.length){for(d=0;d<E;d++)delete r[o[d]];o.splice(0,E)}return l}function ho(n,e,t){const i=n.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function Ow(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function Sy(n,e,t,i){rS(n,e,t,i,null)}function rS(n,e,t,i,r){let o,l,u,d,f,p,_,v;const E=e.pointStyle,S=e.rotation,A=e.radius;let C=(S||0)*Pk;if(E&&typeof E=="object"&&(o=E.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(C),n.drawImage(E,-E.width/2,-E.height/2,E.width,E.height),n.restore();return}if(!(isNaN(A)||A<=0)){switch(n.beginPath(),E){default:r?n.ellipse(t,i,r/2,A,0,0,St):n.arc(t,i,A,0,St),n.closePath();break;case"triangle":p=r?r/2:A,n.moveTo(t+Math.sin(C)*p,i-Math.cos(C)*A),C+=Aw,n.lineTo(t+Math.sin(C)*p,i-Math.cos(C)*A),C+=Aw,n.lineTo(t+Math.sin(C)*p,i-Math.cos(C)*A),n.closePath();break;case"rectRounded":f=A*.516,d=A-f,l=Math.cos(C+uo)*d,_=Math.cos(C+uo)*(r?r/2-f:d),u=Math.sin(C+uo)*d,v=Math.sin(C+uo)*(r?r/2-f:d),n.arc(t-_,i-u,f,C-st,C-$t),n.arc(t+v,i-l,f,C-$t,C),n.arc(t+_,i+u,f,C,C+$t),n.arc(t-v,i+l,f,C+$t,C+st),n.closePath();break;case"rect":if(!S){d=Math.SQRT1_2*A,p=r?r/2:d,n.rect(t-p,i-d,2*p,2*d);break}C+=uo;case"rectRot":_=Math.cos(C)*(r?r/2:A),l=Math.cos(C)*A,u=Math.sin(C)*A,v=Math.sin(C)*(r?r/2:A),n.moveTo(t-_,i-u),n.lineTo(t+v,i-l),n.lineTo(t+_,i+u),n.lineTo(t-v,i+l),n.closePath();break;case"crossRot":C+=uo;case"cross":_=Math.cos(C)*(r?r/2:A),l=Math.cos(C)*A,u=Math.sin(C)*A,v=Math.sin(C)*(r?r/2:A),n.moveTo(t-_,i-u),n.lineTo(t+_,i+u),n.moveTo(t+v,i-l),n.lineTo(t-v,i+l);break;case"star":_=Math.cos(C)*(r?r/2:A),l=Math.cos(C)*A,u=Math.sin(C)*A,v=Math.sin(C)*(r?r/2:A),n.moveTo(t-_,i-u),n.lineTo(t+_,i+u),n.moveTo(t+v,i-l),n.lineTo(t-v,i+l),C+=uo,_=Math.cos(C)*(r?r/2:A),l=Math.cos(C)*A,u=Math.sin(C)*A,v=Math.sin(C)*(r?r/2:A),n.moveTo(t-_,i-u),n.lineTo(t+_,i+u),n.moveTo(t+v,i-l),n.lineTo(t-v,i+l);break;case"line":l=r?r/2:Math.cos(C)*A,u=Math.sin(C)*A,n.moveTo(t-l,i-u),n.lineTo(t+l,i+u);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(C)*(r?r/2:A),i+Math.sin(C)*A);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function ur(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function hm(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function dm(n){n.restore()}function nD(n,e,t,i,r){if(!e)return n.lineTo(t.x,t.y);if(r==="middle"){const o=(e.x+t.x)/2;n.lineTo(o,e.y),n.lineTo(o,t.y)}else r==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function iD(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function sD(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),qe(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function rD(n,e,t,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),l=e-o.actualBoundingBoxLeft,u=e+o.actualBoundingBoxRight,d=t-o.actualBoundingBoxAscent,f=t+o.actualBoundingBoxDescent,p=r.strikethrough?(d+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(l,p),n.lineTo(u,p),n.stroke()}}function aD(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function To(n,e,t,i,r,o={}){const l=Rt(e)?e:[e],u=o.strokeWidth>0&&o.strokeColor!=="";let d,f;for(n.save(),n.font=r.string,sD(n,o),d=0;d<l.length;++d)f=l[d],o.backdrop&&aD(n,o.backdrop),u&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),qe(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(f,t,i,o.maxWidth)),n.fillText(f,t,i,o.maxWidth),rD(n,t,i,f,o),i+=Number(r.lineHeight);n.restore()}function Wu(n,e){const{x:t,y:i,w:r,h:o,radius:l}=e;n.arc(t+l.topLeft,i+l.topLeft,l.topLeft,1.5*st,st,!0),n.lineTo(t,i+o-l.bottomLeft),n.arc(t+l.bottomLeft,i+o-l.bottomLeft,l.bottomLeft,st,$t,!0),n.lineTo(t+r-l.bottomRight,i+o),n.arc(t+r-l.bottomRight,i+o-l.bottomRight,l.bottomRight,$t,0,!0),n.lineTo(t+r,i+l.topRight),n.arc(t+r-l.topRight,i+l.topRight,l.topRight,0,-$t,!0),n.lineTo(t+l.topLeft,i)}const oD=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,lD=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function cD(n,e){const t=(""+n).match(oD);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const uD=n=>+n||0;function E0(n,e){const t={},i=Qe(e),r=i?Object.keys(e):e,o=Qe(n)?i?l=>Oe(n[l],n[e[l]]):l=>n[l]:()=>n;for(const l of r)t[l]=uD(o(l));return t}function aS(n){return E0(n,{top:"y",right:"x",bottom:"y",left:"x"})}function bo(n){return E0(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Ln(n){const e=aS(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function un(n,e){n=n||{},e=e||Nt.font;let t=Oe(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=Oe(n.style,e.style);i&&!(""+i).match(lD)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Oe(n.family,e.family),lineHeight:cD(Oe(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:Oe(n.weight,e.weight),string:""};return r.string=eD(r),r}function vu(n,e,t,i){let r,o,l;for(r=0,o=n.length;r<o;++r)if(l=n[r],l!==void 0&&l!==void 0)return l}function hD(n,e,t){const{min:i,max:r}=n,o=WT(e,(r-i)/2),l=(u,d)=>t&&u===0?0:u+d;return{min:l(i,-Math.abs(o)),max:l(r,o)}}function ka(n,e){return Object.assign(Object.create(n),e)}function T0(n,e=[""],t,i,r=()=>n[0]){const o=t||n;typeof i>"u"&&(i=uS("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:u=>T0([u,...n],e,o,i)};return new Proxy(l,{deleteProperty(u,d){return delete u[d],delete u._keys,delete n[0][d],!0},get(u,d){return lS(u,d,()=>bD(d,e,n,u))},getOwnPropertyDescriptor(u,d){return Reflect.getOwnPropertyDescriptor(u._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,d){return Lw(u).includes(d)},ownKeys(u){return Lw(u)},set(u,d,f){const p=u._storage||(u._storage=r());return u[d]=p[d]=f,delete u._keys,!0}})}function Gl(n,e,t,i){const r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:oS(n,i),setContext:o=>Gl(n,o,t,i),override:o=>Gl(n.override(o),e,t,i)};return new Proxy(r,{deleteProperty(o,l){return delete o[l],delete n[l],!0},get(o,l,u){return lS(o,l,()=>fD(o,l,u))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(o,l,u){return n[l]=u,delete o[l],!0}})}function oS(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:wa(t)?t:()=>t,isIndexable:wa(i)?i:()=>i}}const dD=(n,e)=>n?n+_0(e):e,S0=(n,e)=>Qe(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function lS(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function fD(n,e,t){const{_proxy:i,_context:r,_subProxy:o,_descriptors:l}=n;let u=i[e];return wa(u)&&l.isScriptable(e)&&(u=mD(e,u,n,t)),Rt(u)&&u.length&&(u=gD(e,u,n,l.isIndexable)),S0(e,u)&&(u=Gl(u,r,o&&o[e],l)),u}function mD(n,e,t,i){const{_proxy:r,_context:o,_subProxy:l,_stack:u}=t;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let d=e(o,l||i);return u.delete(n),S0(n,d)&&(d=A0(r._scopes,r,n,d)),d}function gD(n,e,t,i){const{_proxy:r,_context:o,_subProxy:l,_descriptors:u}=t;if(typeof o.index<"u"&&i(n))return e[o.index%e.length];if(Qe(e[0])){const d=e,f=r._scopes.filter(p=>p!==d);e=[];for(const p of d){const _=A0(f,r,n,p);e.push(Gl(_,o,l&&l[n],u))}}return e}function cS(n,e,t){return wa(n)?n(e,t):n}const pD=(n,e)=>n===!0?e:typeof n=="string"?xa(e,n):void 0;function yD(n,e,t,i,r){for(const o of e){const l=pD(t,o);if(l){n.add(l);const u=cS(l._fallback,t,r);if(typeof u<"u"&&u!==t&&u!==i)return u}else if(l===!1&&typeof i<"u"&&t!==i)return null}return!1}function A0(n,e,t,i){const r=e._rootScopes,o=cS(e._fallback,t,i),l=[...n,...r],u=new Set;u.add(i);let d=Pw(u,l,t,o||t,i);return d===null||typeof o<"u"&&o!==t&&(d=Pw(u,l,o,d,i),d===null)?!1:T0(Array.from(u),[""],r,o,()=>_D(e,t,i))}function Pw(n,e,t,i,r){for(;t;)t=yD(n,e,t,i,r);return t}function _D(n,e,t){const i=n._getTarget();e in i||(i[e]={});const r=i[e];return Rt(r)&&Qe(t)?t:r||{}}function bD(n,e,t,i){let r;for(const o of e)if(r=uS(dD(o,n),t),typeof r<"u")return S0(n,r)?A0(t,i,n,r):r}function uS(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function Lw(n){let e=n._keys;return e||(e=n._keys=vD(n._scopes)),e}function vD(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function hS(n,e,t,i){const{iScale:r}=n,{key:o="r"}=this._parsing,l=new Array(i);let u,d,f,p;for(u=0,d=i;u<d;++u)f=u+t,p=e[f],l[u]={r:r.parse(xa(p,o),f)};return l}const xD=Number.EPSILON||1e-14,Yl=(n,e)=>e<n.length&&!n[e].skip&&n[e],dS=n=>n==="x"?"y":"x";function wD(n,e,t,i){const r=n.skip?e:n,o=e,l=t.skip?e:t,u=Ey(o,r),d=Ey(l,o);let f=u/(u+d),p=d/(u+d);f=isNaN(f)?0:f,p=isNaN(p)?0:p;const _=i*f,v=i*p;return{previous:{x:o.x-_*(l.x-r.x),y:o.y-_*(l.y-r.y)},next:{x:o.x+v*(l.x-r.x),y:o.y+v*(l.y-r.y)}}}function ED(n,e,t){const i=n.length;let r,o,l,u,d,f=Yl(n,0);for(let p=0;p<i-1;++p)if(d=f,f=Yl(n,p+1),!(!d||!f)){if(Du(e[p],0,xD)){t[p]=t[p+1]=0;continue}r=t[p]/e[p],o=t[p+1]/e[p],u=Math.pow(r,2)+Math.pow(o,2),!(u<=9)&&(l=3/Math.sqrt(u),t[p]=r*l*e[p],t[p+1]=o*l*e[p])}}function TD(n,e,t="x"){const i=dS(t),r=n.length;let o,l,u,d=Yl(n,0);for(let f=0;f<r;++f){if(l=u,u=d,d=Yl(n,f+1),!u)continue;const p=u[t],_=u[i];l&&(o=(p-l[t])/3,u[`cp1${t}`]=p-o,u[`cp1${i}`]=_-o*e[f]),d&&(o=(d[t]-p)/3,u[`cp2${t}`]=p+o,u[`cp2${i}`]=_+o*e[f])}}function SD(n,e="x"){const t=dS(e),i=n.length,r=Array(i).fill(0),o=Array(i);let l,u,d,f=Yl(n,0);for(l=0;l<i;++l)if(u=d,d=f,f=Yl(n,l+1),!!d){if(f){const p=f[e]-d[e];r[l]=p!==0?(f[t]-d[t])/p:0}o[l]=u?f?Cs(r[l-1])!==Cs(r[l])?0:(r[l-1]+r[l])/2:r[l-1]:r[l]}ED(n,r,o),TD(n,o,e)}function tf(n,e,t){return Math.max(Math.min(n,t),e)}function AD(n,e){let t,i,r,o,l,u=ur(n[0],e);for(t=0,i=n.length;t<i;++t)l=o,o=u,u=t<i-1&&ur(n[t+1],e),o&&(r=n[t],l&&(r.cp1x=tf(r.cp1x,e.left,e.right),r.cp1y=tf(r.cp1y,e.top,e.bottom)),u&&(r.cp2x=tf(r.cp2x,e.left,e.right),r.cp2y=tf(r.cp2y,e.top,e.bottom)))}function CD(n,e,t,i,r){let o,l,u,d;if(e.spanGaps&&(n=n.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")SD(n,r);else{let f=i?n[n.length-1]:n[0];for(o=0,l=n.length;o<l;++o)u=n[o],d=wD(f,u,n[Math.min(o+1,l-(i?0:1))%l],e.tension),u.cp1x=d.previous.x,u.cp1y=d.previous.y,u.cp2x=d.next.x,u.cp2y=d.next.y,f=u}e.capBezierPoints&&AD(n,t)}function C0(){return typeof window<"u"&&typeof document<"u"}function R0(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Bf(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const fm=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function RD(n,e){return fm(n).getPropertyValue(e)}const ND=["top","right","bottom","left"];function vo(n,e,t){const i={};t=t?"-"+t:"";for(let r=0;r<4;r++){const o=ND[r];i[o]=parseFloat(n[e+"-"+o+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const ID=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function kD(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:o}=i;let l=!1,u,d;if(ID(r,o,n.target))u=r,d=o;else{const f=e.getBoundingClientRect();u=i.clientX-f.left,d=i.clientY-f.top,l=!0}return{x:u,y:d,box:l}}function go(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,r=fm(t),o=r.boxSizing==="border-box",l=vo(r,"padding"),u=vo(r,"border","width"),{x:d,y:f,box:p}=kD(n,t),_=l.left+(p&&u.left),v=l.top+(p&&u.top);let{width:E,height:S}=e;return o&&(E-=l.width+u.width,S-=l.height+u.height),{x:Math.round((d-_)/E*t.width/i),y:Math.round((f-v)/S*t.height/i)}}function DD(n,e,t){let i,r;if(e===void 0||t===void 0){const o=n&&R0(n);if(!o)e=n.clientWidth,t=n.clientHeight;else{const l=o.getBoundingClientRect(),u=fm(o),d=vo(u,"border","width"),f=vo(u,"padding");e=l.width-f.width-d.width,t=l.height-f.height-d.height,i=Bf(u.maxWidth,o,"clientWidth"),r=Bf(u.maxHeight,o,"clientHeight")}}return{width:e,height:t,maxWidth:i||Uf,maxHeight:r||Uf}}const da=n=>Math.round(n*10)/10;function MD(n,e,t,i){const r=fm(n),o=vo(r,"margin"),l=Bf(r.maxWidth,n,"clientWidth")||Uf,u=Bf(r.maxHeight,n,"clientHeight")||Uf,d=DD(n,e,t);let{width:f,height:p}=d;if(r.boxSizing==="content-box"){const v=vo(r,"border","width"),E=vo(r,"padding");f-=E.width+v.width,p-=E.height+v.height}return f=Math.max(0,f-o.width),p=Math.max(0,i?f/i:p-o.height),f=da(Math.min(f,l,d.maxWidth)),p=da(Math.min(p,u,d.maxHeight)),f&&!p&&(p=da(f/2)),(e!==void 0||t!==void 0)&&i&&d.height&&p>d.height&&(p=d.height,f=da(Math.floor(p*i))),{width:f,height:p}}function jw(n,e,t){const i=e||1,r=da(n.height*i),o=da(n.width*i);n.height=da(n.height),n.width=da(n.width);const l=n.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==r||l.width!==o?(n.currentDevicePixelRatio=i,l.height=r,l.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const OD=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};C0()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function Vw(n,e){const t=RD(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function po(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function PD(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function LD(n,e,t,i){const r={x:n.cp2x,y:n.cp2y},o={x:e.cp1x,y:e.cp1y},l=po(n,r,t),u=po(r,o,t),d=po(o,e,t),f=po(l,u,t),p=po(u,d,t);return po(f,p,t)}const jD=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},VD=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Ll(n,e,t){return n?jD(e,t):VD()}function fS(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function mS(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function gS(n){return n==="angle"?{between:$u,compare:Uk,normalize:Dn}:{between:lr,compare:(e,t)=>e-t,normalize:e=>e}}function Uw({start:n,end:e,count:t,loop:i,style:r}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:r}}function UD(n,e,t){const{property:i,start:r,end:o}=t,{between:l,normalize:u}=gS(i),d=e.length;let{start:f,end:p,loop:_}=n,v,E;if(_){for(f+=d,p+=d,v=0,E=d;v<E&&l(u(e[f%d][i]),r,o);++v)f--,p--;f%=d,p%=d}return p<f&&(p+=d),{start:f,end:p,loop:_,style:n.style}}function pS(n,e,t){if(!t)return[n];const{property:i,start:r,end:o}=t,l=e.length,{compare:u,between:d,normalize:f}=gS(i),{start:p,end:_,loop:v,style:E}=UD(n,e,t),S=[];let A=!1,C=null,M,L,H;const Y=()=>d(r,H,M)&&u(r,H)!==0,$=()=>u(o,M)===0||d(o,H,M),te=()=>A||Y(),I=()=>!A||$();for(let N=p,D=p;N<=_;++N)L=e[N%l],!L.skip&&(M=f(L[i]),M!==H&&(A=d(M,r,o),C===null&&te()&&(C=u(M,r)===0?N:D),C!==null&&I()&&(S.push(Uw({start:C,end:N,loop:v,count:l,style:E})),C=null),D=N,H=M));return C!==null&&S.push(Uw({start:C,end:_,loop:v,count:l,style:E})),S}function yS(n,e){const t=[],i=n.segments;for(let r=0;r<i.length;r++){const o=pS(i[r],n.points,e);o.length&&t.push(...o)}return t}function zD(n,e,t,i){let r=0,o=e-1;if(t&&!i)for(;r<e&&!n[r].skip;)r++;for(;r<e&&n[r].skip;)r++;for(r%=e,t&&(o+=r);o>r&&n[o%e].skip;)o--;return o%=e,{start:r,end:o}}function BD(n,e,t,i){const r=n.length,o=[];let l=e,u=n[e],d;for(d=e+1;d<=t;++d){const f=n[d%r];f.skip||f.stop?u.skip||(i=!1,o.push({start:e%r,end:(d-1)%r,loop:i}),e=l=f.stop?d:null):(l=d,u.skip&&(e=d)),u=f}return l!==null&&o.push({start:e%r,end:l%r,loop:i}),o}function FD(n,e){const t=n.points,i=n.options.spanGaps,r=t.length;if(!r)return[];const o=!!n._loop,{start:l,end:u}=zD(t,r,o,i);if(i===!0)return zw(n,[{start:l,end:u,loop:o}],t,e);const d=u<l?u+r:u,f=!!n._fullLoop&&l===0&&u===r-1;return zw(n,BD(t,l,d,f),t,e)}function zw(n,e,t,i){return!i||!i.setContext||!t?e:HD(n,e,t,i)}function HD(n,e,t,i){const r=n._chart.getContext(),o=Bw(n.options),{_datasetIndex:l,options:{spanGaps:u}}=n,d=t.length,f=[];let p=o,_=e[0].start,v=_;function E(S,A,C,M){const L=u?-1:1;if(S!==A){for(S+=d;t[S%d].skip;)S-=L;for(;t[A%d].skip;)A+=L;S%d!==A%d&&(f.push({start:S%d,end:A%d,loop:C,style:M}),p=M,_=A%d)}}for(const S of e){_=u?_:S.start;let A=t[_%d],C;for(v=_+1;v<=S.end;v++){const M=t[v%d];C=Bw(i.setContext(ka(r,{type:"segment",p0:A,p1:M,p0DataIndex:(v-1)%d,p1DataIndex:v%d,datasetIndex:l}))),qD(C,p)&&E(_,v-1,S.loop,p),A=M,p=C}_<v-1&&E(_,v-1,S.loop,p)}return f}function Bw(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function qD(n,e){if(!e)return!1;const t=[],i=function(r,o){return w0(o)?(t.includes(o)||t.push(o),t.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(e,i)}function nf(n,e,t){return n.options.clip?n[t]:e[t]}function GD(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:nf(t,e,"left"),right:nf(t,e,"right"),top:nf(i,e,"top"),bottom:nf(i,e,"bottom")}:e}function _S(n,e){const t=e._clip;if(t.disabled)return!1;const i=GD(e,n.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:i.bottom+(t.bottom===!0?0:t.bottom)}}class YD{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){const o=t.listeners[r],l=t.duration;o.forEach(u=>u({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(i-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=eS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let l=o.length-1,u=!1,d;for(;l>=0;--l)d=o[l],d._active?(d._total>i.duration&&(i.duration=d._total),d.tick(e),u=!0):(o[l]=o[o.length-1],o.pop());u&&(r.draw(),this._notify(r,i,e,"progress")),o.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=o.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var rr=new YD;const Fw="transparent",$D={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=Dw(n||Fw),r=i.valid&&Dw(e||Fw);return r&&r.valid?r.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class WD{constructor(e,t,i,r){const o=t[i];r=vu([e.to,r,o,e.from]);const l=vu([e.from,o,r]);this._active=!0,this._fn=e.fn||$D[e.type||typeof l],this._easing=Mu[e.easing]||Mu.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,l=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=vu([e.to,t,r,e.from]),this._from=vu([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,r=this._prop,o=this._from,l=this._loop,u=this._to;let d;if(this._active=o!==u&&(l||t<i),!this._active){this._target[r]=u,this._notify(!0);return}if(t<0){this._target[r]=o;return}d=t/i%2,d=l&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[r]=this._fn(o,u,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}}class bS{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Qe(e))return;const t=Object.keys(Nt.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const o=e[r];if(!Qe(o))return;const l={};for(const u of t)l[u]=o[u];(Rt(o.properties)&&o.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,l)})})}_animateOptions(e,t){const i=t.options,r=QD(e,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&KD(e.options.$animations,i).then(()=>{e.options=i},()=>{}),o}_createAnimations(e,t){const i=this._properties,r=[],o=e.$animations||(e.$animations={}),l=Object.keys(t),u=Date.now();let d;for(d=l.length-1;d>=0;--d){const f=l[d];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(e,t));continue}const p=t[f];let _=o[f];const v=i.get(f);if(_)if(v&&_.active()){_.update(v,p,u);continue}else _.cancel();if(!v||!v.duration){e[f]=p;continue}o[f]=_=new WD(v,e,f,p),r.push(_)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return rr.add(this._chart,i),!0}}function KD(n,e){const t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function QD(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Hw(n,e){const t=n&&n.options||{},i=t.reverse,r=t.min===void 0?e:0,o=t.max===void 0?e:0;return{start:i?o:r,end:i?r:o}}function XD(n,e,t){if(t===!1)return!1;const i=Hw(n,t),r=Hw(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function JD(n){let e,t,i,r;return Qe(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:n===!1}}function vS(n,e){const t=[],i=n._getSortedDatasetMetas(e);let r,o;for(r=0,o=i.length;r<o;++r)t.push(i[r].index);return t}function qw(n,e,t,i={}){const r=n.keys,o=i.mode==="single";let l,u,d,f;if(e===null)return;let p=!1;for(l=0,u=r.length;l<u;++l){if(d=+r[l],d===t){if(p=!0,i.all)continue;break}f=n.values[d],Vt(f)&&(o||e===0||Cs(e)===Cs(f))&&(e+=f)}return!p&&!i.all?0:e}function ZD(n,e){const{iScale:t,vScale:i}=e,r=t.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let d,f,p;for(d=0,f=l.length;d<f;++d)p=l[d],u[d]={[r]:p,[o]:n[p]};return u}function Yp(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function eM(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function tM(n){const{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function nM(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function Gw(n,e,t,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(t&&o>0||!t&&o<0)return r.index}return null}function Yw(n,e){const{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:o,vScale:l,index:u}=i,d=o.axis,f=l.axis,p=eM(o,l,i),_=e.length;let v;for(let E=0;E<_;++E){const S=e[E],{[d]:A,[f]:C}=S,M=S._stacks||(S._stacks={});v=M[f]=nM(r,p,A),v[u]=C,v._top=Gw(v,l,!0,i.type),v._bottom=Gw(v,l,!1,i.type);const L=v._visualValues||(v._visualValues={});L[u]=C}}function $p(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function iM(n,e){return ka(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function sM(n,e,t){return ka(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function du(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const r of e){const o=r._stacks;if(!o||o[i]===void 0||o[i][t]===void 0)return;delete o[i][t],o[i]._visualValues!==void 0&&o[i]._visualValues[t]!==void 0&&delete o[i]._visualValues[t]}}}const Wp=n=>n==="reset"||n==="none",$w=(n,e)=>e?n:Object.assign({},n),rM=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:vS(t,!0),values:null};class Da{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Yp(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&du(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),r=(_,v,E,S)=>_==="x"?v:_==="r"?S:E,o=t.xAxisID=Oe(i.xAxisID,$p(e,"x")),l=t.yAxisID=Oe(i.yAxisID,$p(e,"y")),u=t.rAxisID=Oe(i.rAxisID,$p(e,"r")),d=t.indexAxis,f=t.iAxisID=r(d,o,l,u),p=t.vAxisID=r(d,l,o,u);t.xScale=this.getScaleForId(o),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(u),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Nw(this._data,this),e._stacked&&du(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(Qe(t)){const r=this._cachedMeta;this._data=ZD(t,r)}else if(i!==t){if(i){Nw(i,this);const r=this._cachedMeta;du(r),r._parsed=[]}t&&Object.isExtensible(t)&&Hk(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=t._stacked;t._stacked=Yp(t.vScale,t),t.stack!==i.stack&&(r=!0,du(t),t.stack=i.stack),this._resyncElements(e),(r||o!==t._stacked)&&(Yw(this,t._parsed),t._stacked=Yp(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:l}=i,u=o.axis;let d=e===0&&t===r.length?!0:i._sorted,f=e>0&&i._parsed[e-1],p,_,v;if(this._parsing===!1)i._parsed=r,i._sorted=!0,v=r;else{Rt(r[e])?v=this.parseArrayData(i,r,e,t):Qe(r[e])?v=this.parseObjectData(i,r,e,t):v=this.parsePrimitiveData(i,r,e,t);const E=()=>_[u]===null||f&&_[u]<f[u];for(p=0;p<t;++p)i._parsed[p+e]=_=v[p],d&&(E()&&(d=!1),f=_);i._sorted=d}l&&Yw(this,v)}parsePrimitiveData(e,t,i,r){const{iScale:o,vScale:l}=e,u=o.axis,d=l.axis,f=o.getLabels(),p=o===l,_=new Array(r);let v,E,S;for(v=0,E=r;v<E;++v)S=v+i,_[v]={[u]:p||o.parse(f[S],S),[d]:l.parse(t[S],S)};return _}parseArrayData(e,t,i,r){const{xScale:o,yScale:l}=e,u=new Array(r);let d,f,p,_;for(d=0,f=r;d<f;++d)p=d+i,_=t[p],u[d]={x:o.parse(_[0],p),y:l.parse(_[1],p)};return u}parseObjectData(e,t,i,r){const{xScale:o,yScale:l}=e,{xAxisKey:u="x",yAxisKey:d="y"}=this._parsing,f=new Array(r);let p,_,v,E;for(p=0,_=r;p<_;++p)v=p+i,E=t[v],f[p]={x:o.parse(xa(E,u),v),y:l.parse(xa(E,d),v)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const r=this.chart,o=this._cachedMeta,l=t[e.axis],u={keys:vS(r,!0),values:t._stacks[e.axis]._visualValues};return qw(u,l,o.index,{mode:i})}updateRangeFromParsed(e,t,i,r){const o=i[t.axis];let l=o===null?NaN:o;const u=r&&i._stacks[t.axis];r&&u&&(r.values=u,l=qw(r,o,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&e===i.iScale,l=r.length,u=this._getOtherScale(e),d=rM(t,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:_}=tM(u);let v,E;function S(){E=r[v];const A=E[u.axis];return!Vt(E[e.axis])||p>A||_<A}for(v=0;v<l&&!(!S()&&(this.updateRangeFromParsed(f,e,E,d),o));++v);if(o){for(v=l-1;v>=0;--v)if(!S()){this.updateRangeFromParsed(f,e,E,d);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let r,o,l;for(r=0,o=t.length;r<o;++r)l=t[r][e.axis],Vt(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,r=t.vScale,o=this.getParsed(e);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=JD(Oe(this.options.clip,XD(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,r=i.data||[],o=t.chartArea,l=[],u=this._drawStart||0,d=this._drawCount||r.length-u,f=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(e,o,u,d),p=u;p<u+d;++p){const _=r[p];_.hidden||(_.active&&f?l.push(_):_.draw(e,o))}for(p=0;p<l.length;++p)l[p].draw(e,o)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const r=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];o=l.$context||(l.$context=sM(this.getContext(),e,l)),o.parsed=this.getParsed(e),o.raw=r.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=iM(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!t,o.mode=i,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const r=t==="active",o=this._cachedDataOpts,l=e+"-"+t,u=o[l],d=this.enableOptionSharing&&Yu(i);if(u)return $w(u,d);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,e),_=r?[`${e}Hover`,"hover",e,""]:[e,""],v=f.getOptionScopes(this.getDataset(),p),E=Object.keys(Nt.elements[e]),S=()=>this.getContext(i,r,t),A=f.resolveNamedOptions(v,E,S,_);return A.$shared&&(A.$shared=d,o[l]=Object.freeze($w(A,d))),A}_resolveAnimations(e,t,i){const r=this.chart,o=this._cachedDataOpts,l=`animation-${t}`,u=o[l];if(u)return u;let d;if(r.options.animation!==!1){const p=this.chart.config,_=p.datasetAnimationScopeKeys(this._type,t),v=p.getOptionScopes(this.getDataset(),_);d=p.createResolver(v,this.getContext(e,i,t))}const f=new bS(r,d&&d.animations);return d&&d._cacheable&&(o[l]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Wp(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),r=this._sharedOptions,o=this.getSharedOptions(i),l=this.includeOptions(t,o)||o!==r;return this.updateSharedOptions(o,t,i),{sharedOptions:o,includeOptions:l}}updateElement(e,t,i,r){Wp(r)?Object.assign(e,i):this._resolveAnimations(t,r).update(e,i)}updateSharedOptions(e,t,i){e&&!Wp(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,r){e.active=r;const o=this.getStyle(t,r);this._resolveAnimations(t,i,r).update(e,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[u,d,f]of this._syncList)this[u](d,f);this._syncList=[];const r=i.length,o=t.length,l=Math.min(o,r);l&&this.parse(0,l),o>r?this._insertElements(r,o-r,e):o<r&&this._removeElements(o,r-o)}_insertElements(e,t,i=!0){const r=this._cachedMeta,o=r.data,l=e+t;let u;const d=f=>{for(f.length+=t,u=f.length-1;u>=l;u--)f[u]=f[u-t]};for(d(o),u=e;u<l;++u)o[u]=new this.dataElementType;this._parsing&&d(r._parsed),this.parse(e,t),i&&this.updateElements(o,e,t,"reset")}updateElements(e,t,i,r){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,t);i._stacked&&du(i,r)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,r]=e;this[t](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function aM(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let r=0,o=t.length;r<o;r++)i=i.concat(t[r].controller.getAllParsedValues(n));n._cache.$bar=ZT(i.sort((r,o)=>r-o))}return n._cache.$bar}function oM(n){const e=n.iScale,t=aM(e,n.type);let i=e._length,r,o,l,u;const d=()=>{l===32767||l===-32768||(Yu(u)&&(i=Math.min(i,Math.abs(l-u)||i)),u=l)};for(r=0,o=t.length;r<o;++r)l=e.getPixelForValue(t[r]),d();for(u=void 0,r=0,o=e.ticks.length;r<o;++r)l=e.getPixelForTick(r),d();return i}function lM(n,e,t,i){const r=t.barThickness;let o,l;return qe(r)?(o=e.min*t.categoryPercentage,l=t.barPercentage):(o=r*i,l=1),{chunk:o/i,ratio:l,start:e.pixels[n]-o/2}}function cM(n,e,t,i){const r=e.pixels,o=r[n];let l=n>0?r[n-1]:null,u=n<r.length-1?r[n+1]:null;const d=t.categoryPercentage;l===null&&(l=o-(u===null?e.end-e.start:u-o)),u===null&&(u=o+o-l);const f=o-(o-Math.min(l,u))/2*d;return{chunk:Math.abs(u-l)/2*d/i,ratio:t.barPercentage,start:f}}function uM(n,e,t,i){const r=t.parse(n[0],i),o=t.parse(n[1],i),l=Math.min(r,o),u=Math.max(r,o);let d=l,f=u;Math.abs(l)>Math.abs(u)&&(d=u,f=l),e[t.axis]=f,e._custom={barStart:d,barEnd:f,start:r,end:o,min:l,max:u}}function xS(n,e,t,i){return Rt(n)?uM(n,e,t,i):e[t.axis]=t.parse(n,i),e}function Ww(n,e,t,i){const r=n.iScale,o=n.vScale,l=r.getLabels(),u=r===o,d=[];let f,p,_,v;for(f=t,p=t+i;f<p;++f)v=e[f],_={},_[r.axis]=u||r.parse(l[f],f),d.push(xS(v,_,o,f));return d}function Kp(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function hM(n,e,t){return n!==0?Cs(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function dM(n){let e,t,i,r,o;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(r="end",o="start"):(r="start",o="end"),{start:t,end:i,reverse:e,top:r,bottom:o}}function fM(n,e,t,i){let r=e.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:d,top:f,bottom:p}=dM(n);r==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?r=f:(t._bottom||0)===i?r=p:(o[Kw(p,l,u,d)]=!0,r=f)),o[Kw(r,l,u,d)]=!0,n.borderSkipped=o}function Kw(n,e,t,i){return i?(n=mM(n,e,t),n=Qw(n,t,e)):n=Qw(n,e,t),n}function mM(n,e,t){return n===e?t:n===t?e:n}function Qw(n,e,t){return n==="start"?e:n==="end"?t:n}function gM(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class pM extends Da{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,i,r){return Ww(e,t,i,r)}parseArrayData(e,t,i,r){return Ww(e,t,i,r)}parseObjectData(e,t,i,r){const{iScale:o,vScale:l}=e,{xAxisKey:u="x",yAxisKey:d="y"}=this._parsing,f=o.axis==="x"?u:d,p=l.axis==="x"?u:d,_=[];let v,E,S,A;for(v=i,E=i+r;v<E;++v)A=t[v],S={},S[o.axis]=o.parse(xa(A,f),v),_.push(xS(xa(A,p),S,l,v));return _}updateRangeFromParsed(e,t,i,r){super.updateRangeFromParsed(e,t,i,r);const o=i._custom;o&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:r}=t,o=this.getParsed(e),l=o._custom,u=Kp(l)?"["+l.start+", "+l.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,r){const o=r==="reset",{index:l,_cachedMeta:{vScale:u}}=this,d=u.getBasePixel(),f=u.isHorizontal(),p=this._getRuler(),{sharedOptions:_,includeOptions:v}=this._getSharedOptions(t,r);for(let E=t;E<t+i;E++){const S=this.getParsed(E),A=o||qe(S[u.axis])?{base:d,head:d}:this._calculateBarValuePixels(E),C=this._calculateBarIndexPixels(E,p),M=(S._stacks||{})[u.axis],L={horizontal:f,base:A.base,enableBorderRadius:!M||Kp(S._custom)||l===M._top||l===M._bottom,x:f?A.head:C.center,y:f?C.center:A.head,height:f?C.size:Math.abs(A.size),width:f?Math.abs(A.size):C.size};v&&(L.options=_||this.resolveDataElementOptions(E,e[E].active?"active":r));const H=L.options||e[E].options;fM(L,H,M,l),gM(L,H,p.ratio),this.updateElement(e[E],E,L,r)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),o=i.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(t),d=u&&u[i.axis],f=p=>{const _=p._parsed.find(E=>E[i.axis]===d),v=_&&_[p.vScale.axis];if(qe(v)||isNaN(v))return!0};for(const p of r)if(!(t!==void 0&&f(p))&&((o===!1||l.indexOf(p.stack)===-1||o===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[Oe(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,i){const r=this._getStacks(e,i),o=t!==void 0?r.indexOf(t):-1;return o===-1?r.length-1:o}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,r=[];let o,l;for(o=0,l=t.data.length;o<l;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const u=e.barThickness;return{min:u||oM(t),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:r},options:{base:o,minBarLength:l}}=this,u=o||0,d=this.getParsed(e),f=d._custom,p=Kp(f);let _=d[t.axis],v=0,E=i?this.applyStack(t,d,i):_,S,A;E!==_&&(v=E-_,E=_),p&&(_=f.barStart,E=f.barEnd-f.barStart,_!==0&&Cs(_)!==Cs(f.barEnd)&&(v=0),v+=_);const C=!qe(o)&&!p?o:v;let M=t.getPixelForValue(C);if(this.chart.getDataVisibility(e)?S=t.getPixelForValue(v+E):S=M,A=S-M,Math.abs(A)<l){A=hM(A,t,u)*l,_===u&&(M-=A/2);const L=t.getPixelForDecimal(0),H=t.getPixelForDecimal(1),Y=Math.min(L,H),$=Math.max(L,H);M=Math.max(Math.min(M,$),Y),S=M+A,i&&!p&&(d._stacks[t.axis]._visualValues[r]=t.getValueForPixel(S)-t.getValueForPixel(M))}if(M===t.getPixelForValue(u)){const L=Cs(A)*t.getLineWidthForValue(u)/2;M+=L,A-=L}return{size:A,base:M,head:S,center:S+A/2}}_calculateBarIndexPixels(e,t){const i=t.scale,r=this.options,o=r.skipNull,l=Oe(r.maxBarThickness,1/0);let u,d;const f=this._getAxisCount();if(t.grouped){const p=o?this._getStackCount(e):t.stackCount,_=r.barThickness==="flex"?cM(e,t,r,p*f):lM(e,t,r,p*f),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,E=this._getAxis().indexOf(Oe(v,this.getFirstScaleIdForIndexAxis())),S=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+E;u=_.start+_.chunk*S+_.chunk/2,d=Math.min(l,_.chunk*_.ratio)}else u=i.getPixelForValue(this.getParsed(e)[i.axis],e),d=Math.min(l,t.min*t.ratio);return{base:u-d/2,head:u+d/2,center:u,size:d}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[t.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}class yM extends Da{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,i,r){const o=super.parsePrimitiveData(e,t,i,r);for(let l=0;l<o.length;l++)o[l]._custom=this.resolveDataElementOptions(l+i).radius;return o}parseArrayData(e,t,i,r){const o=super.parseArrayData(e,t,i,r);for(let l=0;l<o.length;l++){const u=t[i+l];o[l]._custom=Oe(u[2],this.resolveDataElementOptions(l+i).radius)}return o}parseObjectData(e,t,i,r){const o=super.parseObjectData(e,t,i,r);for(let l=0;l<o.length;l++){const u=t[i+l];o[l]._custom=Oe(u&&u.r&&+u.r,this.resolveDataElementOptions(l+i).radius)}return o}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:o}=t,l=this.getParsed(e),u=r.getLabelForValue(l.x),d=o.getLabelForValue(l.y),f=l._custom;return{label:i[e]||"",value:"("+u+", "+d+(f?", "+f:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,i,r){const o=r==="reset",{iScale:l,vScale:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(t,r),p=l.axis,_=u.axis;for(let v=t;v<t+i;v++){const E=e[v],S=!o&&this.getParsed(v),A={},C=A[p]=o?l.getPixelForDecimal(.5):l.getPixelForValue(S[p]),M=A[_]=o?u.getBasePixel():u.getPixelForValue(S[_]);A.skip=isNaN(C)||isNaN(M),f&&(A.options=d||this.resolveDataElementOptions(v,E.active?"active":r),o&&(A.options.radius=0)),this.updateElement(E,v,A,r)}}resolveDataElementOptions(e,t){const i=this.getParsed(e);let r=super.resolveDataElementOptions(e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const o=r.radius;return t!=="active"&&(r.radius=0),r.radius+=Oe(i&&i._custom,o),r}}function _M(n,e,t){let i=1,r=1,o=0,l=0;if(e<St){const u=n,d=u+e,f=Math.cos(u),p=Math.sin(u),_=Math.cos(d),v=Math.sin(d),E=(H,Y,$)=>$u(H,u,d,!0)?1:Math.max(Y,Y*t,$,$*t),S=(H,Y,$)=>$u(H,u,d,!0)?-1:Math.min(Y,Y*t,$,$*t),A=E(0,f,_),C=E($t,p,v),M=S(st,f,_),L=S(st+$t,p,v);i=(A-M)/2,r=(C-L)/2,o=-(A+M)/2,l=-(C+L)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:l}}class N0 extends Da{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:i,textAlign:r,color:o,useBorderRadius:l,borderRadius:u}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((d,f)=>{const _=e.getDatasetMeta(0).controller.getStyle(f);return{text:d,fillStyle:_.backgroundColor,fontColor:o,hidden:!e.getDataVisibility(f),lineDash:_.borderDash,lineDashOffset:_.borderDashOffset,lineJoin:_.borderJoinStyle,lineWidth:_.borderWidth,strokeStyle:_.borderColor,textAlign:r,pointStyle:i,borderRadius:l&&(u||_.borderRadius),index:f}}):[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=d=>+i[d];if(Qe(i[e])){const{key:d="value"}=this._parsing;o=f=>+xa(i[f],d)}let l,u;for(l=e,u=e+t;l<u;++l)r._parsed[l]=o(l)}}_getRotation(){return Qi(this.options.rotation-90)}_getCircumference(){return Qi(this.options.circumference)}_getRotationExtents(){let e=St,t=-St;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),l=r._getCircumference();e=Math.min(e,o),t=Math.max(t,o+l)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,r=this._cachedMeta,o=r.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-l)/2,0),d=Math.min(Rk(this.options.cutout,u),1),f=this._getRingWeight(this.index),{circumference:p,rotation:_}=this._getRotationExtents(),{ratioX:v,ratioY:E,offsetX:S,offsetY:A}=_M(_,p,d),C=(i.width-l)/v,M=(i.height-l)/E,L=Math.max(Math.min(C,M)/2,0),H=WT(this.options.radius,L),Y=Math.max(H*d,0),$=(H-Y)/this._getVisibleDatasetWeightTotal();this.offsetX=S*H,this.offsetY=A*H,r.total=this.calculateTotal(),this.outerRadius=H-$*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-$*f,0),this.updateElements(o,0,o.length,e)}_circumference(e,t){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*o/St)}updateElements(e,t,i,r){const o=r==="reset",l=this.chart,u=l.chartArea,f=l.options.animation,p=(u.left+u.right)/2,_=(u.top+u.bottom)/2,v=o&&f.animateScale,E=v?0:this.innerRadius,S=v?0:this.outerRadius,{sharedOptions:A,includeOptions:C}=this._getSharedOptions(t,r);let M=this._getRotation(),L;for(L=0;L<t;++L)M+=this._circumference(L,o);for(L=t;L<t+i;++L){const H=this._circumference(L,o),Y=e[L],$={x:p+this.offsetX,y:_+this.offsetY,startAngle:M,endAngle:M+H,circumference:H,outerRadius:S,innerRadius:E};C&&($.options=A||this.resolveDataElementOptions(L,Y.active?"active":r)),M+=H,this.updateElement(Y,L,$,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,r;for(r=0;r<t.length;r++){const o=e._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!t[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?St*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=gh(t._parsed[e],i.options.locale);return{label:r[e]||"",value:o}}getMaxBorderWidth(e){let t=0;const i=this.chart;let r,o,l,u,d;if(!e){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){l=i.getDatasetMeta(r),e=l.data,u=l.controller;break}}if(!e)return 0;for(r=0,o=e.length;r<o;++r)d=u.resolveDataElementOptions(r),d.borderAlign!=="inner"&&(t=Math.max(t,d.borderWidth||0,d.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,r=e.length;i<r;++i){const o=this.resolveDataElementOptions(i);t=Math.max(t,o.offset||0,o.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(Oe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class bM extends Da{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:r=[],_dataset:o}=t,l=this.chart._animationsDisabled;let{start:u,count:d}=nS(t,r,l);this._drawStart=u,this._drawCount=d,iS(t)&&(u=0,d=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=r;const f=this.resolveDatasetElementOptions(e);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:f},e),this.updateElements(r,u,d,e)}updateElements(e,t,i,r){const o=r==="reset",{iScale:l,vScale:u,_stacked:d,_dataset:f}=this._cachedMeta,{sharedOptions:p,includeOptions:_}=this._getSharedOptions(t,r),v=l.axis,E=u.axis,{spanGaps:S,segment:A}=this.options,C=ql(S)?S:Number.POSITIVE_INFINITY,M=this.chart._animationsDisabled||o||r==="none",L=t+i,H=e.length;let Y=t>0&&this.getParsed(t-1);for(let $=0;$<H;++$){const te=e[$],I=M?te:{};if($<t||$>=L){I.skip=!0;continue}const N=this.getParsed($),D=qe(N[E]),j=I[v]=l.getPixelForValue(N[v],$),P=I[E]=o||D?u.getBasePixel():u.getPixelForValue(d?this.applyStack(u,N,d):N[E],$);I.skip=isNaN(j)||isNaN(P)||D,I.stop=$>0&&Math.abs(N[v]-Y[v])>C,A&&(I.parsed=N,I.raw=f.data[$]),_&&(I.options=p||this.resolveDataElementOptions($,te.active?"active":r)),M||this.updateElement(te,$,I,r),Y=N}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const o=r[0].size(this.resolveDataElementOptions(0)),l=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,o,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class wS extends Da{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return t.labels.map((o,l)=>{const d=e.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:r,lineWidth:d.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=gh(t._parsed[e].r,i.options.locale);return{label:r[e]||"",value:o}}parseObjectData(e,t,i,r){return hS.bind(this)(e,t,i,r)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,r)=>{const o=this.getParsed(r).r;!isNaN(o)&&this.chart.getDataVisibility(r)&&(o<t.min&&(t.min=o),o>t.max&&(t.max=o))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,i=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),o=Math.max(r/2,0),l=Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0),u=(o-l)/e.getVisibleDatasetCount();this.outerRadius=o-u*this.index,this.innerRadius=this.outerRadius-u}updateElements(e,t,i,r){const o=r==="reset",l=this.chart,d=l.options.animation,f=this._cachedMeta.rScale,p=f.xCenter,_=f.yCenter,v=f.getIndexAngle(0)-.5*st;let E=v,S;const A=360/this.countVisibleElements();for(S=0;S<t;++S)E+=this._computeAngle(S,r,A);for(S=t;S<t+i;S++){const C=e[S];let M=E,L=E+this._computeAngle(S,r,A),H=l.getDataVisibility(S)?f.getDistanceFromCenterForValue(this.getParsed(S).r):0;E=L,o&&(d.animateScale&&(H=0),d.animateRotate&&(M=L=v));const Y={x:p,y:_,innerRadius:0,outerRadius:H,startAngle:M,endAngle:L,options:this.resolveDataElementOptions(S,C.active?"active":r)};this.updateElement(C,S,Y,r)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&t++}),t}_computeAngle(e,t,i){return this.chart.getDataVisibility(e)?Qi(this.resolveDataElementOptions(e,t).angle||i):0}}class vM extends N0{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class xM extends Da{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const t=this._cachedMeta.vScale,i=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(i[t.axis])}}parseObjectData(e,t,i,r){return hS.bind(this)(e,t,i,r)}update(e){const t=this._cachedMeta,i=t.dataset,r=t.data||[],o=t.iScale.getLabels();if(i.points=r,e!=="resize"){const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0);const u={_loop:!0,_fullLoop:o.length===r.length,options:l};this.updateElement(i,void 0,u,e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,i,r){const o=this._cachedMeta.rScale,l=r==="reset";for(let u=t;u<t+i;u++){const d=e[u],f=this.resolveDataElementOptions(u,d.active?"active":r),p=o.getPointPositionForValue(u,this.getParsed(u).r),_=l?o.xCenter:p.x,v=l?o.yCenter:p.y,E={x:_,y:v,angle:p.angle,skip:isNaN(_)||isNaN(v),options:f};this.updateElement(d,u,E,r)}}}class wM extends Da{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:o}=t,l=this.getParsed(e),u=r.getLabelForValue(l.x),d=o.getLabelForValue(l.y);return{label:i[e]||"",value:"("+u+", "+d+")"}}update(e){const t=this._cachedMeta,{data:i=[]}=t,r=this.chart._animationsDisabled;let{start:o,count:l}=nS(t,i,r);if(this._drawStart=o,this._drawCount=l,iS(t)&&(o=0,l=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:u,_dataset:d}=t;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!d._decimated,u.points=i;const f=this.resolveDatasetElementOptions(e);f.segment=this.options.segment,this.updateElement(u,void 0,{animated:!r,options:f},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(i,o,l,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,i,r){const o=r==="reset",{iScale:l,vScale:u,_stacked:d,_dataset:f}=this._cachedMeta,p=this.resolveDataElementOptions(t,r),_=this.getSharedOptions(p),v=this.includeOptions(r,_),E=l.axis,S=u.axis,{spanGaps:A,segment:C}=this.options,M=ql(A)?A:Number.POSITIVE_INFINITY,L=this.chart._animationsDisabled||o||r==="none";let H=t>0&&this.getParsed(t-1);for(let Y=t;Y<t+i;++Y){const $=e[Y],te=this.getParsed(Y),I=L?$:{},N=qe(te[S]),D=I[E]=l.getPixelForValue(te[E],Y),j=I[S]=o||N?u.getBasePixel():u.getPixelForValue(d?this.applyStack(u,te,d):te[S],Y);I.skip=isNaN(D)||isNaN(j)||N,I.stop=Y>0&&Math.abs(te[E]-H[E])>M,C&&(I.parsed=te,I.raw=f.data[Y]),v&&(I.options=_||this.resolveDataElementOptions(Y,$.active?"active":r)),L||this.updateElement($,Y,I,r),H=te}this.updateSharedOptions(_,r,p)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let u=0;for(let d=t.length-1;d>=0;--d)u=Math.max(u,t[d].size(this.resolveDataElementOptions(d))/2);return u>0&&u}const i=e.dataset,r=i.options&&i.options.borderWidth||0;if(!t.length)return r;const o=t[0].size(this.resolveDataElementOptions(0)),l=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,o,l)/2}}var EM=Object.freeze({__proto__:null,BarController:pM,BubbleController:yM,DoughnutController:N0,LineController:bM,PieController:vM,PolarAreaController:wS,RadarController:xM,ScatterController:wM});function fo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class I0{static override(e){Object.assign(I0.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return fo()}parse(){return fo()}format(){return fo()}add(){return fo()}diff(){return fo()}startOf(){return fo()}endOf(){return fo()}}var TM={_date:I0};function SM(n,e,t,i){const{controller:r,data:o,_sorted:l}=n,u=r._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&l&&o.length){const f=u._reversePixels?Bk:cr;if(i){if(r._sharedOptions){const p=o[0],_=typeof p.getRange=="function"&&p.getRange(e);if(_){const v=f(o,e,t-_),E=f(o,e,t+_);return{lo:v.lo,hi:E.hi}}}}else{const p=f(o,e,t);if(d){const{vScale:_}=r._cachedMeta,{_parsed:v}=n,E=v.slice(0,p.lo+1).reverse().findIndex(A=>!qe(A[_.axis]));p.lo-=Math.max(0,E);const S=v.slice(p.hi).findIndex(A=>!qe(A[_.axis]));p.hi+=Math.max(0,S)}return p}}return{lo:0,hi:o.length-1}}function mm(n,e,t,i,r){const o=n.getSortedVisibleDatasetMetas(),l=t[e];for(let u=0,d=o.length;u<d;++u){const{index:f,data:p}=o[u],{lo:_,hi:v}=SM(o[u],e,l,r);for(let E=_;E<=v;++E){const S=p[E];S.skip||i(S,f,E)}}}function AM(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,r){const o=e?Math.abs(i.x-r.x):0,l=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function Qp(n,e,t,i,r){const o=[];return!r&&!n.isPointInArea(e)||mm(n,t,e,function(u,d,f){!r&&!ur(u,n.chartArea,0)||u.inRange(e.x,e.y,i)&&o.push({element:u,datasetIndex:d,index:f})},!0),o}function CM(n,e,t,i){let r=[];function o(l,u,d){const{startAngle:f,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:_}=XT(l,{x:e.x,y:e.y});$u(_,f,p)&&r.push({element:l,datasetIndex:u,index:d})}return mm(n,t,e,o),r}function RM(n,e,t,i,r,o){let l=[];const u=AM(t);let d=Number.POSITIVE_INFINITY;function f(p,_,v){const E=p.inRange(e.x,e.y,r);if(i&&!E)return;const S=p.getCenterPoint(r);if(!(!!o||n.isPointInArea(S))&&!E)return;const C=u(e,S);C<d?(l=[{element:p,datasetIndex:_,index:v}],d=C):C===d&&l.push({element:p,datasetIndex:_,index:v})}return mm(n,t,e,f),l}function Xp(n,e,t,i,r,o){return!o&&!n.isPointInArea(e)?[]:t==="r"&&!i?CM(n,e,t,r):RM(n,e,t,i,r,o)}function Xw(n,e,t,i,r){const o=[],l=t==="x"?"inXRange":"inYRange";let u=!1;return mm(n,t,e,(d,f,p)=>{d[l]&&d[l](e[t],r)&&(o.push({element:d,datasetIndex:f,index:p}),u=u||d.inRange(e.x,e.y,r))}),i&&!u?[]:o}var NM={modes:{index(n,e,t,i){const r=go(e,n),o=t.axis||"x",l=t.includeInvisible||!1,u=t.intersect?Qp(n,r,o,i,l):Xp(n,r,o,!1,i,l),d=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const p=u[0].index,_=f.data[p];_&&!_.skip&&d.push({element:_,datasetIndex:f.index,index:p})}),d):[]},dataset(n,e,t,i){const r=go(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;let u=t.intersect?Qp(n,r,o,i,l):Xp(n,r,o,!1,i,l);if(u.length>0){const d=u[0].datasetIndex,f=n.getDatasetMeta(d).data;u=[];for(let p=0;p<f.length;++p)u.push({element:f[p],datasetIndex:d,index:p})}return u},point(n,e,t,i){const r=go(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;return Qp(n,r,o,i,l)},nearest(n,e,t,i){const r=go(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;return Xp(n,r,o,t.intersect,i,l)},x(n,e,t,i){const r=go(e,n);return Xw(n,r,"x",t.intersect,i)},y(n,e,t,i){const r=go(e,n);return Xw(n,r,"y",t.intersect,i)}}};const ES=["left","top","right","bottom"];function fu(n,e){return n.filter(t=>t.pos===e)}function Jw(n,e){return n.filter(t=>ES.indexOf(t.pos)===-1&&t.box.axis===e)}function mu(n,e){return n.sort((t,i)=>{const r=e?i:t,o=e?t:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function IM(n){const e=[];let t,i,r,o,l,u;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],{position:o,options:{stack:l,stackWeight:u=1}}=r,e.push({index:t,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&o+l,stackWeight:u});return e}function kM(n){const e={};for(const t of n){const{stack:i,pos:r,stackWeight:o}=t;if(!i||!ES.includes(r))continue;const l=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return e}function DM(n,e){const t=kM(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let o,l,u;for(o=0,l=n.length;o<l;++o){u=n[o];const{fullSize:d}=u.box,f=t[u.stack],p=f&&u.stackWeight/f.weight;u.horizontal?(u.width=p?p*i:d&&e.availableWidth,u.height=r):(u.width=i,u.height=p?p*r:d&&e.availableHeight)}return t}function MM(n){const e=IM(n),t=mu(e.filter(f=>f.box.fullSize),!0),i=mu(fu(e,"left"),!0),r=mu(fu(e,"right")),o=mu(fu(e,"top"),!0),l=mu(fu(e,"bottom")),u=Jw(e,"x"),d=Jw(e,"y");return{fullSize:t,leftAndTop:i.concat(o),rightAndBottom:r.concat(d).concat(l).concat(u),chartArea:fu(e,"chartArea"),vertical:i.concat(r).concat(d),horizontal:o.concat(l).concat(u)}}function Zw(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function TS(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function OM(n,e,t,i){const{pos:r,box:o}=t,l=n.maxPadding;if(!Qe(r)){t.size&&(n[r]-=t.size);const _=i[t.stack]||{size:0,count:1};_.size=Math.max(_.size,t.horizontal?o.height:o.width),t.size=_.size/_.count,n[r]+=t.size}o.getPadding&&TS(l,o.getPadding());const u=Math.max(0,e.outerWidth-Zw(l,n,"left","right")),d=Math.max(0,e.outerHeight-Zw(l,n,"top","bottom")),f=u!==n.w,p=d!==n.h;return n.w=u,n.h=d,t.horizontal?{same:f,other:p}:{same:p,other:f}}function PM(n){const e=n.maxPadding;function t(i){const r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function LM(n,e){const t=e.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{o[l]=Math.max(e[l],t[l])}),o}return i(n?["left","right"]:["top","bottom"])}function xu(n,e,t,i){const r=[];let o,l,u,d,f,p;for(o=0,l=n.length,f=0;o<l;++o){u=n[o],d=u.box,d.update(u.width||e.w,u.height||e.h,LM(u.horizontal,e));const{same:_,other:v}=OM(e,t,u,i);f|=_&&r.length,p=p||v,d.fullSize||r.push(u)}return f&&xu(r,e,t,i)||p}function sf(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function eE(n,e,t,i){const r=t.padding;let{x:o,y:l}=e;for(const u of n){const d=u.box,f=i[u.stack]||{placed:0,weight:1},p=u.stackWeight/f.weight||1;if(u.horizontal){const _=e.w*p,v=f.size||d.height;Yu(f.start)&&(l=f.start),d.fullSize?sf(d,r.left,l,t.outerWidth-r.right-r.left,v):sf(d,e.left+f.placed,l,_,v),f.start=l,f.placed+=_,l=d.bottom}else{const _=e.h*p,v=f.size||d.width;Yu(f.start)&&(o=f.start),d.fullSize?sf(d,o,r.top,v,t.outerHeight-r.bottom-r.top):sf(d,o,e.top+f.placed,v,_),f.start=o,f.placed+=_,o=d.right}}e.x=o,e.y=l}var On={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const r=Ln(n.options.layout.padding),o=Math.max(e-r.width,0),l=Math.max(t-r.height,0),u=MM(n.boxes),d=u.vertical,f=u.horizontal;mt(n.boxes,A=>{typeof A.beforeLayout=="function"&&A.beforeLayout()});const p=d.reduce((A,C)=>C.box.options&&C.box.options.display===!1?A:A+1,0)||1,_=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/p,hBoxMaxHeight:l/2}),v=Object.assign({},r);TS(v,Ln(i));const E=Object.assign({maxPadding:v,w:o,h:l,x:r.left,y:r.top},r),S=DM(d.concat(f),_);xu(u.fullSize,E,_,S),xu(d,E,_,S),xu(f,E,_,S)&&xu(d,E,_,S),PM(E),eE(u.leftAndTop,E,_,S),E.x+=E.w,E.y+=E.h,eE(u.rightAndBottom,E,_,S),n.chartArea={left:E.left,top:E.top,right:E.left+E.w,bottom:E.top+E.h,height:E.h,width:E.w},mt(u.chartArea,A=>{const C=A.box;Object.assign(C,n.chartArea),C.update(E.w,E.h,{left:0,top:0,right:0,bottom:0})})}};class SS{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}}class jM extends SS{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const wf="$chartjs",VM={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},tE=n=>n===null||n==="";function UM(n,e){const t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[wf]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",tE(r)){const o=Vw(n,"width");o!==void 0&&(n.width=o)}if(tE(i))if(n.style.height==="")n.height=n.width/(e||2);else{const o=Vw(n,"height");o!==void 0&&(n.height=o)}return n}const AS=OD?{passive:!0}:!1;function zM(n,e,t){n&&n.addEventListener(e,t,AS)}function BM(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,AS)}function FM(n,e){const t=VM[n.type]||n.type,{x:i,y:r}=go(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Ff(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function HM(n,e,t){const i=n.canvas,r=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||Ff(u.addedNodes,i),l=l&&!Ff(u.removedNodes,i);l&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function qM(n,e,t){const i=n.canvas,r=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||Ff(u.removedNodes,i),l=l&&!Ff(u.addedNodes,i);l&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const Ku=new Map;let nE=0;function CS(){const n=window.devicePixelRatio;n!==nE&&(nE=n,Ku.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function GM(n,e){Ku.size||window.addEventListener("resize",CS),Ku.set(n,e)}function YM(n){Ku.delete(n),Ku.size||window.removeEventListener("resize",CS)}function $M(n,e,t){const i=n.canvas,r=i&&R0(i);if(!r)return;const o=tS((u,d)=>{const f=r.clientWidth;t(u,d),f<r.clientWidth&&t()},window),l=new ResizeObserver(u=>{const d=u[0],f=d.contentRect.width,p=d.contentRect.height;f===0&&p===0||o(f,p)});return l.observe(r),GM(n,o),l}function Jp(n,e,t){t&&t.disconnect(),e==="resize"&&YM(n)}function WM(n,e,t){const i=n.canvas,r=tS(o=>{n.ctx!==null&&t(FM(o,n))},n);return zM(i,e,r),r}class KM extends SS{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(UM(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[wf])return!1;const i=t[wf].initial;["height","width"].forEach(o=>{const l=i[o];qe(l)?t.removeAttribute(o):t.setAttribute(o,l)});const r=i.style||{};return Object.keys(r).forEach(o=>{t.style[o]=r[o]}),t.width=t.width,delete t[wf],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),l={attach:HM,detach:qM,resize:$M}[t]||WM;r[t]=l(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),r=i[t];if(!r)return;({attach:Jp,detach:Jp,resize:Jp}[t]||BM)(e,t,r),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return MD(e,t,i,r)}isAttached(e){const t=e&&R0(e);return!!(t&&t.isConnected)}}function QM(n){return!C0()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?jM:KM}class vr{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return ql(this.x)&&ql(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const r={};return e.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function XM(n,e){const t=n.options.ticks,i=JM(n),r=Math.min(t.maxTicksLimit||i,i),o=t.major.enabled?eO(e):[],l=o.length,u=o[0],d=o[l-1],f=[];if(l>r)return tO(e,f,o,l/r),f;const p=ZM(o,e,r);if(l>0){let _,v;const E=l>1?Math.round((d-u)/(l-1)):null;for(rf(e,f,p,qe(E)?0:u-E,u),_=0,v=l-1;_<v;_++)rf(e,f,p,o[_],o[_+1]);return rf(e,f,p,d,qe(E)?e.length:d+E),f}return rf(e,f,p),f}function JM(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),r=n._maxLength/t;return Math.floor(Math.min(i,r))}function ZM(n,e,t){const i=nO(n),r=e.length/t;if(!i)return Math.max(r,1);const o=Lk(i);for(let l=0,u=o.length-1;l<u;l++){const d=o[l];if(d>r)return d}return Math.max(r,1)}function eO(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function tO(n,e,t,i){let r=0,o=t[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===o&&(e.push(n[l]),r++,o=t[r*i])}function rf(n,e,t,i,r){const o=Oe(i,0),l=Math.min(Oe(r,n.length),n.length);let u=0,d,f,p;for(t=Math.ceil(t),r&&(d=r-i,t=d/Math.floor(d/t)),p=o;p<0;)u++,p=Math.round(o+u*t);for(f=Math.max(o,0);f<l;f++)f===p&&(e.push(n[f]),u++,p=Math.round(o+u*t))}function nO(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const iO=n=>n==="left"?"right":n==="right"?"left":n,iE=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,sE=(n,e)=>Math.min(e||n,n);function rE(n,e){const t=[],i=n.length/e,r=n.length;let o=0;for(;o<r;o+=i)t.push(n[Math.floor(o)]);return t}function sO(n,e,t){const i=n.ticks.length,r=Math.min(e,i-1),o=n._startPixel,l=n._endPixel,u=1e-6;let d=n.getPixelForTick(r),f;if(!(t&&(i===1?f=Math.max(d-o,l-d):e===0?f=(n.getPixelForTick(1)-d)/2:f=(d-n.getPixelForTick(r-1))/2,d+=r<e?f:-f,d<o-u||d>l+u)))return d}function rO(n,e){mt(n,t=>{const i=t.gc,r=i.length/2;let o;if(r>e){for(o=0;o<r;++o)delete t.data[i[o]];i.splice(0,r)}})}function gu(n){return n.drawTicks?n.tickLength:0}function aE(n,e){if(!n.display)return 0;const t=un(n.font,e),i=Ln(n.padding);return(Rt(n.text)?n.text.length:1)*t.lineHeight+i.height}function aO(n,e){return ka(n,{scale:e,type:"scale"})}function oO(n,e,t){return ka(n,{tick:t,index:e,type:"tick"})}function lO(n,e,t){let i=x0(n);return(t&&e!=="right"||!t&&e==="right")&&(i=iO(i)),i}function cO(n,e,t,i){const{top:r,left:o,bottom:l,right:u,chart:d}=n,{chartArea:f,scales:p}=d;let _=0,v,E,S;const A=l-r,C=u-o;if(n.isHorizontal()){if(E=In(i,o,u),Qe(t)){const M=Object.keys(t)[0],L=t[M];S=p[M].getPixelForValue(L)+A-e}else t==="center"?S=(f.bottom+f.top)/2+A-e:S=iE(n,t,e);v=u-o}else{if(Qe(t)){const M=Object.keys(t)[0],L=t[M];E=p[M].getPixelForValue(L)-C+e}else t==="center"?E=(f.left+f.right)/2-C+e:E=iE(n,t,e);S=In(i,l,r),_=t==="left"?-$t:$t}return{titleX:E,titleY:S,maxWidth:v,rotation:_}}class Do extends vr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=fi(e,Number.POSITIVE_INFINITY),t=fi(t,Number.NEGATIVE_INFINITY),i=fi(i,Number.POSITIVE_INFINITY),r=fi(r,Number.NEGATIVE_INFINITY),{min:fi(e,i),max:fi(t,r),minDefined:Vt(e),maxDefined:Vt(t)}}getMinMax(e){let{min:t,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),l;if(r&&o)return{min:t,max:i};const u=this.getMatchingVisibleMetas();for(let d=0,f=u.length;d<f;++d)l=u[d].controller.getMinMax(this,e),r||(t=Math.min(t,l.min)),o||(i=Math.max(i,l.max));return t=o&&t>i?i:t,i=r&&t>i?t:i,{min:fi(t,fi(i,t)),max:fi(i,fi(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){vt(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:r,grace:o,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=hD(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=u<this.ticks.length;this._convertTicksToLabels(d?rE(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=XM(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){vt(this.options.afterUpdate,[this])}beforeSetDimensions(){vt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){vt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),vt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){vt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,r,o;for(i=0,r=e.length;i<r;i++)o=e[i],o.label=vt(t.callback,[o.value,i,e],this)}afterTickToLabelConversion(){vt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){vt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=sE(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,o=t.maxRotation;let l=r,u,d,f;if(!this._isVisible()||!t.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),_=p.widest.width,v=p.highest.height,E=yn(this.chart.width-_,0,this.maxWidth);u=e.offset?this.maxWidth/i:E/(i-1),_+6>u&&(u=E/(i-(e.offset?.5:1)),d=this.maxHeight-gu(e.grid)-t.padding-aE(e.title,this.chart.options.font),f=Math.sqrt(_*_+v*v),l=b0(Math.min(Math.asin(yn((p.highest.height+6)/u,-1,1)),Math.asin(yn(d/f,-1,1))-Math.asin(yn(v/f,-1,1)))),l=Math.max(r,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){vt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){vt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:o}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const d=aE(r,t.options.font);if(u?(e.width=this.maxWidth,e.height=gu(o)+d):(e.height=this.maxHeight,e.width=gu(o)+d),i.display&&this.ticks.length){const{first:f,last:p,widest:_,highest:v}=this._getLabelSizes(),E=i.padding*2,S=Qi(this.labelRotation),A=Math.cos(S),C=Math.sin(S);if(u){const M=i.mirror?0:C*_.width+A*v.height;e.height=Math.min(this.maxHeight,e.height+M+E)}else{const M=i.mirror?0:A*_.width+C*v.height;e.width=Math.min(this.maxWidth,e.width+M+E)}this._calculatePadding(f,p,C,A)}}this._handleMargins(),u?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){const{ticks:{align:o,padding:l},position:u}=this.options,d=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,E=0;d?f?(v=r*e.width,E=i*t.height):(v=i*e.height,E=r*t.width):o==="start"?E=t.width:o==="end"?v=e.width:o!=="inner"&&(v=e.width/2,E=t.width/2),this.paddingLeft=Math.max((v-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((E-_+l)*this.width/(this.width-_),0)}else{let p=t.height/2,_=e.height/2;o==="start"?(p=0,_=e.height):o==="end"&&(p=t.height,_=0),this.paddingTop=p+l,this.paddingBottom=_+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){vt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)qe(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=rE(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:r,_longestTextCache:o}=this,l=[],u=[],d=Math.floor(t/sE(t,i));let f=0,p=0,_,v,E,S,A,C,M,L,H,Y,$;for(_=0;_<t;_+=d){if(S=e[_].label,A=this._resolveTickFontOptions(_),r.font=C=A.string,M=o[C]=o[C]||{data:{},gc:[]},L=A.lineHeight,H=Y=0,!qe(S)&&!Rt(S))H=zf(r,M.data,M.gc,H,S),Y=L;else if(Rt(S))for(v=0,E=S.length;v<E;++v)$=S[v],!qe($)&&!Rt($)&&(H=zf(r,M.data,M.gc,H,$),Y+=L);l.push(H),u.push(Y),f=Math.max(H,f),p=Math.max(Y,p)}rO(o,t);const te=l.indexOf(f),I=u.indexOf(p),N=D=>({width:l[D]||0,height:u[D]||0});return{first:N(0),last:N(t-1),widest:N(te),highest:N(I),widths:l,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return zk(this._alignToPixels?ho(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=oO(this.getContext(),e,i))}return this.$context||(this.$context=aO(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Qi(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),o=this._getLabelSizes(),l=e.autoSkipPadding||0,u=o?o.widest.width+l:0,d=o?o.highest.height+l:0;return this.isHorizontal()?d*i>u*r?u/i:d/r:d*r<u*i?d/i:u/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,r=this.options,{grid:o,position:l,border:u}=r,d=o.offset,f=this.isHorizontal(),_=this.ticks.length+(d?1:0),v=gu(o),E=[],S=u.setContext(this.getContext()),A=S.display?S.width:0,C=A/2,M=function(Q){return ho(i,Q,A)};let L,H,Y,$,te,I,N,D,j,P,U,O;if(l==="top")L=M(this.bottom),I=this.bottom-v,D=L-C,P=M(e.top)+C,O=e.bottom;else if(l==="bottom")L=M(this.top),P=e.top,O=M(e.bottom)-C,I=L+C,D=this.top+v;else if(l==="left")L=M(this.right),te=this.right-v,N=L-C,j=M(e.left)+C,U=e.right;else if(l==="right")L=M(this.left),j=e.left,U=M(e.right)-C,te=L+C,N=this.left+v;else if(t==="x"){if(l==="center")L=M((e.top+e.bottom)/2+.5);else if(Qe(l)){const Q=Object.keys(l)[0],le=l[Q];L=M(this.chart.scales[Q].getPixelForValue(le))}P=e.top,O=e.bottom,I=L+C,D=I+v}else if(t==="y"){if(l==="center")L=M((e.left+e.right)/2);else if(Qe(l)){const Q=Object.keys(l)[0],le=l[Q];L=M(this.chart.scales[Q].getPixelForValue(le))}te=L-C,N=te-v,j=e.left,U=e.right}const Ie=Oe(r.ticks.maxTicksLimit,_),be=Math.max(1,Math.ceil(_/Ie));for(H=0;H<_;H+=be){const Q=this.getContext(H),le=o.setContext(Q),fe=u.setContext(Q),ye=le.lineWidth,Se=le.color,z=fe.dash||[],ne=fe.dashOffset,ue=le.tickWidth,de=le.tickColor,xe=le.tickBorderDash||[],Te=le.tickBorderDashOffset;Y=sO(this,H,d),Y!==void 0&&($=ho(i,Y,ye),f?te=N=j=U=$:I=D=P=O=$,E.push({tx1:te,ty1:I,tx2:N,ty2:D,x1:j,y1:P,x2:U,y2:O,width:ye,color:Se,borderDash:z,borderDashOffset:ne,tickWidth:ue,tickColor:de,tickBorderDash:xe,tickBorderDashOffset:Te}))}return this._ticksLength=_,this._borderValue=L,E}_computeLabelItems(e){const t=this.axis,i=this.options,{position:r,ticks:o}=i,l=this.isHorizontal(),u=this.ticks,{align:d,crossAlign:f,padding:p,mirror:_}=o,v=gu(i.grid),E=v+p,S=_?-p:E,A=-Qi(this.labelRotation),C=[];let M,L,H,Y,$,te,I,N,D,j,P,U,O="middle";if(r==="top")te=this.bottom-S,I=this._getXAxisLabelAlignment();else if(r==="bottom")te=this.top+S,I=this._getXAxisLabelAlignment();else if(r==="left"){const be=this._getYAxisLabelAlignment(v);I=be.textAlign,$=be.x}else if(r==="right"){const be=this._getYAxisLabelAlignment(v);I=be.textAlign,$=be.x}else if(t==="x"){if(r==="center")te=(e.top+e.bottom)/2+E;else if(Qe(r)){const be=Object.keys(r)[0],Q=r[be];te=this.chart.scales[be].getPixelForValue(Q)+E}I=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")$=(e.left+e.right)/2-E;else if(Qe(r)){const be=Object.keys(r)[0],Q=r[be];$=this.chart.scales[be].getPixelForValue(Q)}I=this._getYAxisLabelAlignment(v).textAlign}t==="y"&&(d==="start"?O="top":d==="end"&&(O="bottom"));const Ie=this._getLabelSizes();for(M=0,L=u.length;M<L;++M){H=u[M],Y=H.label;const be=o.setContext(this.getContext(M));N=this.getPixelForTick(M)+o.labelOffset,D=this._resolveTickFontOptions(M),j=D.lineHeight,P=Rt(Y)?Y.length:1;const Q=P/2,le=be.color,fe=be.textStrokeColor,ye=be.textStrokeWidth;let Se=I;l?($=N,I==="inner"&&(M===L-1?Se=this.options.reverse?"left":"right":M===0?Se=this.options.reverse?"right":"left":Se="center"),r==="top"?f==="near"||A!==0?U=-P*j+j/2:f==="center"?U=-Ie.highest.height/2-Q*j+j:U=-Ie.highest.height+j/2:f==="near"||A!==0?U=j/2:f==="center"?U=Ie.highest.height/2-Q*j:U=Ie.highest.height-P*j,_&&(U*=-1),A!==0&&!be.showLabelBackdrop&&($+=j/2*Math.sin(A))):(te=N,U=(1-P)*j/2);let z;if(be.showLabelBackdrop){const ne=Ln(be.backdropPadding),ue=Ie.heights[M],de=Ie.widths[M];let xe=U-ne.top,Te=0-ne.left;switch(O){case"middle":xe-=ue/2;break;case"bottom":xe-=ue;break}switch(I){case"center":Te-=de/2;break;case"right":Te-=de;break;case"inner":M===L-1?Te-=de:M>0&&(Te-=de/2);break}z={left:Te,top:xe,width:de+ne.width,height:ue+ne.height,color:be.backdropColor}}C.push({label:Y,font:D,textOffset:U,options:{rotation:A,color:le,strokeColor:fe,strokeWidth:ye,textAlign:Se,textBaseline:O,translation:[$,te],backdrop:z}})}return C}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Qi(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,l=this._getLabelSizes(),u=e+o,d=l.widest.width;let f,p;return t==="left"?r?(p=this.right+o,i==="near"?f="left":i==="center"?(f="center",p+=d/2):(f="right",p+=d)):(p=this.right-u,i==="near"?f="right":i==="center"?(f="center",p-=d/2):(f="left",p=this.left)):t==="right"?r?(p=this.left+o,i==="near"?f="right":i==="center"?(f="center",p-=d/2):(f="left",p-=d)):(p=this.left+u,i==="near"?f="left":i==="center"?(f="center",p+=d/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:r,width:o,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,o,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(o=>o.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,l;const u=(d,f,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(d.x,d.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(t.display)for(o=0,l=r.length;o<l;++o){const d=r[o];t.drawOnChartArea&&u({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),t.drawTicks&&u({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),l=i.display?o.width:0;if(!l)return;const u=r.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let f,p,_,v;this.isHorizontal()?(f=ho(e,this.left,l)-l/2,p=ho(e,this.right,u)+u/2,_=v=d):(_=ho(e,this.top,l)-l/2,v=ho(e,this.bottom,u)+u/2,f=p=d),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(f,_),t.lineTo(p,v),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&hm(i,r);const o=this.getLabelItems(e);for(const l of o){const u=l.options,d=l.font,f=l.label,p=l.textOffset;To(i,f,0,p,d,u)}r&&dm(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;const o=un(i.font),l=Ln(i.padding),u=i.align;let d=o.lineHeight/2;t==="bottom"||t==="center"||Qe(t)?(d+=l.bottom,Rt(i.text)&&(d+=o.lineHeight*(i.text.length-1))):d+=l.top;const{titleX:f,titleY:p,maxWidth:_,rotation:v}=cO(this,d,t,u);To(e,i.text,0,0,o,{color:i.color,maxWidth:_,rotation:v,textAlign:lO(u,t,r),textBaseline:"middle",translation:[f,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=Oe(e.grid&&e.grid.z,-1),r=Oe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Do.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,l;for(o=0,l=t.length;o<l;++o){const u=t[o];u[i]===this.id&&(!e||u.type===e)&&r.push(u)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return un(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class af{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;dO(t)&&(i=this.register(t));const r=this.items,o=e.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in r||(r[o]=e,uO(e,l,i),this.override&&Nt.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in Nt[r]&&(delete Nt[r][i],this.override&&delete Eo[i])}}function uO(n,e,t){const i=Gu(Object.create(null),[t?Nt.get(t):{},Nt.get(e),n.defaults]);Nt.set(e,i),n.defaultRoutes&&hO(e,n.defaultRoutes),n.descriptors&&Nt.describe(e,n.descriptors)}function hO(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),r=i.pop(),o=[n].concat(i).join("."),l=e[t].split("."),u=l.pop(),d=l.join(".");Nt.route(o,r,d,u)})}function dO(n){return"id"in n&&"defaults"in n}class fO{constructor(){this.controllers=new af(Da,"datasets",!0),this.elements=new af(vr,"elements"),this.plugins=new af(Object,"plugins"),this.scales=new af(Do,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(e,o,r):mt(r,l=>{const u=i||this._getRegistryForType(l);this._exec(e,u,l)})})}_exec(e,t,i){const r=_0(e);vt(i["before"+r],[],i),t[e](i),vt(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var Es=new fO;class mO{constructor(){this._init=void 0}notify(e,t,i,r){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const o=r?this._descriptors(e).filter(r):this._descriptors(e),l=this._notify(o,e,t,i);return t==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),l}_notify(e,t,i,r){r=r||{};for(const o of e){const l=o.plugin,u=l[i],d=[t,r,o.options];if(vt(u,d,l)===!1&&r.cancelable)return!1}return!0}invalidate(){qe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,r=Oe(i.options&&i.options.plugins,{}),o=gO(i);return r===!1&&!t?[]:yO(e,o,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,r=(o,l)=>o.filter(u=>!l.some(d=>u.plugin.id===d.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}}function gO(n){const e={},t=[],i=Object.keys(Es.plugins.items);for(let o=0;o<i.length;o++)t.push(Es.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const l=r[o];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function pO(n,e){return!e&&n===!1?null:n===!0?{}:n}function yO(n,{plugins:e,localIds:t},i,r){const o=[],l=n.getContext();for(const u of e){const d=u.id,f=pO(i[d],r);f!==null&&o.push({plugin:u,options:_O(n.config,{plugin:u,local:t[d]},f,l)})}return o}function _O(n,{plugin:e,local:t},i,r){const o=n.pluginScopeKeys(e),l=n.getOptionScopes(i,o);return t&&e.defaults&&l.push(e.defaults),n.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ay(n,e){const t=Nt.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function bO(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function vO(n,e){return n===e?"_index_":"_value_"}function oE(n){if(n==="x"||n==="y"||n==="r")return n}function xO(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Cy(n,...e){if(oE(n))return n;for(const t of e){const i=t.axis||xO(t.position)||n.length>1&&oE(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function lE(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function wO(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return lE(n,"x",t[0])||lE(n,"y",t[0])}return{}}function EO(n,e){const t=Eo[n.type]||{scales:{}},i=e.scales||{},r=Ay(n.type,e),o=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!Qe(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const d=Cy(l,u,wO(l,n),Nt.scales[u.type]),f=vO(d,r),p=t.scales||{};o[l]=ku(Object.create(null),[{axis:d},u,p[d],p[f]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,d=l.indexAxis||Ay(u,e),p=(Eo[u]||{}).scales||{};Object.keys(p).forEach(_=>{const v=bO(_,d),E=l[v+"AxisID"]||v;o[E]=o[E]||Object.create(null),ku(o[E],[{axis:v},i[E],p[_]])})}),Object.keys(o).forEach(l=>{const u=o[l];ku(u,[Nt.scales[u.type],Nt.scale])}),o}function RS(n){const e=n.options||(n.options={});e.plugins=Oe(e.plugins,{}),e.scales=EO(n,e)}function NS(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function TO(n){return n=n||{},n.data=NS(n.data),RS(n),n}const cE=new Map,IS=new Set;function of(n,e){let t=cE.get(n);return t||(t=e(),cE.set(n,t),IS.add(t)),t}const pu=(n,e,t)=>{const i=xa(e,t);i!==void 0&&n.add(i)};class SO{constructor(e){this._config=TO(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=NS(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),RS(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return of(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return of(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return of(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return of(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){const{options:r,type:o}=this,l=this._cachedScopes(e,i),u=l.get(t);if(u)return u;const d=new Set;t.forEach(p=>{e&&(d.add(e),p.forEach(_=>pu(d,e,_))),p.forEach(_=>pu(d,r,_)),p.forEach(_=>pu(d,Eo[o]||{},_)),p.forEach(_=>pu(d,Nt,_)),p.forEach(_=>pu(d,Ty,_))});const f=Array.from(d);return f.length===0&&f.push(Object.create(null)),IS.has(t)&&l.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,Eo[t]||{},Nt.datasets[t]||{},{type:t},Nt,Ty]}resolveNamedOptions(e,t,i,r=[""]){const o={$shared:!0},{resolver:l,subPrefixes:u}=uE(this._resolverCache,e,r);let d=l;if(CO(l,t)){o.$shared=!1,i=wa(i)?i():i;const f=this.createResolver(e,i,u);d=Gl(l,i,f)}for(const f of t)o[f]=d[f];return o}createResolver(e,t,i=[""],r){const{resolver:o}=uE(this._resolverCache,e,i);return Qe(t)?Gl(o,t,void 0,r):o}}function uE(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const r=t.join();let o=i.get(r);return o||(o={resolver:T0(e,t),subPrefixes:t.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,o)),o}const AO=n=>Qe(n)&&Object.getOwnPropertyNames(n).some(e=>wa(n[e]));function CO(n,e){const{isScriptable:t,isIndexable:i}=oS(n);for(const r of e){const o=t(r),l=i(r),u=(l||o)&&n[r];if(o&&(wa(u)||AO(u))||l&&Rt(u))return!0}return!1}var RO="4.5.1";const NO=["top","bottom","left","right","chartArea"];function hE(n,e){return n==="top"||n==="bottom"||NO.indexOf(n)===-1&&e==="x"}function dE(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function fE(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),vt(t&&t.onComplete,[n],e)}function IO(n){const e=n.chart,t=e.options.animation;vt(t&&t.onProgress,[n],e)}function kS(n){return C0()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Ef={},mE=n=>{const e=kS(n);return Object.values(Ef).filter(t=>t.canvas===e).pop()};function kO(n,e,t){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=e){const l=n[r];delete n[r],(t>0||o>e)&&(n[o+t]=l)}}}function DO(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}class k0{static defaults=Nt;static instances=Ef;static overrides=Eo;static registry=Es;static version=RO;static getChart=mE;static register(...e){Es.add(...e),gE()}static unregister(...e){Es.remove(...e),gE()}constructor(e,t){const i=this.config=new SO(t),r=kS(e),o=mE(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||QM(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,l.aspectRatio),d=u&&u.canvas,f=d&&d.height,p=d&&d.width;if(this.id=Ck(),this.ctx=u,this.canvas=d,this.width=p,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new mO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=qk(_=>this.update(_),l.resizeDelay||0),this._dataChanges=[],Ef[this.id]=this,!u||!d){console.error("Failed to create chart: can't acquire context from the given item");return}rr.listen(this,"complete",fE),rr.listen(this,"progress",IO),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:r,_aspectRatio:o}=this;return qe(e)?t&&o?o:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Es}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():jw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ow(this.canvas,this.ctx),this}stop(){return rr.stop(this),this}resize(e,t){rr.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(r,e,t,o),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,jw(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),vt(i.onResize,[this,l],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};mt(t,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,r=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let o=[];t&&(o=o.concat(Object.keys(t).map(l=>{const u=t[l],d=Cy(l,u),f=d==="r",p=d==="x";return{options:u,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),mt(o,l=>{const u=l.options,d=u.id,f=Cy(d,u),p=Oe(u.type,l.dtype);(u.position===void 0||hE(u.position,f)!==hE(l.dposition))&&(u.position=l.dposition),r[d]=!0;let _=null;if(d in i&&i[d].type===p)_=i[d];else{const v=Es.getScale(p);_=new v({id:d,type:p,ctx:this.ctx,chart:this}),i[_.id]=_}_.init(u,e)}),mt(r,(l,u)=>{l||delete i[u]}),mt(i,l=>{On.configure(this,l,l.options),On.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((r,o)=>r.index-o.index),i>t){for(let r=t;r<i;++r)this._destroyDatasetMeta(r);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(dE("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,r)=>{t.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=t.length;i<r;i++){const o=t[i];let l=this.getDatasetMeta(i);const u=o.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=o.indexAxis||Ay(u,this.options),l.order=o.order||0,l.index=i,l.label=""+o.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const d=Es.getController(u),{datasetElementType:f,dataElementType:p}=Nt.datasets[u];Object.assign(d,{dataElementType:Es.getElement(p),datasetElementType:f&&Es.getElement(f)}),l.controller=new d(this,i),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){mt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:_}=this.getDatasetMeta(f),v=!r&&o.indexOf(_)===-1;_.buildOrUpdateElements(v),l=Math.max(+_.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),r||mt(o,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(dE("z","_idx"));const{_active:u,_lastEvent:d}=this;d?this._eventHandler(d,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){mt(this.scales,e=>{On.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Sw(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of t){const l=i==="_removeElements"?-o:o;kO(e,r,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=o=>new Set(e.filter(l=>l[0]===o).map((l,u)=>u+","+l.splice(1).join(","))),r=i(0);for(let o=1;o<t;o++)if(!Sw(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;On.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],mt(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,wa(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(rr.has(this)?this.attached&&!rr.running(this)&&rr.start(this):(this.draw(),fE({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let r,o;for(r=0,o=t.length;r<o;++r){const l=t[r];(!e||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=_S(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&hm(t,r),e.controller.draw(),r&&dm(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return ur(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,r){const o=NM.modes[t];return typeof o=="function"?o(this,e,i,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let r=i.filter(o=>o&&o._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=ka(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const r=i?"show":"hide",o=this.getDatasetMeta(e),l=o.controller._resolveAnimations(void 0,r);Yu(t)?(o.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),l.update(o,{visible:i}),this.update(u=>u.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),rr.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Ow(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Ef[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(o,l)=>{t.addEventListener(this,o,l),e[o]=l},r=(o,l,u)=>{o.offsetX=l,o.offsetY=u,this._eventHandler(o)};mt(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(d,f)=>{t.addEventListener(this,d,f),e[d]=f},r=(d,f)=>{e[d]&&(t.removeEventListener(this,d,f),delete e[d])},o=(d,f)=>{this.canvas&&this.resize(d,f)};let l;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",o),i("detach",l)};l=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",u)},t.isAttached(this.canvas)?u():l()}unbindEvents(){mt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},mt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const r=i?"set":"remove";let o,l,u,d;for(t==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),u=0,d=e.length;u<d;++u){l=e[u];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:o,index:l})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[l],index:l}});!jf(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const r=this.options.hover,o=(d,f)=>d.filter(p=>!f.some(_=>p.datasetIndex===_.datasetIndex&&p.index===_.index)),l=o(t,e),u=i?e:o(e,t);l.length&&this.updateHoverStyle(l,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:r=[],options:o}=this,l=t,u=this._getActiveElements(e,r,i,l),d=Mk(e),f=DO(e,this._lastEvent,i,d);i&&(this._lastEvent=null,vt(o.onHover,[e,u,this],this),d&&vt(o.onClick,[e,u,this],this));const p=!jf(u,r);return(p||t)&&(this._active=u,this._updateHoverStyles(u,r,t)),this._lastEvent=f,p}_getActiveElements(e,t,i,r){if(e.type==="mouseout")return[];if(!i)return t;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,r)}}function gE(){return mt(k0.instances,n=>n._plugins.invalidate())}function MO(n,e,t){const{startAngle:i,x:r,y:o,outerRadius:l,innerRadius:u,options:d}=e,{borderWidth:f,borderJoinStyle:p}=d,_=Math.min(f/l,Dn(i-t));if(n.beginPath(),n.arc(r,o,l-f/2,i+_/2,t-_/2),u>0){const v=Math.min(f/u,Dn(i-t));n.arc(r,o,u+f/2,t-v/2,i+v/2,!0)}else{const v=Math.min(f/2,l*Dn(i-t));if(p==="round")n.arc(r,o,v,t-st/2,i+st/2,!0);else if(p==="bevel"){const E=2*v*v,S=-E*Math.cos(t+st/2)+r,A=-E*Math.sin(t+st/2)+o,C=E*Math.cos(i+st/2)+r,M=E*Math.sin(i+st/2)+o;n.lineTo(S,A),n.lineTo(C,M)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function OO(n,e,t){const{startAngle:i,pixelMargin:r,x:o,y:l,outerRadius:u,innerRadius:d}=e;let f=r/u;n.beginPath(),n.arc(o,l,u,i-f,t+f),d>r?(f=r/d,n.arc(o,l,d,t+f,i-f,!0)):n.arc(o,l,r,t+$t,i-$t),n.closePath(),n.clip()}function PO(n){return E0(n,["outerStart","outerEnd","innerStart","innerEnd"])}function LO(n,e,t,i){const r=PO(n.options.borderRadius),o=(t-e)/2,l=Math.min(o,i*e/2),u=d=>{const f=(t-Math.min(o,d))*i/2;return yn(d,0,Math.min(o,f))};return{outerStart:u(r.outerStart),outerEnd:u(r.outerEnd),innerStart:yn(r.innerStart,0,l),innerEnd:yn(r.innerEnd,0,l)}}function Cl(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function Hf(n,e,t,i,r,o){const{x:l,y:u,startAngle:d,pixelMargin:f,innerRadius:p}=e,_=Math.max(e.outerRadius+i+t-f,0),v=p>0?p+i+t+f:0;let E=0;const S=r-d;if(i){const be=p>0?p-i:0,Q=_>0?_-i:0,le=(be+Q)/2,fe=le!==0?S*le/(le+i):S;E=(S-fe)/2}const A=Math.max(.001,S*_-t/st)/_,C=(S-A)/2,M=d+C+E,L=r-C-E,{outerStart:H,outerEnd:Y,innerStart:$,innerEnd:te}=LO(e,v,_,L-M),I=_-H,N=_-Y,D=M+H/I,j=L-Y/N,P=v+$,U=v+te,O=M+$/P,Ie=L-te/U;if(n.beginPath(),o){const be=(D+j)/2;if(n.arc(l,u,_,D,be),n.arc(l,u,_,be,j),Y>0){const ye=Cl(N,j,l,u);n.arc(ye.x,ye.y,Y,j,L+$t)}const Q=Cl(U,L,l,u);if(n.lineTo(Q.x,Q.y),te>0){const ye=Cl(U,Ie,l,u);n.arc(ye.x,ye.y,te,L+$t,Ie+Math.PI)}const le=(L-te/v+(M+$/v))/2;if(n.arc(l,u,v,L-te/v,le,!0),n.arc(l,u,v,le,M+$/v,!0),$>0){const ye=Cl(P,O,l,u);n.arc(ye.x,ye.y,$,O+Math.PI,M-$t)}const fe=Cl(I,M,l,u);if(n.lineTo(fe.x,fe.y),H>0){const ye=Cl(I,D,l,u);n.arc(ye.x,ye.y,H,M-$t,D)}}else{n.moveTo(l,u);const be=Math.cos(D)*_+l,Q=Math.sin(D)*_+u;n.lineTo(be,Q);const le=Math.cos(j)*_+l,fe=Math.sin(j)*_+u;n.lineTo(le,fe)}n.closePath()}function jO(n,e,t,i,r){const{fullCircles:o,startAngle:l,circumference:u}=e;let d=e.endAngle;if(o){Hf(n,e,t,i,d,r);for(let f=0;f<o;++f)n.fill();isNaN(u)||(d=l+(u%St||St))}return Hf(n,e,t,i,d,r),n.fill(),d}function VO(n,e,t,i,r){const{fullCircles:o,startAngle:l,circumference:u,options:d}=e,{borderWidth:f,borderJoinStyle:p,borderDash:_,borderDashOffset:v,borderRadius:E}=d,S=d.borderAlign==="inner";if(!f)return;n.setLineDash(_||[]),n.lineDashOffset=v,S?(n.lineWidth=f*2,n.lineJoin=p||"round"):(n.lineWidth=f,n.lineJoin=p||"bevel");let A=e.endAngle;if(o){Hf(n,e,t,i,A,r);for(let C=0;C<o;++C)n.stroke();isNaN(u)||(A=l+(u%St||St))}S&&OO(n,e,A),d.selfJoin&&A-l>=st&&E===0&&p!=="miter"&&MO(n,e,A),o||(Hf(n,e,t,i,A,r),n.stroke())}class UO extends vr{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,i){const r=this.getProps(["x","y"],i),{angle:o,distance:l}=XT(r,{x:e,y:t}),{startAngle:u,endAngle:d,innerRadius:f,outerRadius:p,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),v=(this.options.spacing+this.options.borderWidth)/2,E=Oe(_,d-u),S=$u(o,u,d)&&u!==d,A=E>=St||S,C=lr(l,f+v,p+v);return A&&C}getCenterPoint(e){const{x:t,y:i,startAngle:r,endAngle:o,innerRadius:l,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:d,spacing:f}=this.options,p=(r+o)/2,_=(l+u+f+d)/2;return{x:t+Math.cos(p)*_,y:i+Math.sin(p)*_}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:i}=this,r=(t.offset||0)/4,o=(t.spacing||0)/2,l=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=i>St?Math.floor(i/St):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const u=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(u)*r,Math.sin(u)*r);const d=1-Math.sin(Math.min(st,i||0)),f=r*d;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,jO(e,this,f,o,l),VO(e,this,f,o,l),e.restore()}}function DS(n,e,t=e){n.lineCap=Oe(t.borderCapStyle,e.borderCapStyle),n.setLineDash(Oe(t.borderDash,e.borderDash)),n.lineDashOffset=Oe(t.borderDashOffset,e.borderDashOffset),n.lineJoin=Oe(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=Oe(t.borderWidth,e.borderWidth),n.strokeStyle=Oe(t.borderColor,e.borderColor)}function zO(n,e,t){n.lineTo(t.x,t.y)}function BO(n){return n.stepped?nD:n.tension||n.cubicInterpolationMode==="monotone"?iD:zO}function MS(n,e,t={}){const i=n.length,{start:r=0,end:o=i-1}=t,{start:l,end:u}=e,d=Math.max(r,l),f=Math.min(o,u),p=r<l&&o<l||r>u&&o>u;return{count:i,start:d,loop:e.loop,ilen:f<d&&!p?i+f-d:f-d}}function FO(n,e,t,i){const{points:r,options:o}=e,{count:l,start:u,loop:d,ilen:f}=MS(r,t,i),p=BO(o);let{move:_=!0,reverse:v}=i||{},E,S,A;for(E=0;E<=f;++E)S=r[(u+(v?f-E:E))%l],!S.skip&&(_?(n.moveTo(S.x,S.y),_=!1):p(n,A,S,v,o.stepped),A=S);return d&&(S=r[(u+(v?f:0))%l],p(n,A,S,v,o.stepped)),!!d}function HO(n,e,t,i){const r=e.points,{count:o,start:l,ilen:u}=MS(r,t,i),{move:d=!0,reverse:f}=i||{};let p=0,_=0,v,E,S,A,C,M;const L=Y=>(l+(f?u-Y:Y))%o,H=()=>{A!==C&&(n.lineTo(p,C),n.lineTo(p,A),n.lineTo(p,M))};for(d&&(E=r[L(0)],n.moveTo(E.x,E.y)),v=0;v<=u;++v){if(E=r[L(v)],E.skip)continue;const Y=E.x,$=E.y,te=Y|0;te===S?($<A?A=$:$>C&&(C=$),p=(_*p+Y)/++_):(H(),n.lineTo(Y,$),S=te,_=0,A=C=$),M=$}H()}function Ry(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?HO:FO}function qO(n){return n.stepped?PD:n.tension||n.cubicInterpolationMode==="monotone"?LD:po}function GO(n,e,t,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,t,i)&&r.closePath()),DS(n,e.options),n.stroke(r)}function YO(n,e,t,i){const{segments:r,options:o}=e,l=Ry(e);for(const u of r)DS(n,o,u.style),n.beginPath(),l(n,e,u,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}const $O=typeof Path2D=="function";function WO(n,e,t,i){$O&&!e.options.segment?GO(n,e,t,i):YO(n,e,t,i)}class gm extends vr{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;CD(this._points,i,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=FD(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,r=e[t],o=this.points,l=yS(this,{property:t,start:r,end:r});if(!l.length)return;const u=[],d=qO(i);let f,p;for(f=0,p=l.length;f<p;++f){const{start:_,end:v}=l[f],E=o[_],S=o[v];if(E===S){u.push(E);continue}const A=Math.abs((r-E[t])/(S[t]-E[t])),C=d(E,S,A,i.stepped);C[t]=e[t],u.push(C)}return u.length===1?u[0]:u}pathSegment(e,t,i){return Ry(this)(e,this,t,i)}path(e,t,i){const r=this.segments,o=Ry(this);let l=this._loop;t=t||0,i=i||this.points.length-t;for(const u of r)l&=o(e,this,u,{start:t,end:t+i-1});return!!l}draw(e,t,i,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),WO(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function pE(n,e,t,i){const r=n.options,{[t]:o}=n.getProps([t],i);return Math.abs(e-o)<r.radius+r.hitRadius}class KO extends vr{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,i){const r=this.options,{x:o,y:l}=this.getProps(["x","y"],i);return Math.pow(e-o,2)+Math.pow(t-l,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return pE(this,e,"x",t)}inYRange(e,t){return pE(this,e,"y",t)}getCenterPoint(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const i=t&&e.borderWidth||0;return(t+i)*2}draw(e,t){const i=this.options;this.skip||i.radius<.1||!ur(this,t,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,Sy(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function OS(n,e){const{x:t,y:i,base:r,width:o,height:l}=n.getProps(["x","y","base","width","height"],e);let u,d,f,p,_;return n.horizontal?(_=l/2,u=Math.min(t,r),d=Math.max(t,r),f=i-_,p=i+_):(_=o/2,u=t-_,d=t+_,f=Math.min(i,r),p=Math.max(i,r)),{left:u,top:f,right:d,bottom:p}}function fa(n,e,t,i){return n?0:yn(e,t,i)}function QO(n,e,t){const i=n.options.borderWidth,r=n.borderSkipped,o=aS(i);return{t:fa(r.top,o.top,0,t),r:fa(r.right,o.right,0,e),b:fa(r.bottom,o.bottom,0,t),l:fa(r.left,o.left,0,e)}}function XO(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=bo(r),l=Math.min(e,t),u=n.borderSkipped,d=i||Qe(r);return{topLeft:fa(!d||u.top||u.left,o.topLeft,0,l),topRight:fa(!d||u.top||u.right,o.topRight,0,l),bottomLeft:fa(!d||u.bottom||u.left,o.bottomLeft,0,l),bottomRight:fa(!d||u.bottom||u.right,o.bottomRight,0,l)}}function JO(n){const e=OS(n),t=e.right-e.left,i=e.bottom-e.top,r=QO(n,t/2,i/2),o=XO(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:o},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function Zp(n,e,t,i){const r=e===null,o=t===null,u=n&&!(r&&o)&&OS(n,i);return u&&(r||lr(e,u.left,u.right))&&(o||lr(t,u.top,u.bottom))}function ZO(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function eP(n,e){n.rect(e.x,e.y,e.w,e.h)}function ey(n,e,t={}){const i=n.x!==t.x?-e:0,r=n.y!==t.y?-e:0,o=(n.x+n.w!==t.x+t.w?e:0)-i,l=(n.y+n.h!==t.y+t.h?e:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+l,radius:n.radius}}class tP extends vr{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:l}=JO(this),u=ZO(l.radius)?Wu:eP;e.save(),(l.w!==o.w||l.h!==o.h)&&(e.beginPath(),u(e,ey(l,t,o)),e.clip(),u(e,ey(o,-t,l)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),u(e,ey(o,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,i){return Zp(this,e,t,i)}inXRange(e,t){return Zp(this,e,null,t)}inYRange(e,t){return Zp(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(t+r)/2:t,y:o?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}var nP=Object.freeze({__proto__:null,ArcElement:UO,BarElement:tP,LineElement:gm,PointElement:KO});const Ny=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],yE=Ny.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function PS(n){return Ny[n%Ny.length]}function LS(n){return yE[n%yE.length]}function iP(n,e){return n.borderColor=PS(e),n.backgroundColor=LS(e),++e}function sP(n,e){return n.backgroundColor=n.data.map(()=>PS(e++)),e}function rP(n,e){return n.backgroundColor=n.data.map(()=>LS(e++)),e}function aP(n){let e=0;return(t,i)=>{const r=n.getDatasetMeta(i).controller;r instanceof N0?e=sP(t,e):r instanceof wS?e=rP(t,e):r&&(e=iP(t,e))}}function _E(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function oP(n){return n&&(n.borderColor||n.backgroundColor)}function lP(){return Nt.borderColor!=="rgba(0,0,0,0.1)"||Nt.backgroundColor!=="rgba(0,0,0,0.1)"}var cP={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;const{data:{datasets:i},options:r}=n.config,{elements:o}=r,l=_E(i)||oP(r)||o&&_E(o)||lP();if(!t.forceOverride&&l)return;const u=aP(n);i.forEach(u)}};function uP(n,e,t,i,r){const o=r.samples||i;if(o>=t)return n.slice(e,e+t);const l=[],u=(t-2)/(o-2);let d=0;const f=e+t-1;let p=e,_,v,E,S,A;for(l[d++]=n[p],_=0;_<o-2;_++){let C=0,M=0,L;const H=Math.floor((_+1)*u)+1+e,Y=Math.min(Math.floor((_+2)*u)+1,t)+e,$=Y-H;for(L=H;L<Y;L++)C+=n[L].x,M+=n[L].y;C/=$,M/=$;const te=Math.floor(_*u)+1+e,I=Math.min(Math.floor((_+1)*u)+1,t)+e,{x:N,y:D}=n[p];for(E=S=-1,L=te;L<I;L++)S=.5*Math.abs((N-C)*(n[L].y-D)-(N-n[L].x)*(M-D)),S>E&&(E=S,v=n[L],A=L);l[d++]=v,p=A}return l[d++]=n[f],l}function hP(n,e,t,i){let r=0,o=0,l,u,d,f,p,_,v,E,S,A;const C=[],M=e+t-1,L=n[e].x,Y=n[M].x-L;for(l=e;l<e+t;++l){u=n[l],d=(u.x-L)/Y*i,f=u.y;const $=d|0;if($===p)f<S?(S=f,_=l):f>A&&(A=f,v=l),r=(o*r+u.x)/++o;else{const te=l-1;if(!qe(_)&&!qe(v)){const I=Math.min(_,v),N=Math.max(_,v);I!==E&&I!==te&&C.push({...n[I],x:r}),N!==E&&N!==te&&C.push({...n[N],x:r})}l>0&&te!==E&&C.push(n[te]),C.push(u),p=$,o=0,S=A=f,_=v=E=l}}return C}function jS(n){if(n._decimated){const e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function bE(n){n.data.datasets.forEach(e=>{jS(e)})}function dP(n,e){const t=e.length;let i=0,r;const{iScale:o}=n,{min:l,max:u,minDefined:d,maxDefined:f}=o.getUserBounds();return d&&(i=yn(cr(e,o.axis,l).lo,0,t-1)),f?r=yn(cr(e,o.axis,u).hi+1,i,t)-i:r=t-i,{start:i,count:r}}var fP={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){bE(n);return}const i=n.width;n.data.datasets.forEach((r,o)=>{const{_data:l,indexAxis:u}=r,d=n.getDatasetMeta(o),f=l||r.data;if(vu([u,n.options.indexAxis])==="y"||!d.controller.supportsDecimation)return;const p=n.scales[d.xAxisID];if(p.type!=="linear"&&p.type!=="time"||n.options.parsing)return;let{start:_,count:v}=dP(d,f);const E=t.threshold||4*i;if(v<=E){jS(r);return}qe(l)&&(r._data=f,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(A){this._data=A}}));let S;switch(t.algorithm){case"lttb":S=uP(f,_,v,i,t);break;case"min-max":S=hP(f,_,v,i);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}r._decimated=S})},destroy(n){bE(n)}};function mP(n,e,t){const i=n.segments,r=n.points,o=e.points,l=[];for(const u of i){let{start:d,end:f}=u;f=pm(d,f,r);const p=Iy(t,r[d],r[f],u.loop);if(!e.segments){l.push({source:u,target:p,start:r[d],end:r[f]});continue}const _=yS(e,p);for(const v of _){const E=Iy(t,o[v.start],o[v.end],v.loop),S=pS(u,r,E);for(const A of S)l.push({source:A,target:v,start:{[t]:vE(p,E,"start",Math.max)},end:{[t]:vE(p,E,"end",Math.min)}})}}return l}function Iy(n,e,t,i){if(i)return;let r=e[n],o=t[n];return n==="angle"&&(r=Dn(r),o=Dn(o)),{property:n,start:r,end:o}}function gP(n,e){const{x:t=null,y:i=null}=n||{},r=e.points,o=[];return e.segments.forEach(({start:l,end:u})=>{u=pm(l,u,r);const d=r[l],f=r[u];i!==null?(o.push({x:d.x,y:i}),o.push({x:f.x,y:i})):t!==null&&(o.push({x:t,y:d.y}),o.push({x:t,y:f.y}))}),o}function pm(n,e,t){for(;e>n;e--){const i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function vE(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function VS(n,e){let t=[],i=!1;return Rt(n)?(i=!0,t=n):t=gP(n,e),t.length?new gm({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function xE(n){return n&&n.fill!==!1}function pP(n,e,t){let r=n[e].fill;const o=[e];let l;if(!t)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!Vt(r))return r;if(l=n[r],!l)return!1;if(l.visible)return r;o.push(r),r=l.fill}return!1}function yP(n,e,t){const i=xP(n);if(Qe(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return Vt(r)&&Math.floor(r)===r?_P(i[0],e,r,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function _P(n,e,t,i){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=i?!1:t}function bP(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:Qe(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function vP(n,e,t){let i;return n==="start"?i=t:n==="end"?i=e.options.reverse?e.min:e.max:Qe(n)?i=n.value:i=e.getBaseValue(),i}function xP(n){const e=n.options,t=e.fill;let i=Oe(t&&t.target,t);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function wP(n){const{scale:e,index:t,line:i}=n,r=[],o=i.segments,l=i.points,u=EP(e,t);u.push(VS({x:null,y:e.bottom},i));for(let d=0;d<o.length;d++){const f=o[d];for(let p=f.start;p<=f.end;p++)TP(r,l[p],u)}return new gm({points:r,options:{}})}function EP(n,e){const t=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const o=i[r];if(o.index===e)break;o.hidden||t.unshift(o.dataset)}return t}function TP(n,e,t){const i=[];for(let r=0;r<t.length;r++){const o=t[r],{first:l,last:u,point:d}=SP(o,e,"x");if(!(!d||l&&u)){if(l)i.unshift(d);else if(n.push(d),!u)break}}n.push(...i)}function SP(n,e,t){const i=n.interpolate(e,t);if(!i)return{};const r=i[t],o=n.segments,l=n.points;let u=!1,d=!1;for(let f=0;f<o.length;f++){const p=o[f],_=l[p.start][t],v=l[p.end][t];if(lr(r,_,v)){u=r===_,d=r===v;break}}return{first:u,last:d,point:i}}class US{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:r,y:o,radius:l}=this;return t=t||{start:0,end:St},e.arc(r,o,l,t.end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:r}=this,o=e.angle;return{x:t+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}}function AP(n){const{chart:e,fill:t,line:i}=n;if(Vt(t))return CP(e,t);if(t==="stack")return wP(n);if(t==="shape")return!0;const r=RP(n);return r instanceof US?r:VS(r,i)}function CP(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function RP(n){return(n.scale||{}).getPointPositionForValue?IP(n):NP(n)}function NP(n){const{scale:e={},fill:t}=n,i=bP(t,e);if(Vt(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function IP(n){const{scale:e,fill:t}=n,i=e.options,r=e.getLabels().length,o=i.reverse?e.max:e.min,l=vP(t,e,o),u=[];if(i.grid.circular){const d=e.getPointPositionForValue(0,o);return new US({x:d.x,y:d.y,radius:e.getDistanceFromCenterForValue(l)})}for(let d=0;d<r;++d)u.push(e.getPointPositionForValue(d,l));return u}function ty(n,e,t){const i=AP(e),{chart:r,index:o,line:l,scale:u,axis:d}=e,f=l.options,p=f.fill,_=f.backgroundColor,{above:v=_,below:E=_}=p||{},S=r.getDatasetMeta(o),A=_S(r,S);i&&l.points.length&&(hm(n,t),kP(n,{line:l,target:i,above:v,below:E,area:t,scale:u,axis:d,clip:A}),dm(n))}function kP(n,e){const{line:t,target:i,above:r,below:o,area:l,scale:u,clip:d}=e,f=t._loop?"angle":e.axis;n.save();let p=o;o!==r&&(f==="x"?(wE(n,i,l.top),ny(n,{line:t,target:i,color:r,scale:u,property:f,clip:d}),n.restore(),n.save(),wE(n,i,l.bottom)):f==="y"&&(EE(n,i,l.left),ny(n,{line:t,target:i,color:o,scale:u,property:f,clip:d}),n.restore(),n.save(),EE(n,i,l.right),p=r)),ny(n,{line:t,target:i,color:p,scale:u,property:f,clip:d}),n.restore()}function wE(n,e,t){const{segments:i,points:r}=e;let o=!0,l=!1;n.beginPath();for(const u of i){const{start:d,end:f}=u,p=r[d],_=r[pm(d,f,r)];o?(n.moveTo(p.x,p.y),o=!1):(n.lineTo(p.x,t),n.lineTo(p.x,p.y)),l=!!e.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(_.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function EE(n,e,t){const{segments:i,points:r}=e;let o=!0,l=!1;n.beginPath();for(const u of i){const{start:d,end:f}=u,p=r[d],_=r[pm(d,f,r)];o?(n.moveTo(p.x,p.y),o=!1):(n.lineTo(t,p.y),n.lineTo(p.x,p.y)),l=!!e.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(t,_.y)}n.lineTo(t,e.first().y),n.closePath(),n.clip()}function ny(n,e){const{line:t,target:i,property:r,color:o,scale:l,clip:u}=e,d=mP(t,i,r);for(const{source:f,target:p,start:_,end:v}of d){const{style:{backgroundColor:E=o}={}}=f,S=i!==!0;n.save(),n.fillStyle=E,DP(n,l,u,S&&Iy(r,_,v)),n.beginPath();const A=!!t.pathSegment(n,f);let C;if(S){A?n.closePath():TE(n,i,v,r);const M=!!i.pathSegment(n,p,{move:A,reverse:!0});C=A&&M,C||TE(n,i,_,r)}n.closePath(),n.fill(C?"evenodd":"nonzero"),n.restore()}}function DP(n,e,t,i){const r=e.chart.chartArea,{property:o,start:l,end:u}=i||{};if(o==="x"||o==="y"){let d,f,p,_;o==="x"?(d=l,f=r.top,p=u,_=r.bottom):(d=r.left,f=l,p=r.right,_=u),n.beginPath(),t&&(d=Math.max(d,t.left),p=Math.min(p,t.right),f=Math.max(f,t.top),_=Math.min(_,t.bottom)),n.rect(d,f,p-d,_-f),n.clip()}}function TE(n,e,t,i){const r=e.interpolate(t,i);r&&n.lineTo(r.x,r.y)}var MP={id:"filler",afterDatasetsUpdate(n,e,t){const i=(n.data.datasets||[]).length,r=[];let o,l,u,d;for(l=0;l<i;++l)o=n.getDatasetMeta(l),u=o.dataset,d=null,u&&u.options&&u instanceof gm&&(d={visible:n.isDatasetVisible(l),index:l,fill:yP(u,l,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:u}),o.$filler=d,r.push(d);for(l=0;l<i;++l)d=r[l],!(!d||d.fill===!1)&&(d.fill=pP(r,l,t.propagate))},beforeDraw(n,e,t){const i=t.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let l=r.length-1;l>=0;--l){const u=r[l].$filler;u&&(u.line.updateControlPoints(o,u.axis),i&&u.fill&&ty(n.ctx,u,o))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const o=i[r].$filler;xE(o)&&ty(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,e,t){const i=e.meta.$filler;!xE(i)||t.drawTime!=="beforeDatasetDraw"||ty(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const SE=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},OP=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class AE extends vr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=vt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=un(i.font),o=r.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:d}=SE(i,o);let f,p;t.font=r.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(l,o,u,d)+10):(p=this.maxHeight,f=this._fitCols(l,r,u,d)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){const{ctx:o,maxWidth:l,options:{labels:{padding:u}}}=this,d=this.legendHitBoxes=[],f=this.lineWidths=[0],p=r+u;let _=e;o.textAlign="left",o.textBaseline="middle";let v=-1,E=-p;return this.legendItems.forEach((S,A)=>{const C=i+t/2+o.measureText(S.text).width;(A===0||f[f.length-1]+C+2*u>l)&&(_+=p,f[f.length-(A>0?0:1)]=0,E+=p,v++),d[A]={left:0,top:E,row:v,width:C,height:r},f[f.length-1]+=C+u}),_}_fitCols(e,t,i,r){const{ctx:o,maxHeight:l,options:{labels:{padding:u}}}=this,d=this.legendHitBoxes=[],f=this.columnSizes=[],p=l-e;let _=u,v=0,E=0,S=0,A=0;return this.legendItems.forEach((C,M)=>{const{itemWidth:L,itemHeight:H}=PP(i,t,o,C,r);M>0&&E+H+2*u>p&&(_+=v+u,f.push({width:v,height:E}),S+=v+u,A++,v=E=0),d[M]={left:S,top:E,col:A,width:L,height:H},v=Math.max(v,L),E+=H+u}),_+=v,f.push({width:v,height:E}),_}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:o}}=this,l=Ll(o,this.left,this.width);if(this.isHorizontal()){let u=0,d=In(i,this.left+r,this.right-this.lineWidths[u]);for(const f of t)u!==f.row&&(u=f.row,d=In(i,this.left+r,this.right-this.lineWidths[u])),f.top+=this.top+e+r,f.left=l.leftForLtr(l.x(d),f.width),d+=f.width+r}else{let u=0,d=In(i,this.top+e+r,this.bottom-this.columnSizes[u].height);for(const f of t)f.col!==u&&(u=f.col,d=In(i,this.top+e+r,this.bottom-this.columnSizes[u].height)),f.top=d,f.left+=this.left+r,f.left=l.leftForLtr(l.x(f.left),f.width),d+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;hm(e,this),this._draw(),dm(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:o,labels:l}=e,u=Nt.color,d=Ll(e.rtl,this.left,this.width),f=un(l.font),{padding:p}=l,_=f.size,v=_/2;let E;this.drawTitle(),r.textAlign=d.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:S,boxHeight:A,itemHeight:C}=SE(l,_),M=function(te,I,N){if(isNaN(S)||S<=0||isNaN(A)||A<0)return;r.save();const D=Oe(N.lineWidth,1);if(r.fillStyle=Oe(N.fillStyle,u),r.lineCap=Oe(N.lineCap,"butt"),r.lineDashOffset=Oe(N.lineDashOffset,0),r.lineJoin=Oe(N.lineJoin,"miter"),r.lineWidth=D,r.strokeStyle=Oe(N.strokeStyle,u),r.setLineDash(Oe(N.lineDash,[])),l.usePointStyle){const j={radius:A*Math.SQRT2/2,pointStyle:N.pointStyle,rotation:N.rotation,borderWidth:D},P=d.xPlus(te,S/2),U=I+v;rS(r,j,P,U,l.pointStyleWidth&&S)}else{const j=I+Math.max((_-A)/2,0),P=d.leftForLtr(te,S),U=bo(N.borderRadius);r.beginPath(),Object.values(U).some(O=>O!==0)?Wu(r,{x:P,y:j,w:S,h:A,radius:U}):r.rect(P,j,S,A),r.fill(),D!==0&&r.stroke()}r.restore()},L=function(te,I,N){To(r,N.text,te,I+C/2,f,{strikethrough:N.hidden,textAlign:d.textAlign(N.textAlign)})},H=this.isHorizontal(),Y=this._computeTitleHeight();H?E={x:In(o,this.left+p,this.right-i[0]),y:this.top+p+Y,line:0}:E={x:this.left+p,y:In(o,this.top+Y+p,this.bottom-t[0].height),line:0},fS(this.ctx,e.textDirection);const $=C+p;this.legendItems.forEach((te,I)=>{r.strokeStyle=te.fontColor,r.fillStyle=te.fontColor;const N=r.measureText(te.text).width,D=d.textAlign(te.textAlign||(te.textAlign=l.textAlign)),j=S+v+N;let P=E.x,U=E.y;d.setWidth(this.width),H?I>0&&P+j+p>this.right&&(U=E.y+=$,E.line++,P=E.x=In(o,this.left+p,this.right-i[E.line])):I>0&&U+$>this.bottom&&(P=E.x=P+t[E.line].width+p,E.line++,U=E.y=In(o,this.top+Y+p,this.bottom-t[E.line].height));const O=d.x(P);if(M(O,U,te),P=Gk(D,P+S+v,H?P+j:this.right,e.rtl),L(d.x(P),U,te),H)E.x+=j+p;else if(typeof te.text!="string"){const Ie=f.lineHeight;E.y+=zS(te,Ie)+p}else E.y+=$}),mS(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=un(t.font),r=Ln(t.padding);if(!t.display)return;const o=Ll(e.rtl,this.left,this.width),l=this.ctx,u=t.position,d=i.size/2,f=r.top+d;let p,_=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),p=this.top+f,_=In(e.align,_,this.right-v);else{const S=this.columnSizes.reduce((A,C)=>Math.max(A,C.height),0);p=f+In(e.align,this.top,this.bottom-S-e.labels.padding-this._computeTitleHeight())}const E=In(u,_,_+v);l.textAlign=o.textAlign(x0(u)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=i.string,To(l,t.text,E,p,i)}_computeTitleHeight(){const e=this.options.title,t=un(e.font),i=Ln(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,o;if(lr(e,this.left,this.right)&&lr(t,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],lr(e,r.left,r.left+r.width)&&lr(t,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!VP(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,o=OP(r,i);r&&!o&&vt(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!o&&vt(t.onHover,[e,i,this],this)}else i&&vt(t.onClick,[e,i,this],this)}}function PP(n,e,t,i,r){const o=LP(i,n,e,t),l=jP(r,i,e.lineHeight);return{itemWidth:o,itemHeight:l}}function LP(n,e,t,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,l)=>o.length>l.length?o:l)),e+t.size/2+i.measureText(r).width}function jP(n,e,t){let i=n;return typeof e.text!="string"&&(i=zS(e,t)),i}function zS(n,e){const t=n.text?n.text.length:0;return e*t}function VP(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var UP={id:"legend",_element:AE,start(n,e,t){const i=n.legend=new AE({ctx:n.ctx,options:t,chart:n});On.configure(n,i,t),On.addBox(n,i)},stop(n){On.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;On.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:o,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const f=d.controller.getStyle(t?0:void 0),p=Ln(f.borderWidth);return{text:e[d.index].label,fillStyle:f.backgroundColor,fontColor:o,hidden:!d.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:l&&(u||f.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class D0 extends vr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const r=Rt(i.text)?i.text.length:1;this._padding=Ln(i.padding);const o=r*un(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:r,right:o,options:l}=this,u=l.align;let d=0,f,p,_;return this.isHorizontal()?(p=In(u,i,o),_=t+e,f=o-i):(l.position==="left"?(p=i+e,_=In(u,r,t),d=st*-.5):(p=o-e,_=In(u,t,r),d=st*.5),f=r-t),{titleX:p,titleY:_,maxWidth:f,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=un(t.font),o=i.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:d,rotation:f}=this._drawArgs(o);To(e,t.text,0,0,i,{color:t.color,maxWidth:d,rotation:f,textAlign:x0(t.align),textBaseline:"middle",translation:[l,u]})}}function zP(n,e){const t=new D0({ctx:n.ctx,options:e,chart:n});On.configure(n,t,e),On.addBox(n,t),n.titleBlock=t}var BP={id:"title",_element:D0,start(n,e,t){zP(n,t)},stop(n){const e=n.titleBlock;On.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;On.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const lf=new WeakMap;var FP={id:"subtitle",start(n,e,t){const i=new D0({ctx:n.ctx,options:t,chart:n});On.configure(n,i,t),On.addBox(n,i),lf.set(n,i)},stop(n){On.removeBox(n,lf.get(n)),lf.delete(n)},beforeUpdate(n,e,t){const i=lf.get(n);On.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const wu={average(n){if(!n.length)return!1;let e,t,i=new Set,r=0,o=0;for(e=0,t=n.length;e<t;++e){const u=n[e].element;if(u&&u.hasValue()){const d=u.tooltipPosition();i.add(d.x),r+=d.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((u,d)=>u+d)/i.size,y:r/o}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,r=Number.POSITIVE_INFINITY,o,l,u;for(o=0,l=n.length;o<l;++o){const d=n[o].element;if(d&&d.hasValue()){const f=d.getCenterPoint(),p=Ey(e,f);p<r&&(r=p,u=d)}}if(u){const d=u.tooltipPosition();t=d.x,i=d.y}return{x:t,y:i}}};function ws(n,e){return e&&(Rt(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function ar(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function HP(n,e){const{element:t,datasetIndex:i,index:r}=e,o=n.getDatasetMeta(i).controller,{label:l,value:u}=o.getLabelAndValue(r);return{chart:n,label:l,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function CE(n,e){const t=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:l,boxHeight:u}=e,d=un(e.bodyFont),f=un(e.titleFont),p=un(e.footerFont),_=o.length,v=r.length,E=i.length,S=Ln(e.padding);let A=S.height,C=0,M=i.reduce((Y,$)=>Y+$.before.length+$.lines.length+$.after.length,0);if(M+=n.beforeBody.length+n.afterBody.length,_&&(A+=_*f.lineHeight+(_-1)*e.titleSpacing+e.titleMarginBottom),M){const Y=e.displayColors?Math.max(u,d.lineHeight):d.lineHeight;A+=E*Y+(M-E)*d.lineHeight+(M-1)*e.bodySpacing}v&&(A+=e.footerMarginTop+v*p.lineHeight+(v-1)*e.footerSpacing);let L=0;const H=function(Y){C=Math.max(C,t.measureText(Y).width+L)};return t.save(),t.font=f.string,mt(n.title,H),t.font=d.string,mt(n.beforeBody.concat(n.afterBody),H),L=e.displayColors?l+2+e.boxPadding:0,mt(i,Y=>{mt(Y.before,H),mt(Y.lines,H),mt(Y.after,H)}),L=0,t.font=p.string,mt(n.footer,H),t.restore(),C+=S.width,{width:C,height:A}}function qP(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function GP(n,e,t,i){const{x:r,width:o}=i,l=t.caretSize+t.caretPadding;if(n==="left"&&r+o+l>e.width||n==="right"&&r-o-l<0)return!0}function YP(n,e,t,i){const{x:r,width:o}=t,{width:l,chartArea:{left:u,right:d}}=n;let f="center";return i==="center"?f=r<=(u+d)/2?"left":"right":r<=o/2?f="left":r>=l-o/2&&(f="right"),GP(f,n,e,t)&&(f="center"),f}function RE(n,e,t){const i=t.yAlign||e.yAlign||qP(n,t);return{xAlign:t.xAlign||e.xAlign||YP(n,e,t,i),yAlign:i}}function $P(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function WP(n,e,t){let{y:i,height:r}=n;return e==="top"?i+=t:e==="bottom"?i-=r+t:i-=r/2,i}function NE(n,e,t,i){const{caretSize:r,caretPadding:o,cornerRadius:l}=n,{xAlign:u,yAlign:d}=t,f=r+o,{topLeft:p,topRight:_,bottomLeft:v,bottomRight:E}=bo(l);let S=$P(e,u);const A=WP(e,d,f);return d==="center"?u==="left"?S+=f:u==="right"&&(S-=f):u==="left"?S-=Math.max(p,v)+r:u==="right"&&(S+=Math.max(_,E)+r),{x:yn(S,0,i.width-e.width),y:yn(A,0,i.height-e.height)}}function cf(n,e,t){const i=Ln(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function IE(n){return ws([],ar(n))}function KP(n,e,t){return ka(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function kE(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const BS={beforeTitle:sr,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:sr,beforeBody:sr,beforeLabel:sr,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return qe(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:sr,afterBody:sr,beforeFooter:sr,footer:sr,afterFooter:sr};function Kn(n,e,t,i){const r=n[e].call(t,i);return typeof r>"u"?BS[e].call(t,i):r}class DE extends vr{static positioners=wu;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&t.options.animation&&i.animations,o=new bS(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=KP(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,r=Kn(i,"beforeTitle",this,e),o=Kn(i,"title",this,e),l=Kn(i,"afterTitle",this,e);let u=[];return u=ws(u,ar(r)),u=ws(u,ar(o)),u=ws(u,ar(l)),u}getBeforeBody(e,t){return IE(Kn(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,r=[];return mt(e,o=>{const l={before:[],lines:[],after:[]},u=kE(i,o);ws(l.before,ar(Kn(u,"beforeLabel",this,o))),ws(l.lines,Kn(u,"label",this,o)),ws(l.after,ar(Kn(u,"afterLabel",this,o))),r.push(l)}),r}getAfterBody(e,t){return IE(Kn(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,r=Kn(i,"beforeFooter",this,e),o=Kn(i,"footer",this,e),l=Kn(i,"afterFooter",this,e);let u=[];return u=ws(u,ar(r)),u=ws(u,ar(o)),u=ws(u,ar(l)),u}_createItems(e){const t=this._active,i=this.chart.data,r=[],o=[],l=[];let u=[],d,f;for(d=0,f=t.length;d<f;++d)u.push(HP(this.chart,t[d]));return e.filter&&(u=u.filter((p,_,v)=>e.filter(p,_,v,i))),e.itemSort&&(u=u.sort((p,_)=>e.itemSort(p,_,i))),mt(u,p=>{const _=kE(e.callbacks,p);r.push(Kn(_,"labelColor",this,p)),o.push(Kn(_,"labelPointStyle",this,p)),l.push(Kn(_,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=u,u}update(e,t){const i=this.options.setContext(this.getContext()),r=this._active;let o,l=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const u=wu[i.position].call(this,r,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const d=this._size=CE(this,i),f=Object.assign({},u,d),p=RE(this.chart,i,f),_=NE(i,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:_.x,y:_.y,width:d.width,height:d.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,r){const o=this.getCaretPosition(e,i,r);t.lineTo(o.x1,o.y1),t.lineTo(o.x2,o.y2),t.lineTo(o.x3,o.y3)}getCaretPosition(e,t,i){const{xAlign:r,yAlign:o}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:_}=bo(u),{x:v,y:E}=e,{width:S,height:A}=t;let C,M,L,H,Y,$;return o==="center"?(Y=E+A/2,r==="left"?(C=v,M=C-l,H=Y+l,$=Y-l):(C=v+S,M=C+l,H=Y-l,$=Y+l),L=C):(r==="left"?M=v+Math.max(d,p)+l:r==="right"?M=v+S-Math.max(f,_)-l:M=this.caretX,o==="top"?(H=E,Y=H-l,C=M-l,L=M+l):(H=E+A,Y=H+l,C=M+l,L=M-l),$=H),{x1:C,x2:M,x3:L,y1:H,y2:Y,y3:$}}drawTitle(e,t,i){const r=this.title,o=r.length;let l,u,d;if(o){const f=Ll(i.rtl,this.x,this.width);for(e.x=cf(this,i.titleAlign,i),t.textAlign=f.textAlign(i.titleAlign),t.textBaseline="middle",l=un(i.titleFont),u=i.titleSpacing,t.fillStyle=i.titleColor,t.font=l.string,d=0;d<o;++d)t.fillText(r[d],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+u,d+1===o&&(e.y+=i.titleMarginBottom-u)}}_drawColorBox(e,t,i,r,o){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:d,boxWidth:f}=o,p=un(o.bodyFont),_=cf(this,"left",o),v=r.x(_),E=d<p.lineHeight?(p.lineHeight-d)/2:0,S=t.y+E;if(o.usePointStyle){const A={radius:Math.min(f,d)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},C=r.leftForLtr(v,f)+f/2,M=S+d/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Sy(e,A,C,M),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,Sy(e,A,C,M)}else{e.lineWidth=Qe(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const A=r.leftForLtr(v,f),C=r.leftForLtr(r.xPlus(v,1),f-2),M=bo(l.borderRadius);Object.values(M).some(L=>L!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Wu(e,{x:A,y:S,w:f,h:d,radius:M}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),Wu(e,{x:C,y:S+1,w:f-2,h:d-2,radius:M}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(A,S,f,d),e.strokeRect(A,S,f,d),e.fillStyle=l.backgroundColor,e.fillRect(C,S+1,f-2,d-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:r}=this,{bodySpacing:o,bodyAlign:l,displayColors:u,boxHeight:d,boxWidth:f,boxPadding:p}=i,_=un(i.bodyFont);let v=_.lineHeight,E=0;const S=Ll(i.rtl,this.x,this.width),A=function(N){t.fillText(N,S.x(e.x+E),e.y+v/2),e.y+=v+o},C=S.textAlign(l);let M,L,H,Y,$,te,I;for(t.textAlign=l,t.textBaseline="middle",t.font=_.string,e.x=cf(this,C,i),t.fillStyle=i.bodyColor,mt(this.beforeBody,A),E=u&&C!=="right"?l==="center"?f/2+p:f+2+p:0,Y=0,te=r.length;Y<te;++Y){for(M=r[Y],L=this.labelTextColors[Y],t.fillStyle=L,mt(M.before,A),H=M.lines,u&&H.length&&(this._drawColorBox(t,e,Y,S,i),v=Math.max(_.lineHeight,d)),$=0,I=H.length;$<I;++$)A(H[$]),v=_.lineHeight;mt(M.after,A)}E=0,v=_.lineHeight,mt(this.afterBody,A),e.y-=o}drawFooter(e,t,i){const r=this.footer,o=r.length;let l,u;if(o){const d=Ll(i.rtl,this.x,this.width);for(e.x=cf(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=d.textAlign(i.footerAlign),t.textBaseline="middle",l=un(i.footerFont),t.fillStyle=i.footerColor,t.font=l.string,u=0;u<o;++u)t.fillText(r[u],d.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+i.footerSpacing}}drawBackground(e,t,i,r){const{xAlign:o,yAlign:l}=this,{x:u,y:d}=e,{width:f,height:p}=i,{topLeft:_,topRight:v,bottomLeft:E,bottomRight:S}=bo(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(u+_,d),l==="top"&&this.drawCaret(e,t,i,r),t.lineTo(u+f-v,d),t.quadraticCurveTo(u+f,d,u+f,d+v),l==="center"&&o==="right"&&this.drawCaret(e,t,i,r),t.lineTo(u+f,d+p-S),t.quadraticCurveTo(u+f,d+p,u+f-S,d+p),l==="bottom"&&this.drawCaret(e,t,i,r),t.lineTo(u+E,d+p),t.quadraticCurveTo(u,d+p,u,d+p-E),l==="center"&&o==="left"&&this.drawCaret(e,t,i,r),t.lineTo(u,d+_),t.quadraticCurveTo(u,d,u+_,d),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const l=wu[e.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=CE(this,e),d=Object.assign({},l,this._size),f=RE(t,e,d),p=NE(e,d,f,t);(r._to!==p.x||o._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=Ln(t.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&u&&(e.save(),e.globalAlpha=i,this.drawBackground(o,e,r,t),fS(e,t.textDirection),o.y+=l.top,this.drawTitle(o,e,t),this.drawBody(o,e,t),this.drawFooter(o,e,t),mS(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,r=e.map(({datasetIndex:u,index:d})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[d],index:d}}),o=!jf(i,r),l=this._positionChanged(r,t);(o||l)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],l=this._getActiveElements(e,o,t,i),u=this._positionChanged(l,e),d=t||!jf(l,o)||u;return d&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),d}_getActiveElements(e,t,i,r){const o=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,o.mode,o,i);return o.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:i,caretY:r,options:o}=this,l=wu[o.position].call(this,e,t);return l!==!1&&(i!==l.x||r!==l.y)}}var QP={id:"tooltip",_element:DE,positioners:wu,afterInit(n,e,t){t&&(n.tooltip=new DE({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:BS},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},XP=Object.freeze({__proto__:null,Colors:cP,Decimation:fP,Filler:MP,Legend:UP,SubTitle:FP,Title:BP,Tooltip:QP});const JP=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function ZP(n,e,t,i){const r=n.indexOf(e);if(r===-1)return JP(n,e,t,i);const o=n.lastIndexOf(e);return r!==o?t:r}const e4=(n,e)=>n===null?null:yn(Math.round(n),0,e);function ME(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class t4 extends Do{static id="category";static defaults={ticks:{callback:ME}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:r,label:o}of t)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(qe(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:ZP(i,e,Oe(t,e),this._addedLabels),e4(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=e===0&&t===o.length-1?o:o.slice(e,t+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=e;l<=t;l++)r.push({value:l});return r}getLabelForValue(e){return ME.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function n4(n,e){const t=[],{bounds:r,step:o,min:l,max:u,precision:d,count:f,maxTicks:p,maxDigits:_,includeBounds:v}=n,E=o||1,S=p-1,{min:A,max:C}=e,M=!qe(l),L=!qe(u),H=!qe(f),Y=(C-A)/(_+1);let $=Cw((C-A)/S/E)*E,te,I,N,D;if($<1e-14&&!M&&!L)return[{value:A},{value:C}];D=Math.ceil(C/$)-Math.floor(A/$),D>S&&($=Cw(D*$/S/E)*E),qe(d)||(te=Math.pow(10,d),$=Math.ceil($*te)/te),r==="ticks"?(I=Math.floor(A/$)*$,N=Math.ceil(C/$)*$):(I=A,N=C),M&&L&&o&&Vk((u-l)/o,$/1e3)?(D=Math.round(Math.min((u-l)/$,p)),$=(u-l)/D,I=l,N=u):H?(I=M?l:I,N=L?u:N,D=f-1,$=(N-I)/D):(D=(N-I)/$,Du(D,Math.round(D),$/1e3)?D=Math.round(D):D=Math.ceil(D));const j=Math.max(Rw($),Rw(I));te=Math.pow(10,qe(d)?j:d),I=Math.round(I*te)/te,N=Math.round(N*te)/te;let P=0;for(M&&(v&&I!==l?(t.push({value:l}),I<l&&P++,Du(Math.round((I+P*$)*te)/te,l,OE(l,Y,n))&&P++):I<l&&P++);P<D;++P){const U=Math.round((I+P*$)*te)/te;if(L&&U>u)break;t.push({value:U})}return L&&v&&N!==u?t.length&&Du(t[t.length-1].value,u,OE(u,Y,n))?t[t.length-1].value=u:t.push({value:u}):(!L||N===u)&&t.push({value:N}),t}function OE(n,e,{horizontal:t,minRotation:i}){const r=Qi(i),o=(t?Math.sin(r):Math.cos(r))||.001,l=.75*e*(""+n).length;return Math.min(e/o,l)}class qf extends Do{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return qe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const l=d=>r=t?r:d,u=d=>o=i?o:d;if(e){const d=Cs(r),f=Cs(o);d<0&&f<0?u(0):d>0&&f>0&&l(0)}if(r===o){let d=o===0?1:Math.abs(o*.05);u(o+d),e||l(r-d)}this.min=r,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},o=this._range||this,l=n4(r,o);return e.bounds==="ticks"&&QT(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-t)/Math.max(e.length-1,1)/2;t-=r,i+=r}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return gh(e,this.chart.options.locale,this.options.ticks.format)}}class i4 extends qf{static id="linear";static defaults={ticks:{callback:um.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Vt(e)?e:0,this.max=Vt(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=Qi(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Qu=n=>Math.floor(ha(n)),mo=(n,e)=>Math.pow(10,Qu(n)+e);function PE(n){return n/Math.pow(10,Qu(n))===1}function LE(n,e,t){const i=Math.pow(10,t),r=Math.floor(n/i);return Math.ceil(e/i)-r}function s4(n,e){const t=e-n;let i=Qu(t);for(;LE(n,e,i)>10;)i++;for(;LE(n,e,i)<10;)i--;return Math.min(i,Qu(n))}function r4(n,{min:e,max:t}){e=fi(n.min,e);const i=[],r=Qu(e);let o=s4(e,t),l=o<0?Math.pow(10,Math.abs(o)):1;const u=Math.pow(10,o),d=r>o?Math.pow(10,r):0,f=Math.round((e-d)*l)/l,p=Math.floor((e-d)/u/10)*u*10;let _=Math.floor((f-p)/Math.pow(10,o)),v=fi(n.min,Math.round((d+p+_*Math.pow(10,o))*l)/l);for(;v<t;)i.push({value:v,major:PE(v),significand:_}),_>=10?_=_<15?15:20:_++,_>=20&&(o++,_=2,l=o>=0?1:l),v=Math.round((d+p+_*Math.pow(10,o))*l)/l;const E=fi(n.max,v);return i.push({value:E,major:PE(E),significand:_}),i}class a4 extends Do{static id="logarithmic";static defaults={ticks:{callback:um.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const i=qf.prototype.parse.apply(this,[e,t]);if(i===0){this._zero=!0;return}return Vt(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Vt(e)?Math.max(0,e):null,this.max=Vt(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Vt(this._userMin)&&(this.min=e===mo(this.min,0)?mo(this.min,-1):mo(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let i=this.min,r=this.max;const o=u=>i=e?i:u,l=u=>r=t?r:u;i===r&&(i<=0?(o(1),l(10)):(o(mo(i,-1)),l(mo(r,1)))),i<=0&&o(mo(r,-1)),r<=0&&l(mo(i,1)),this.min=i,this.max=r}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},i=r4(t,this);return e.bounds==="ticks"&&QT(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":gh(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=ha(e),this._valueRange=ha(this.max)-ha(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(ha(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function ky(n){const e=n.ticks;if(e.display&&n.display){const t=Ln(e.backdropPadding);return Oe(e.font&&e.font.size,Nt.font.size)+t.height}return 0}function o4(n,e,t){return t=Rt(t)?t:[t],{w:tD(n,e.string,t),h:t.length*e.lineHeight}}function jE(n,e,t,i,r){return n===i||n===r?{start:e-t/2,end:e+t/2}:n<i||n>r?{start:e-t,end:e}:{start:e,end:e+t}}function l4(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),i=[],r=[],o=n._pointLabels.length,l=n.options.pointLabels,u=l.centerPointLabels?st/o:0;for(let d=0;d<o;d++){const f=l.setContext(n.getPointLabelContext(d));r[d]=f.padding;const p=n.getPointPosition(d,n.drawingArea+r[d],u),_=un(f.font),v=o4(n.ctx,_,n._pointLabels[d]);i[d]=v;const E=Dn(n.getIndexAngle(d)+u),S=Math.round(b0(E)),A=jE(S,p.x,v.w,0,180),C=jE(S,p.y,v.h,90,270);c4(t,e,E,A,C)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=d4(n,i,r)}function c4(n,e,t,i,r){const o=Math.abs(Math.sin(t)),l=Math.abs(Math.cos(t));let u=0,d=0;i.start<e.l?(u=(e.l-i.start)/o,n.l=Math.min(n.l,e.l-u)):i.end>e.r&&(u=(i.end-e.r)/o,n.r=Math.max(n.r,e.r+u)),r.start<e.t?(d=(e.t-r.start)/l,n.t=Math.min(n.t,e.t-d)):r.end>e.b&&(d=(r.end-e.b)/l,n.b=Math.max(n.b,e.b+d))}function u4(n,e,t){const i=n.drawingArea,{extra:r,additionalAngle:o,padding:l,size:u}=t,d=n.getPointPosition(e,i+r+l,o),f=Math.round(b0(Dn(d.angle+$t))),p=g4(d.y,u.h,f),_=f4(f),v=m4(d.x,u.w,_);return{visible:!0,x:d.x,y:p,textAlign:_,left:v,top:p,right:v+u.w,bottom:p+u.h}}function h4(n,e){if(!e)return!0;const{left:t,top:i,right:r,bottom:o}=n;return!(ur({x:t,y:i},e)||ur({x:t,y:o},e)||ur({x:r,y:i},e)||ur({x:r,y:o},e))}function d4(n,e,t){const i=[],r=n._pointLabels.length,o=n.options,{centerPointLabels:l,display:u}=o.pointLabels,d={extra:ky(o)/2,additionalAngle:l?st/r:0};let f;for(let p=0;p<r;p++){d.padding=t[p],d.size=e[p];const _=u4(n,p,d);i.push(_),u==="auto"&&(_.visible=h4(_,f),_.visible&&(f=_))}return i}function f4(n){return n===0||n===180?"center":n<180?"left":"right"}function m4(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function g4(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function p4(n,e,t){const{left:i,top:r,right:o,bottom:l}=t,{backdropColor:u}=e;if(!qe(u)){const d=bo(e.borderRadius),f=Ln(e.backdropPadding);n.fillStyle=u;const p=i-f.left,_=r-f.top,v=o-i+f.width,E=l-r+f.height;Object.values(d).some(S=>S!==0)?(n.beginPath(),Wu(n,{x:p,y:_,w:v,h:E,radius:d}),n.fill()):n.fillRect(p,_,v,E)}}function y4(n,e){const{ctx:t,options:{pointLabels:i}}=n;for(let r=e-1;r>=0;r--){const o=n._pointLabelItems[r];if(!o.visible)continue;const l=i.setContext(n.getPointLabelContext(r));p4(t,l,o);const u=un(l.font),{x:d,y:f,textAlign:p}=o;To(t,n._pointLabels[r],d,f+u.lineHeight/2,u,{color:l.color,textAlign:p,textBaseline:"middle"})}}function FS(n,e,t,i){const{ctx:r}=n;if(t)r.arc(n.xCenter,n.yCenter,e,0,St);else{let o=n.getPointPosition(0,e);r.moveTo(o.x,o.y);for(let l=1;l<i;l++)o=n.getPointPosition(l,e),r.lineTo(o.x,o.y)}}function _4(n,e,t,i,r){const o=n.ctx,l=e.circular,{color:u,lineWidth:d}=e;!l&&!i||!u||!d||t<0||(o.save(),o.strokeStyle=u,o.lineWidth=d,o.setLineDash(r.dash||[]),o.lineDashOffset=r.dashOffset,o.beginPath(),FS(n,t,l,i),o.closePath(),o.stroke(),o.restore())}function b4(n,e,t){return ka(n,{label:t,index:e,type:"pointLabel"})}class v4 extends qf{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:um.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Ln(ky(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Vt(e)&&!isNaN(e)?e:0,this.max=Vt(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ky(this.options))}generateTickLabels(e){qf.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,i)=>{const r=vt(this.options.pointLabels.callback,[t,i],this);return r||r===0?r:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?l4(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,r))}getIndexAngle(e){const t=St/(this._pointLabels.length||1),i=this.options.startAngle||0;return Dn(e*t+Qi(i))}getDistanceFromCenterForValue(e){if(qe(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(qe(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const i=t[e];return b4(this.getContext(),e,i)}}getPointPosition(e,t,i=0){const r=this.getIndexAngle(e)-$t+i;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:i,right:r,bottom:o}=this._pointLabelItems[e];return{left:t,top:i,right:r,bottom:o}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),FS(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:i,grid:r,border:o}=t,l=this._pointLabels.length;let u,d,f;if(t.pointLabels.display&&y4(this,l),r.display&&this.ticks.forEach((p,_)=>{if(_!==0||_===0&&this.min<0){d=this.getDistanceFromCenterForValue(p.value);const v=this.getContext(_),E=r.setContext(v),S=o.setContext(v);_4(this,E,d,l,S)}}),i.display){for(e.save(),u=l-1;u>=0;u--){const p=i.setContext(this.getPointLabelContext(u)),{color:_,lineWidth:v}=p;!v||!_||(e.lineWidth=v,e.strokeStyle=_,e.setLineDash(p.borderDash),e.lineDashOffset=p.borderDashOffset,d=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),f=this.getPointPosition(u,d),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(f.x,f.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let o,l;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((u,d)=>{if(d===0&&this.min>=0&&!t.reverse)return;const f=i.setContext(this.getContext(d)),p=un(f.font);if(o=this.getDistanceFromCenterForValue(this.ticks[d].value),f.showLabelBackdrop){e.font=p.string,l=e.measureText(u.label).width,e.fillStyle=f.backdropColor;const _=Ln(f.backdropPadding);e.fillRect(-l/2-_.left,-o-p.size/2-_.top,l+_.width,p.size+_.height)}To(e,u.label,0,-o,p,{color:f.color,strokeColor:f.textStrokeColor,strokeWidth:f.textStrokeWidth})}),e.restore()}drawTitle(){}}const ym={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Jn=Object.keys(ym);function VE(n,e){return n-e}function UE(n,e){if(qe(e))return null;const t=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let l=e;return typeof i=="function"&&(l=i(l)),Vt(l)||(l=typeof i=="string"?t.parse(l,i):t.parse(l)),l===null?null:(r&&(l=r==="week"&&(ql(o)||o===!0)?t.startOf(l,"isoWeek",o):t.startOf(l,r)),+l)}function zE(n,e,t,i){const r=Jn.length;for(let o=Jn.indexOf(n);o<r-1;++o){const l=ym[Jn[o]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(u*l.size))<=i)return Jn[o]}return Jn[r-1]}function x4(n,e,t,i,r){for(let o=Jn.length-1;o>=Jn.indexOf(t);o--){const l=Jn[o];if(ym[l].common&&n._adapter.diff(r,i,l)>=e-1)return l}return Jn[t?Jn.indexOf(t):0]}function w4(n){for(let e=Jn.indexOf(n)+1,t=Jn.length;e<t;++e)if(ym[Jn[e]].common)return Jn[e]}function BE(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:r}=v0(t,e),o=t[i]>=e?t[i]:t[r];n[o]=!0}}function E4(n,e,t,i){const r=n._adapter,o=+r.startOf(e[0].value,i),l=e[e.length-1].value;let u,d;for(u=o;u<=l;u=+r.add(u,1,i))d=t[u],d>=0&&(e[d].major=!0);return e}function FE(n,e,t){const i=[],r={},o=e.length;let l,u;for(l=0;l<o;++l)u=e[l],r[u]=l,i.push({value:u,major:!1});return o===0||!t?i:E4(n,i,r,t)}class Dy extends Do{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),r=this._adapter=new TM._date(e.adapters.date);r.init(t),ku(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:UE(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:r,max:o,minDefined:l,maxDefined:u}=this.getUserBounds();function d(f){!l&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!u&&!isNaN(f.max)&&(o=Math.max(o,f.max))}(!l||!u)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),r=Vt(r)&&!isNaN(r)?r:+t.startOf(Date.now(),i),o=Vt(o)&&!isNaN(o)?o:+t.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,l=this.max,u=Fk(r,o,l);return this._unit=t.unit||(i.autoSkip?zE(t.minUnit,this.min,this.max,this._getLabelCapacity(o)):x4(this,u.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:w4(this._unit),this.initOffsets(r),e.reverse&&u.reverse(),FE(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,r,o;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?i=o:i=(o-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=yn(t,0,l),i=yn(i,0,l),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,r=this.options,o=r.time,l=o.unit||zE(o.minUnit,t,i,this._getLabelCapacity(t)),u=Oe(r.ticks.stepSize,1),d=l==="week"?o.isoWeekday:!1,f=ql(d)||d===!0,p={};let _=t,v,E;if(f&&(_=+e.startOf(_,"isoWeek",d)),_=+e.startOf(_,f?"day":l),e.diff(i,t,l)>1e5*u)throw new Error(t+" and "+i+" are too far apart with stepSize of "+u+" "+l);const S=r.ticks.source==="data"&&this.getDataTimestamps();for(v=_,E=0;v<i;v=+e.add(v,u,l),E++)BE(p,v,S);return(v===i||r.bounds==="ticks"||E===1)&&BE(p,v,S),Object.keys(p).sort(VE).map(A=>+A)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,o=this._unit,l=t||r[o];return this._adapter.format(e,l)}_tickFormatFunction(e,t,i,r){const o=this.options,l=o.ticks.callback;if(l)return vt(l,[e,t,i],this);const u=o.time.displayFormats,d=this._unit,f=this._majorUnit,p=d&&u[d],_=f&&u[f],v=i[t],E=f&&_&&v&&v.major;return this._adapter.format(e,r||(E?_:p))}generateTickLabels(e){let t,i,r;for(t=0,i=e.length;t<i;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,r=Qi(this.isHorizontal()?t.maxRotation:t.minRotation),o=Math.cos(r),l=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*o+u*l,h:i*l+u*o}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,r=i[t.unit]||i.millisecond,o=this._tickFormatFunction(e,0,FE(this,[e],this._majorUnit),r),l=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,i=r.length;t<i;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const r=this.getLabels();for(t=0,i=r.length;t<i;++t)e.push(UE(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return ZT(e.sort(VE))}}function uf(n,e,t){let i=0,r=n.length-1,o,l,u,d;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=cr(n,"pos",e)),{pos:o,time:u}=n[i],{pos:l,time:d}=n[r]):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=cr(n,"time",e)),{time:o,pos:u}=n[i],{time:l,pos:d}=n[r]);const f=l-o;return f?u+(d-u)*(e-o)/f:u}class T4 extends Dy{static id="timeseries";static defaults=Dy.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=uf(t,this.min),this._tableRange=uf(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,r=[],o=[];let l,u,d,f,p;for(l=0,u=e.length;l<u;++l)f=e[l],f>=t&&f<=i&&r.push(f);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(l=0,u=r.length;l<u;++l)p=r[l+1],d=r[l-1],f=r[l],Math.round((p+d)/2)!==f&&o.push({time:f,pos:l/(u-1)});return o}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(uf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return uf(this._table,i*this._tableRange+this._minPos,!0)}}var S4=Object.freeze({__proto__:null,CategoryScale:t4,LinearScale:i4,LogarithmicScale:a4,RadialLinearScale:v4,TimeScale:Dy,TimeSeriesScale:T4});const A4=[EM,nP,XP,S4];k0.register(...A4);const C4=()=>{};var HE={};const HS=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},R4=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[t++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[t++],l=n[t++],u=n[t++],d=((r&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],l=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|l&63)}}return e.join("")},qS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],l=r+1<n.length,u=l?n[r+1]:0,d=r+2<n.length,f=d?n[r+2]:0,p=o>>2,_=(o&3)<<4|u>>4;let v=(u&15)<<2|f>>6,E=f&63;d||(E=64,l||(v=64)),i.push(t[p],t[_],t[v],t[E])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(HS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):R4(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=t[n.charAt(r++)],u=r<n.length?t[n.charAt(r)]:0;++r;const f=r<n.length?t[n.charAt(r)]:64;++r;const _=r<n.length?t[n.charAt(r)]:64;if(++r,o==null||u==null||f==null||_==null)throw new N4;const v=o<<2|u>>4;if(i.push(v),f!==64){const E=u<<4&240|f>>2;if(i.push(E),_!==64){const S=f<<6&192|_;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class N4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const I4=function(n){const e=HS(n);return qS.encodeByteArray(e,!0)},Gf=function(n){return I4(n).replace(/\./g,"")},GS=function(n){try{return qS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function k4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const D4=()=>k4().__FIREBASE_DEFAULTS__,M4=()=>{if(typeof process>"u"||typeof HE>"u")return;const n=HE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},O4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&GS(n[1]);return e&&JSON.parse(e)},_m=()=>{try{return C4()||D4()||M4()||O4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},YS=n=>_m()?.emulatorHosts?.[n],$S=n=>{const e=YS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},WS=()=>_m()?.config,KS=n=>_m()?.[`_${n}`];class P4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function Ma(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function M0(n){return(await fetch(n,{credentials:"include"})).ok}function QS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Gf(JSON.stringify(t)),Gf(JSON.stringify(l)),""].join(".")}const Pu={};function L4(){const n={prod:[],emulator:[]};for(const e of Object.keys(Pu))Pu[e]?n.emulator.push(e):n.prod.push(e);return n}function j4(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let qE=!1;function O0(n,e){if(typeof window>"u"||typeof document>"u"||!Ma(window.location.host)||Pu[n]===e||Pu[n]||qE)return;Pu[n]=e;function t(v){return`__firebase__banner__${v}`}const i="__firebase__banner",o=L4().prod.length>0;function l(){const v=document.getElementById(i);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function d(v,E){v.setAttribute("width","24"),v.setAttribute("id",E),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{qE=!0,l()},v}function p(v,E){v.setAttribute("id",E),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function _(){const v=j4(i),E=t("text"),S=document.getElementById(E)||document.createElement("span"),A=t("learnmore"),C=document.getElementById(A)||document.createElement("a"),M=t("preprendIcon"),L=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const H=v.element;u(H),p(C,A);const Y=f();d(L,M),H.append(L,S,C,Y),document.body.appendChild(H)}o?(S.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function jn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function V4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jn())}function U4(){const n=_m()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function z4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function B4(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function F4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function H4(){const n=jn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function q4(){return!U4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G4(){try{return typeof indexedDB=="object"}catch{return!1}}function Y4(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(t){e(t)}})}const $4="FirebaseError";class js extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=$4,Object.setPrototypeOf(this,js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ph.prototype.create)}}class ph{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],l=o?W4(o,i):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new js(r,u,i)}}function W4(n,e){return n.replace(K4,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const K4=/\{\$([^}]+)}/g;function Q4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function So(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const o=n[r],l=e[r];if(GE(o)&&GE(l)){if(!So(o,l))return!1}else if(o!==l)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function GE(n){return n!==null&&typeof n=="object"}function yh(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Eu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function Tu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function X4(n,e){const t=new J4(n,e);return t.subscribe.bind(t)}class J4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");Z4(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=iy),r.error===void 0&&(r.error=iy),r.complete===void 0&&(r.complete=iy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Z4(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function iy(){}function Mt(n){return n&&n._delegate?n._delegate:n}class Ea{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const yo="[DEFAULT]";class eL{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new P4;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nL(e))try{this.getOrInitializeService({instanceIdentifier:yo})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=yo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yo){return this.instances.has(e)}getOptions(e=yo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&l.resolve(r)}return r}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:tL(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=yo){return this.component?this.component.multipleInstances?e:yo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tL(n){return n===yo?void 0:n}function nL(n){return n.instantiationMode==="EAGER"}class iL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new eL(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var $e;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})($e||($e={}));const sL={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},rL=$e.INFO,aL={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},oL=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=aL[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class P0{constructor(e){this.name=e,this._logLevel=rL,this._logHandler=oL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const lL=(n,e)=>e.some(t=>n instanceof t);let YE,$E;function cL(){return YE||(YE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uL(){return $E||($E=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XS=new WeakMap,My=new WeakMap,JS=new WeakMap,sy=new WeakMap,L0=new WeakMap;function hL(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(pa(n.result)),r()},l=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&XS.set(t,n)}).catch(()=>{}),L0.set(e,n),e}function dL(n){if(My.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),r()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});My.set(n,e)}let Oy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return My.get(n);if(e==="objectStoreNames")return n.objectStoreNames||JS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return pa(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function fL(n){Oy=n(Oy)}function mL(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(ry(this),e,...t);return JS.set(i,e.sort?e.sort():[e]),pa(i)}:uL().includes(n)?function(...e){return n.apply(ry(this),e),pa(XS.get(this))}:function(...e){return pa(n.apply(ry(this),e))}}function gL(n){return typeof n=="function"?mL(n):(n instanceof IDBTransaction&&dL(n),lL(n,cL())?new Proxy(n,Oy):n)}function pa(n){if(n instanceof IDBRequest)return hL(n);if(sy.has(n))return sy.get(n);const e=gL(n);return e!==n&&(sy.set(n,e),L0.set(e,n)),e}const ry=n=>L0.get(n);function pL(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const l=indexedDB.open(n,e),u=pa(l);return i&&l.addEventListener("upgradeneeded",d=>{i(pa(l.result),d.oldVersion,d.newVersion,pa(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),r&&d.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const yL=["get","getKey","getAll","getAllKeys","count"],_L=["put","add","delete","clear"],ay=new Map;function WE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ay.get(e))return ay.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=_L.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||yL.includes(t)))return;const o=async function(l,...u){const d=this.transaction(l,r?"readwrite":"readonly");let f=d.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[t](...u),r&&d.done]))[0]};return ay.set(e,o),o}fL(n=>({...n,get:(e,t,i)=>WE(e,t)||n.get(e,t,i),has:(e,t)=>!!WE(e,t)||n.has(e,t)}));class bL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(vL(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function vL(n){return n.getComponent()?.type==="VERSION"}const Py="@firebase/app",KE="0.14.8";const pr=new P0("@firebase/app"),xL="@firebase/app-compat",wL="@firebase/analytics-compat",EL="@firebase/analytics",TL="@firebase/app-check-compat",SL="@firebase/app-check",AL="@firebase/auth",CL="@firebase/auth-compat",RL="@firebase/database",NL="@firebase/data-connect",IL="@firebase/database-compat",kL="@firebase/functions",DL="@firebase/functions-compat",ML="@firebase/installations",OL="@firebase/installations-compat",PL="@firebase/messaging",LL="@firebase/messaging-compat",jL="@firebase/performance",VL="@firebase/performance-compat",UL="@firebase/remote-config",zL="@firebase/remote-config-compat",BL="@firebase/storage",FL="@firebase/storage-compat",HL="@firebase/firestore",qL="@firebase/ai",GL="@firebase/firestore-compat",YL="firebase",$L="12.9.0";const Ly="[DEFAULT]",WL={[Py]:"fire-core",[xL]:"fire-core-compat",[EL]:"fire-analytics",[wL]:"fire-analytics-compat",[SL]:"fire-app-check",[TL]:"fire-app-check-compat",[AL]:"fire-auth",[CL]:"fire-auth-compat",[RL]:"fire-rtdb",[NL]:"fire-data-connect",[IL]:"fire-rtdb-compat",[kL]:"fire-fn",[DL]:"fire-fn-compat",[ML]:"fire-iid",[OL]:"fire-iid-compat",[PL]:"fire-fcm",[LL]:"fire-fcm-compat",[jL]:"fire-perf",[VL]:"fire-perf-compat",[UL]:"fire-rc",[zL]:"fire-rc-compat",[BL]:"fire-gcs",[FL]:"fire-gcs-compat",[HL]:"fire-fst",[GL]:"fire-fst-compat",[qL]:"fire-vertex","fire-js":"fire-js",[YL]:"fire-js-all"};const Xu=new Map,KL=new Map,jy=new Map;function QE(n,e){try{n.container.addComponent(e)}catch(t){pr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ao(n){const e=n.name;if(jy.has(e))return pr.debug(`There were multiple attempts to register component ${e}.`),!1;jy.set(e,n);for(const t of Xu.values())QE(t,n);for(const t of KL.values())QE(t,n);return!0}function bm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Oi(n){return n==null?!1:n.settings!==void 0}const QL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ya=new ph("app","Firebase",QL);class XL{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ya.create("app-deleted",{appName:this._name})}}const Mo=$L;function ZS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:Ly,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw ya.create("bad-app-name",{appName:String(r)});if(t||(t=WS()),!t)throw ya.create("no-options");const o=Xu.get(r);if(o){if(So(t,o.options)&&So(i,o.config))return o;throw ya.create("duplicate-app",{appName:r})}const l=new iL(r);for(const d of jy.values())l.addComponent(d);const u=new XL(t,i,l);return Xu.set(r,u),u}function vm(n=Ly){const e=Xu.get(n);if(!e&&n===Ly&&WS())return ZS();if(!e)throw ya.create("no-app",{appName:n});return e}function JL(){return Array.from(Xu.values())}function Rs(n,e,t){let i=WL[n]??n;t&&(i+=`-${t}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const l=[`Unable to register library "${i}" with version "${e}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pr.warn(l.join(" "));return}Ao(new Ea(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const ZL="firebase-heartbeat-database",ej=1,Ju="firebase-heartbeat-store";let oy=null;function eA(){return oy||(oy=pL(ZL,ej,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ju)}catch(t){console.warn(t)}}}}).catch(n=>{throw ya.create("idb-open",{originalErrorMessage:n.message})})),oy}async function tj(n){try{const t=(await eA()).transaction(Ju),i=await t.objectStore(Ju).get(tA(n));return await t.done,i}catch(e){if(e instanceof js)pr.warn(e.message);else{const t=ya.create("idb-get",{originalErrorMessage:e?.message});pr.warn(t.message)}}}async function XE(n,e){try{const i=(await eA()).transaction(Ju,"readwrite");await i.objectStore(Ju).put(e,tA(n)),await i.done}catch(t){if(t instanceof js)pr.warn(t.message);else{const i=ya.create("idb-set",{originalErrorMessage:t?.message});pr.warn(i.message)}}}function tA(n){return`${n.name}!${n.options.appId}`}const nj=1024,ij=30;class sj{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new aj(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=JE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>ij){const r=oj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){pr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=JE(),{heartbeatsToSend:t,unsentEntries:i}=rj(this._heartbeatsCache.heartbeats),r=Gf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return pr.warn(e),""}}}function JE(){return new Date().toISOString().substring(0,10)}function rj(n,e=nj){const t=[];let i=n.slice();for(const r of n){const o=t.find(l=>l.agent===r.agent);if(o){if(o.dates.push(r.date),ZE(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),ZE(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class aj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return G4()?Y4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await tj(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return XE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return XE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ZE(n){return Gf(JSON.stringify({version:2,heartbeats:n})).length}function oj(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}function lj(n){Ao(new Ea("platform-logger",e=>new bL(e),"PRIVATE")),Ao(new Ea("heartbeat",e=>new sj(e),"PRIVATE")),Rs(Py,KE,n),Rs(Py,KE,"esm2020"),Rs("fire-js","")}lj("");var cj="firebase",uj="12.9.0";Rs(cj,uj,"app");function nA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hj=nA,iA=new ph("auth","Firebase",nA());const Yf=new P0("@firebase/auth");function dj(n,...e){Yf.logLevel<=$e.WARN&&Yf.warn(`Auth (${Mo}): ${n}`,...e)}function Tf(n,...e){Yf.logLevel<=$e.ERROR&&Yf.error(`Auth (${Mo}): ${n}`,...e)}function ts(n,...e){throw j0(n,...e)}function Ns(n,...e){return j0(n,...e)}function sA(n,e,t){const i={...hj(),[e]:t};return new ph("auth","Firebase",i).create(e,{appName:n.name})}function _a(n){return sA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function j0(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return iA.create(n,...e)}function Ce(n,e,...t){if(!n)throw j0(e,...t)}function hr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Tf(e),new Error(e)}function yr(n,e){n||hr(e)}function Vy(){return typeof self<"u"&&self.location?.href||""}function fj(){return e1()==="http:"||e1()==="https:"}function e1(){return typeof self<"u"&&self.location?.protocol||null}function mj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fj()||B4()||"connection"in navigator)?navigator.onLine:!0}function gj(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class _h{constructor(e,t){this.shortDelay=e,this.longDelay=t,yr(t>e,"Short delay should be less than long delay!"),this.isMobile=V4()||F4()}get(){return mj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function V0(n,e){yr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class rA{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const yj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_j=new _h(3e4,6e4);function Oa(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function xr(n,e,t,i,r={}){return aA(n,r,async()=>{let o={},l={};i&&(e==="GET"?l=i:o={body:JSON.stringify(i)});const u=yh({key:n.config.apiKey,...l}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:d,...o};return z4()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Ma(n.emulatorConfig.host)&&(f.credentials="include"),rA.fetch()(await oA(n,n.config.apiHost,t,u),f)})}async function aA(n,e,t){n._canInitEmulator=!1;const i={...pj,...e};try{const r=new vj(n),o=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw hf(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw hf(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw hf(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw hf(n,"user-disabled",l);const p=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw sA(n,p,f);ts(n,p)}}catch(r){if(r instanceof js)throw r;ts(n,"network-request-failed",{message:String(r)})}}async function xm(n,e,t,i,r={}){const o=await xr(n,e,t,i,r);return"mfaPendingCredential"in o&&ts(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function oA(n,e,t,i){const r=`${e}${t}?${i}`,o=n,l=o.config.emulator?V0(n.config,r):`${n.config.apiScheme}://${r}`;return yj.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function bj(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ns(this.auth,"network-request-failed")),_j.get())})}}function hf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=Ns(n,e,i);return r.customData._tokenResponse=t,r}function t1(n){return n!==void 0&&n.enterprise!==void 0}class xj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return bj(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wj(n,e){return xr(n,"GET","/v2/recaptchaConfig",Oa(n,e))}async function Ej(n,e){return xr(n,"POST","/v1/accounts:delete",e)}async function $f(n,e){return xr(n,"POST","/v1/accounts:lookup",e)}function Lu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Tj(n,e=!1){const t=Mt(n),i=await t.getIdToken(e),r=U0(i);Ce(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,l=o?.sign_in_provider;return{claims:r,token:i,authTime:Lu(ly(r.auth_time)),issuedAtTime:Lu(ly(r.iat)),expirationTime:Lu(ly(r.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function ly(n){return Number(n)*1e3}function U0(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Tf("JWT malformed, contained fewer than 3 sections"),null;try{const r=GS(t);return r?JSON.parse(r):(Tf("Failed to decode base64 JWT payload"),null)}catch(r){return Tf("Caught error parsing JWT payload as JSON",r?.toString()),null}}function n1(n){const e=U0(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Zu(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof js&&Sj(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function Sj({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class Aj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Uy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lu(this.lastLoginAt),this.creationTime=Lu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wf(n){const e=n.auth,t=await n.getIdToken(),i=await Zu(n,$f(e,{idToken:t}));Ce(i?.users.length,e,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?lA(r.providerUserInfo):[],l=Rj(n.providerData,o),u=n.isAnonymous,d=!(n.email&&r.passwordHash)&&!l?.length,f=u?d:!1,p={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new Uy(r.createdAt,r.lastLoginAt),isAnonymous:f};Object.assign(n,p)}async function Cj(n){const e=Mt(n);await Wf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Rj(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function lA(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function Nj(n,e){const t=await aA(n,{},async()=>{const i=yh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,l=await oA(n,r,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:i};return n.emulatorConfig&&Ma(n.emulatorConfig.host)&&(d.credentials="include"),rA.fetch()(l,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Ij(n,e){return xr(n,"POST","/v2/accounts:revokeToken",Oa(n,e))}class jl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):n1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=n1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:o}=await Nj(e,t);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:o}=t,l=new jl;return i&&(Ce(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),r&&(Ce(typeof r=="string","internal-error",{appName:e}),l.accessToken=r),o&&(Ce(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jl,this.toJSON())}_performRefresh(){return hr("not implemented")}}function sa(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Xi{constructor({uid:e,auth:t,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new Aj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Uy(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await Zu(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Tj(this,e)}reload(){return Cj(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Xi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Wf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Oi(this.auth.app))return Promise.reject(_a(this.auth));const e=await this.getIdToken();return await Zu(this,Ej(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,r=t.email??void 0,o=t.phoneNumber??void 0,l=t.photoURL??void 0,u=t.tenantId??void 0,d=t._redirectEventId??void 0,f=t.createdAt??void 0,p=t.lastLoginAt??void 0,{uid:_,emailVerified:v,isAnonymous:E,providerData:S,stsTokenManager:A}=t;Ce(_&&A,e,"internal-error");const C=jl.fromJSON(this.name,A);Ce(typeof _=="string",e,"internal-error"),sa(i,e.name),sa(r,e.name),Ce(typeof v=="boolean",e,"internal-error"),Ce(typeof E=="boolean",e,"internal-error"),sa(o,e.name),sa(l,e.name),sa(u,e.name),sa(d,e.name),sa(f,e.name),sa(p,e.name);const M=new Xi({uid:_,auth:e,email:r,emailVerified:v,displayName:i,isAnonymous:E,photoURL:l,phoneNumber:o,tenantId:u,stsTokenManager:C,createdAt:f,lastLoginAt:p});return S&&Array.isArray(S)&&(M.providerData=S.map(L=>({...L}))),d&&(M._redirectEventId=d),M}static async _fromIdTokenResponse(e,t,i=!1){const r=new jl;r.updateFromServerResponse(t);const o=new Xi({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Wf(o),o}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];Ce(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?lA(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!o?.length,u=new jl;u.updateFromIdToken(i);const d=new Xi({uid:r.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Uy(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(d,f),d}}const i1=new Map;function dr(n){yr(n instanceof Function,"Expected a class definition");let e=i1.get(n);return e?(yr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,i1.set(n,e),e)}class cA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}cA.type="NONE";const s1=cA;function Sf(n,e,t){return`firebase:${n}:${e}:${t}`}class Vl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Sf(this.userKey,r.apiKey,o),this.fullPersistenceKey=Sf("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await $f(this.auth,{idToken:e}).catch(()=>{});return t?Xi._fromGetAccountInfoResponse(this.auth,t,e):null}return Xi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Vl(dr(s1),e,i);const r=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=r[0]||dr(s1);const l=Sf(i,e.config.apiKey,e.name);let u=null;for(const f of t)try{const p=await f._get(l);if(p){let _;if(typeof p=="string"){const v=await $f(e,{idToken:p}).catch(()=>{});if(!v)break;_=await Xi._fromGetAccountInfoResponse(e,v,p)}else _=Xi._fromJSON(e,p);f!==o&&(u=_),o=f;break}}catch{}const d=r.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Vl(o,e,i):(o=d[0],u&&await o._set(l,u.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new Vl(o,e,i))}}function r1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gA(e))return"Blackberry";if(pA(e))return"Webos";if(hA(e))return"Safari";if((e.includes("chrome/")||dA(e))&&!e.includes("edge/"))return"Chrome";if(mA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function uA(n=jn()){return/firefox\//i.test(n)}function hA(n=jn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dA(n=jn()){return/crios\//i.test(n)}function fA(n=jn()){return/iemobile/i.test(n)}function mA(n=jn()){return/android/i.test(n)}function gA(n=jn()){return/blackberry/i.test(n)}function pA(n=jn()){return/webos/i.test(n)}function z0(n=jn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function kj(n=jn()){return z0(n)&&!!window.navigator?.standalone}function Dj(){return H4()&&document.documentMode===10}function yA(n=jn()){return z0(n)||mA(n)||pA(n)||gA(n)||/windows phone/i.test(n)||fA(n)}function _A(n,e=[]){let t;switch(n){case"Browser":t=r1(jn());break;case"Worker":t=`${r1(jn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Mo}/${i}`}class Mj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((l,u)=>{try{const d=e(o);l(d)}catch(d){u(d)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function Oj(n,e={}){return xr(n,"GET","/v2/passwordPolicy",Oa(n,e))}const Pj=6;class Lj{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Pj,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class jj{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a1(this),this.idTokenSubscription=new a1(this),this.beforeStateQueue=new Mj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=dr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Vl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await $f(this,{idToken:e}),i=await Xi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Oi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&u?.user&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Wf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Oi(this.app))return Promise.reject(_a(this));const t=e?Mt(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Oi(this.app)?Promise.reject(_a(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Oi(this.app)?Promise.reject(_a(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Oj(this),t=new Lj(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ph("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await Ij(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&dr(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await Vl.create(this,[dr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,i,r);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_A(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&dj(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Oo(n){return Mt(n)}class a1{constructor(e){this.auth=e,this.observer=null,this.addObserver=X4(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let wm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vj(n){wm=n}function bA(n){return wm.loadJS(n)}function Uj(){return wm.recaptchaEnterpriseScript}function zj(){return wm.gapiScript}function Bj(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Fj{constructor(){this.enterprise=new Hj}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Hj{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const qj="recaptcha-enterprise",vA="NO_RECAPTCHA";class Gj{constructor(e){this.type=qj,this.auth=Oo(e)}async verify(e="verify",t=!1){async function i(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{wj(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new xj(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(d=>{u(d)})})}function r(o,l,u){const d=window.grecaptcha;t1(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(vA)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Fj().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{i(this.auth).then(u=>{if(!t&&t1(window.grecaptcha))r(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=Uj();d.length!==0&&(d+=u),bA(d).then(()=>{r(u,o,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function o1(n,e,t,i=!1,r=!1){const o=new Gj(n);let l;if(r)l=vA;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const u={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function zy(n,e,t,i,r){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await o1(n,e,t,t==="getOobCode");return i(n,o)}else return i(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await o1(n,e,t,t==="getOobCode");return i(n,l)}else return Promise.reject(o)})}function Yj(n,e){const t=bm(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),o=t.getOptions();if(So(o,e??{}))return r;ts(r,"already-initialized")}return t.initialize({options:e})}function $j(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(dr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function Wj(n,e,t){const i=Oo(n);Ce(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,o=xA(e),{host:l,port:u}=Kj(e),d=u===null?"":`:${u}`,f={url:`${o}//${l}${d}/`},p=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Ce(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ce(So(f,i.config.emulator)&&So(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,Ma(l)?(M0(`${o}//${l}${d}`),O0("Auth",!0)):Qj()}function xA(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Kj(n){const e=xA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:l1(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:l1(l)}}}function l1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Qj(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class B0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return hr("not implemented")}_getIdTokenResponse(e){return hr("not implemented")}_linkToIdToken(e,t){return hr("not implemented")}_getReauthenticationResolver(e){return hr("not implemented")}}async function Xj(n,e){return xr(n,"POST","/v1/accounts:signUp",e)}async function Jj(n,e){return xm(n,"POST","/v1/accounts:signInWithPassword",Oa(n,e))}async function wA(n,e){return xr(n,"POST","/v1/accounts:sendOobCode",Oa(n,e))}async function Zj(n,e){return wA(n,e)}async function eV(n,e){return wA(n,e)}async function tV(n,e){return xm(n,"POST","/v1/accounts:signInWithEmailLink",Oa(n,e))}async function nV(n,e){return xm(n,"POST","/v1/accounts:signInWithEmailLink",Oa(n,e))}class eh extends B0{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new eh(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new eh(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zy(e,t,"signInWithPassword",Jj);case"emailLink":return tV(e,{email:this._email,oobCode:this._password});default:ts(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zy(e,i,"signUpPassword",Xj);case"emailLink":return nV(e,{idToken:t,email:this._email,oobCode:this._password});default:ts(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ul(n,e){return xm(n,"POST","/v1/accounts:signInWithIdp",Oa(n,e))}const iV="http://localhost";class Co extends B0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Co(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ts("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...o}=t;if(!i||!r)return null;const l=new Co(i,r);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Ul(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Ul(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ul(e,t)}buildRequest(){const e={requestUri:iV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=yh(t)}return e}}function sV(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rV(n){const e=Eu(Tu(n)).link,t=e?Eu(Tu(e)).deep_link_id:null,i=Eu(Tu(n)).deep_link_id;return(i?Eu(Tu(i)).link:null)||i||t||e||n}class F0{constructor(e){const t=Eu(Tu(e)),i=t.apiKey??null,r=t.oobCode??null,o=sV(t.mode??null);Ce(i&&r&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=rV(e);try{return new F0(t)}catch{return null}}}class sc{constructor(){this.providerId=sc.PROVIDER_ID}static credential(e,t){return eh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=F0.parseLink(t);return Ce(i,"argument-error"),eh._fromEmailAndCode(e,i.code,i.tenantId)}}sc.PROVIDER_ID="password";sc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class EA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class bh extends EA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ra extends bh{constructor(){super("facebook.com")}static credential(e){return Co._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ra.credential(e.oauthAccessToken)}catch{return null}}}ra.FACEBOOK_SIGN_IN_METHOD="facebook.com";ra.PROVIDER_ID="facebook.com";class aa extends bh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Co._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return aa.credential(t,i)}catch{return null}}}aa.GOOGLE_SIGN_IN_METHOD="google.com";aa.PROVIDER_ID="google.com";class oa extends bh{constructor(){super("github.com")}static credential(e){return Co._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oa.credential(e.oauthAccessToken)}catch{return null}}}oa.GITHUB_SIGN_IN_METHOD="github.com";oa.PROVIDER_ID="github.com";class la extends bh{constructor(){super("twitter.com")}static credential(e,t){return Co._fromParams({providerId:la.PROVIDER_ID,signInMethod:la.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return la.credentialFromTaggedObject(e)}static credentialFromError(e){return la.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return la.credential(t,i)}catch{return null}}}la.TWITTER_SIGN_IN_METHOD="twitter.com";la.PROVIDER_ID="twitter.com";class $l{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const o=await Xi._fromIdTokenResponse(e,i,r),l=c1(i);return new $l({user:o,providerId:l,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=c1(i);return new $l({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function c1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Kf extends js{constructor(e,t,i,r){super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Kf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new Kf(e,t,i,r)}}function TA(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Kf._fromErrorAndOperation(n,o,e,i):o})}async function aV(n,e,t=!1){const i=await Zu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return $l._forOperation(n,"link",i)}async function oV(n,e,t=!1){const{auth:i}=n;if(Oi(i.app))return Promise.reject(_a(i));const r="reauthenticate";try{const o=await Zu(n,TA(i,r,e,n),t);Ce(o.idToken,i,"internal-error");const l=U0(o.idToken);Ce(l,i,"internal-error");const{sub:u}=l;return Ce(n.uid===u,i,"user-mismatch"),$l._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&ts(i,"user-mismatch"),o}}async function SA(n,e,t=!1){if(Oi(n.app))return Promise.reject(_a(n));const i="signIn",r=await TA(n,i,e),o=await $l._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(o.user),o}async function lV(n,e){return SA(Oo(n),e)}async function cV(n){const e=Oo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function uV(n,e,t){const i=Oo(n);await zy(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",eV)}function hV(n,e,t){return Oi(n.app)?Promise.reject(_a(n)):lV(Mt(n),sc.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&cV(n),i})}async function AA(n,e){const t=Mt(n),r={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:o}=await Zj(t.auth,r);o!==n.email&&await n.reload()}function dV(n,e,t,i){return Mt(n).onIdTokenChanged(e,t,i)}function fV(n,e,t){return Mt(n).beforeAuthStateChanged(e,t)}function mV(n,e,t,i){return Mt(n).onAuthStateChanged(e,t,i)}function CA(n){return Mt(n).signOut()}const Qf="__sak";class RA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Qf,"1"),this.storage.removeItem(Qf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const gV=1e3,pV=10;class NA extends RA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(i);!t&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);Dj()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,pV):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},gV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}NA.type="LOCAL";const yV=NA;class IA extends RA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}IA.type="SESSION";const kA=IA;function _V(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Em{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new Em(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:o}=t.data,l=this.handlersMap[r];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(l).map(async f=>f(t.origin,o)),d=await _V(u);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Em.receivers=[];function H0(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}class bV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,l;return new Promise((u,d)=>{const f=H0("",20);r.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(_){const v=_;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(v.data.response);break;default:clearTimeout(p),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Is(){return window}function vV(n){Is().location.href=n}function DA(){return typeof Is().WorkerGlobalScope<"u"&&typeof Is().importScripts=="function"}async function xV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wV(){return navigator?.serviceWorker?.controller||null}function EV(){return DA()?self:null}const MA="firebaseLocalStorageDb",TV=1,Xf="firebaseLocalStorage",OA="fbase_key";class vh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Tm(n,e){return n.transaction([Xf],e?"readwrite":"readonly").objectStore(Xf)}function SV(){const n=indexedDB.deleteDatabase(MA);return new vh(n).toPromise()}function By(){const n=indexedDB.open(MA,TV);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Xf,{keyPath:OA})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Xf)?e(i):(i.close(),await SV(),e(await By()))})})}async function u1(n,e,t){const i=Tm(n,!0).put({[OA]:e,value:t});return new vh(i).toPromise()}async function AV(n,e){const t=Tm(n,!1).get(e),i=await new vh(t).toPromise();return i===void 0?null:i.value}function h1(n,e){const t=Tm(n,!0).delete(e);return new vh(t).toPromise()}const CV=800,RV=3;class PA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await By(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>RV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Em._getInstance(EV()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await xV(),!this.activeServiceWorker)return;this.sender=new bV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await By();return await u1(e,Qf,"1"),await h1(e,Qf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>u1(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>AV(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>h1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=Tm(r,!1).getAll();return new vh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PA.type="LOCAL";const NV=PA;new _h(3e4,6e4);function IV(n,e){return e?dr(e):(Ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class q0 extends B0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ul(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ul(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function kV(n){return SA(n.auth,new q0(n),n.bypassAuthState)}function DV(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),oV(t,new q0(n),n.bypassAuthState)}async function MV(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),aV(t,new q0(n),n.bypassAuthState)}class LA{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kV;case"linkViaPopup":case"linkViaRedirect":return MV;case"reauthViaPopup":case"reauthViaRedirect":return DV;default:ts(this.auth,"internal-error")}}resolve(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const OV=new _h(2e3,1e4);class Pl extends LA{constructor(e,t,i,r,o){super(e,t,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Pl.currentPopupAction&&Pl.currentPopupAction.cancel(),Pl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const e=H0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ns(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ns(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ns(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OV.get())};e()}}Pl.currentPopupAction=null;const PV="pendingRedirect",Af=new Map;class LV extends LA{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Af.get(this.auth._key());if(!e){try{const i=await jV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Af.set(this.auth._key(),e)}return this.bypassAuthState||Af.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jV(n,e){const t=zV(e),i=UV(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function VV(n,e){Af.set(n._key(),e)}function UV(n){return dr(n._redirectPersistence)}function zV(n){return Sf(PV,n.config.apiKey,n.name)}async function BV(n,e,t=!1){if(Oi(n.app))return Promise.reject(_a(n));const i=Oo(n),r=IV(i,e),l=await new LV(i,r,t).execute();return l&&!t&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}const FV=600*1e3;class HV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qV(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!jA(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Ns(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FV&&this.cachedEventUids.clear(),this.cachedEventUids.has(d1(e))}saveEventToCache(e){this.cachedEventUids.add(d1(e)),this.lastProcessedEventTime=Date.now()}}function d1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function jA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function qV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jA(n);default:return!1}}async function GV(n,e={}){return xr(n,"GET","/v1/projects",e)}const YV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$V=/^https?/;async function WV(n){if(n.config.emulator)return;const{authorizedDomains:e}=await GV(n);for(const t of e)try{if(KV(t))return}catch{}ts(n,"unauthorized-domain")}function KV(n){const e=Vy(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===i}if(!$V.test(t))return!1;if(YV.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const QV=new _h(3e4,6e4);function f1(){const n=Is().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function XV(n){return new Promise((e,t)=>{function i(){f1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{f1(),t(Ns(n,"network-request-failed"))},timeout:QV.get()})}if(Is().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Is().gapi?.load)i();else{const r=Bj("iframefcb");return Is()[r]=()=>{gapi.load?i():t(Ns(n,"network-request-failed"))},bA(`${zj()}?onload=${r}`).catch(o=>t(o))}}).catch(e=>{throw Cf=null,e})}let Cf=null;function JV(n){return Cf=Cf||XV(n),Cf}const ZV=new _h(5e3,15e3),e5="__/auth/iframe",t5="emulator/auth/iframe",n5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},i5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function s5(n){const e=n.config;Ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?V0(e,t5):`https://${n.config.authDomain}/${e5}`,i={apiKey:e.apiKey,appName:n.name,v:Mo},r=i5.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${yh(i).slice(1)}`}async function r5(n){const e=await JV(n),t=Is().gapi;return Ce(t,n,"internal-error"),e.open({where:document.body,url:s5(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:n5,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const l=Ns(n,"network-request-failed"),u=Is().setTimeout(()=>{o(l)},ZV.get());function d(){Is().clearTimeout(u),r(i)}i.ping(d).then(d,()=>{o(l)})}))}const a5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},o5=500,l5=600,c5="_blank",u5="http://localhost";class m1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function h5(n,e,t,i=o5,r=l5){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const d={...a5,width:i.toString(),height:r.toString(),top:o,left:l},f=jn().toLowerCase();t&&(u=dA(f)?c5:t),uA(f)&&(e=e||u5,d.scrollbars="yes");const p=Object.entries(d).reduce((v,[E,S])=>`${v}${E}=${S},`,"");if(kj(f)&&u!=="_self")return d5(e||"",u),new m1(null);const _=window.open(e||"",u,p);Ce(_,n,"popup-blocked");try{_.focus()}catch{}return new m1(_)}function d5(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const f5="__/auth/handler",m5="emulator/auth/handler",g5=encodeURIComponent("fac");async function g1(n,e,t,i,r,o){Ce(n.config.authDomain,n,"auth-domain-config-required"),Ce(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Mo,eventId:r};if(e instanceof EA){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",Q4(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,_]of Object.entries({}))l[p]=_}if(e instanceof bh){const p=e.getScopes().filter(_=>_!=="");p.length>0&&(l.scopes=p.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const d=await n._getAppCheckToken(),f=d?`#${g5}=${encodeURIComponent(d)}`:"";return`${p5(n)}?${yh(u).slice(1)}${f}`}function p5({config:n}){return n.emulator?V0(n,m5):`https://${n.authDomain}/${f5}`}const cy="webStorageSupport";class y5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kA,this._completeRedirectFn=BV,this._overrideRedirectResult=VV}async _openPopup(e,t,i,r){yr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await g1(e,t,i,Vy(),r);return h5(e,o,H0())}async _openRedirect(e,t,i,r){await this._originValidation(e);const o=await g1(e,t,i,Vy(),r);return vV(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(yr(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await r5(e),i=new HV(e);return t.register("authEvent",r=>(Ce(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(cy,{type:cy},r=>{const o=r?.[0]?.[cy];o!==void 0&&t(!!o),ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=WV(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return yA()||hA()||z0()}}const _5=y5;var p1="@firebase/auth",y1="1.12.0";class b5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function v5(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function x5(n){Ao(new Ea("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;Ce(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_A(n)},f=new jj(i,r,o,d);return $j(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Ao(new Ea("auth-internal",e=>{const t=Oo(e.getProvider("auth").getImmediate());return(i=>new b5(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rs(p1,y1,v5(n)),Rs(p1,y1,"esm2020")}const w5=300,E5=KS("authIdTokenMaxAge")||w5;let _1=null;const T5=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>E5)return;const r=t?.token;_1!==r&&(_1=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function S5(n=vm()){const e=bm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Yj(n,{popupRedirectResolver:_5,persistence:[NV,yV,kA]}),i=KS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=T5(o.toString());fV(t,l,()=>l(t.currentUser)),dV(t,u=>l(u))}}const r=YS("auth");return r&&Wj(t,`http://${r}`),t}function A5(){return document.getElementsByTagName("head")?.[0]??document}Vj({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const o=Ns("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",A5().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});x5("Browser");var b1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ba,VA;(function(){var n;function e(I,N){function D(){}D.prototype=N.prototype,I.F=N.prototype,I.prototype=new D,I.prototype.constructor=I,I.D=function(j,P,U){for(var O=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)O[Ie-2]=arguments[Ie];return N.prototype[P].apply(j,O)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(I,N,D){D||(D=0);const j=Array(16);if(typeof N=="string")for(var P=0;P<16;++P)j[P]=N.charCodeAt(D++)|N.charCodeAt(D++)<<8|N.charCodeAt(D++)<<16|N.charCodeAt(D++)<<24;else for(P=0;P<16;++P)j[P]=N[D++]|N[D++]<<8|N[D++]<<16|N[D++]<<24;N=I.g[0],D=I.g[1],P=I.g[2];let U=I.g[3],O;O=N+(U^D&(P^U))+j[0]+3614090360&4294967295,N=D+(O<<7&4294967295|O>>>25),O=U+(P^N&(D^P))+j[1]+3905402710&4294967295,U=N+(O<<12&4294967295|O>>>20),O=P+(D^U&(N^D))+j[2]+606105819&4294967295,P=U+(O<<17&4294967295|O>>>15),O=D+(N^P&(U^N))+j[3]+3250441966&4294967295,D=P+(O<<22&4294967295|O>>>10),O=N+(U^D&(P^U))+j[4]+4118548399&4294967295,N=D+(O<<7&4294967295|O>>>25),O=U+(P^N&(D^P))+j[5]+1200080426&4294967295,U=N+(O<<12&4294967295|O>>>20),O=P+(D^U&(N^D))+j[6]+2821735955&4294967295,P=U+(O<<17&4294967295|O>>>15),O=D+(N^P&(U^N))+j[7]+4249261313&4294967295,D=P+(O<<22&4294967295|O>>>10),O=N+(U^D&(P^U))+j[8]+1770035416&4294967295,N=D+(O<<7&4294967295|O>>>25),O=U+(P^N&(D^P))+j[9]+2336552879&4294967295,U=N+(O<<12&4294967295|O>>>20),O=P+(D^U&(N^D))+j[10]+4294925233&4294967295,P=U+(O<<17&4294967295|O>>>15),O=D+(N^P&(U^N))+j[11]+2304563134&4294967295,D=P+(O<<22&4294967295|O>>>10),O=N+(U^D&(P^U))+j[12]+1804603682&4294967295,N=D+(O<<7&4294967295|O>>>25),O=U+(P^N&(D^P))+j[13]+4254626195&4294967295,U=N+(O<<12&4294967295|O>>>20),O=P+(D^U&(N^D))+j[14]+2792965006&4294967295,P=U+(O<<17&4294967295|O>>>15),O=D+(N^P&(U^N))+j[15]+1236535329&4294967295,D=P+(O<<22&4294967295|O>>>10),O=N+(P^U&(D^P))+j[1]+4129170786&4294967295,N=D+(O<<5&4294967295|O>>>27),O=U+(D^P&(N^D))+j[6]+3225465664&4294967295,U=N+(O<<9&4294967295|O>>>23),O=P+(N^D&(U^N))+j[11]+643717713&4294967295,P=U+(O<<14&4294967295|O>>>18),O=D+(U^N&(P^U))+j[0]+3921069994&4294967295,D=P+(O<<20&4294967295|O>>>12),O=N+(P^U&(D^P))+j[5]+3593408605&4294967295,N=D+(O<<5&4294967295|O>>>27),O=U+(D^P&(N^D))+j[10]+38016083&4294967295,U=N+(O<<9&4294967295|O>>>23),O=P+(N^D&(U^N))+j[15]+3634488961&4294967295,P=U+(O<<14&4294967295|O>>>18),O=D+(U^N&(P^U))+j[4]+3889429448&4294967295,D=P+(O<<20&4294967295|O>>>12),O=N+(P^U&(D^P))+j[9]+568446438&4294967295,N=D+(O<<5&4294967295|O>>>27),O=U+(D^P&(N^D))+j[14]+3275163606&4294967295,U=N+(O<<9&4294967295|O>>>23),O=P+(N^D&(U^N))+j[3]+4107603335&4294967295,P=U+(O<<14&4294967295|O>>>18),O=D+(U^N&(P^U))+j[8]+1163531501&4294967295,D=P+(O<<20&4294967295|O>>>12),O=N+(P^U&(D^P))+j[13]+2850285829&4294967295,N=D+(O<<5&4294967295|O>>>27),O=U+(D^P&(N^D))+j[2]+4243563512&4294967295,U=N+(O<<9&4294967295|O>>>23),O=P+(N^D&(U^N))+j[7]+1735328473&4294967295,P=U+(O<<14&4294967295|O>>>18),O=D+(U^N&(P^U))+j[12]+2368359562&4294967295,D=P+(O<<20&4294967295|O>>>12),O=N+(D^P^U)+j[5]+4294588738&4294967295,N=D+(O<<4&4294967295|O>>>28),O=U+(N^D^P)+j[8]+2272392833&4294967295,U=N+(O<<11&4294967295|O>>>21),O=P+(U^N^D)+j[11]+1839030562&4294967295,P=U+(O<<16&4294967295|O>>>16),O=D+(P^U^N)+j[14]+4259657740&4294967295,D=P+(O<<23&4294967295|O>>>9),O=N+(D^P^U)+j[1]+2763975236&4294967295,N=D+(O<<4&4294967295|O>>>28),O=U+(N^D^P)+j[4]+1272893353&4294967295,U=N+(O<<11&4294967295|O>>>21),O=P+(U^N^D)+j[7]+4139469664&4294967295,P=U+(O<<16&4294967295|O>>>16),O=D+(P^U^N)+j[10]+3200236656&4294967295,D=P+(O<<23&4294967295|O>>>9),O=N+(D^P^U)+j[13]+681279174&4294967295,N=D+(O<<4&4294967295|O>>>28),O=U+(N^D^P)+j[0]+3936430074&4294967295,U=N+(O<<11&4294967295|O>>>21),O=P+(U^N^D)+j[3]+3572445317&4294967295,P=U+(O<<16&4294967295|O>>>16),O=D+(P^U^N)+j[6]+76029189&4294967295,D=P+(O<<23&4294967295|O>>>9),O=N+(D^P^U)+j[9]+3654602809&4294967295,N=D+(O<<4&4294967295|O>>>28),O=U+(N^D^P)+j[12]+3873151461&4294967295,U=N+(O<<11&4294967295|O>>>21),O=P+(U^N^D)+j[15]+530742520&4294967295,P=U+(O<<16&4294967295|O>>>16),O=D+(P^U^N)+j[2]+3299628645&4294967295,D=P+(O<<23&4294967295|O>>>9),O=N+(P^(D|~U))+j[0]+4096336452&4294967295,N=D+(O<<6&4294967295|O>>>26),O=U+(D^(N|~P))+j[7]+1126891415&4294967295,U=N+(O<<10&4294967295|O>>>22),O=P+(N^(U|~D))+j[14]+2878612391&4294967295,P=U+(O<<15&4294967295|O>>>17),O=D+(U^(P|~N))+j[5]+4237533241&4294967295,D=P+(O<<21&4294967295|O>>>11),O=N+(P^(D|~U))+j[12]+1700485571&4294967295,N=D+(O<<6&4294967295|O>>>26),O=U+(D^(N|~P))+j[3]+2399980690&4294967295,U=N+(O<<10&4294967295|O>>>22),O=P+(N^(U|~D))+j[10]+4293915773&4294967295,P=U+(O<<15&4294967295|O>>>17),O=D+(U^(P|~N))+j[1]+2240044497&4294967295,D=P+(O<<21&4294967295|O>>>11),O=N+(P^(D|~U))+j[8]+1873313359&4294967295,N=D+(O<<6&4294967295|O>>>26),O=U+(D^(N|~P))+j[15]+4264355552&4294967295,U=N+(O<<10&4294967295|O>>>22),O=P+(N^(U|~D))+j[6]+2734768916&4294967295,P=U+(O<<15&4294967295|O>>>17),O=D+(U^(P|~N))+j[13]+1309151649&4294967295,D=P+(O<<21&4294967295|O>>>11),O=N+(P^(D|~U))+j[4]+4149444226&4294967295,N=D+(O<<6&4294967295|O>>>26),O=U+(D^(N|~P))+j[11]+3174756917&4294967295,U=N+(O<<10&4294967295|O>>>22),O=P+(N^(U|~D))+j[2]+718787259&4294967295,P=U+(O<<15&4294967295|O>>>17),O=D+(U^(P|~N))+j[9]+3951481745&4294967295,I.g[0]=I.g[0]+N&4294967295,I.g[1]=I.g[1]+(P+(O<<21&4294967295|O>>>11))&4294967295,I.g[2]=I.g[2]+P&4294967295,I.g[3]=I.g[3]+U&4294967295}i.prototype.v=function(I,N){N===void 0&&(N=I.length);const D=N-this.blockSize,j=this.C;let P=this.h,U=0;for(;U<N;){if(P==0)for(;U<=D;)r(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<N;)if(j[P++]=I.charCodeAt(U++),P==this.blockSize){r(this,j),P=0;break}}else for(;U<N;)if(j[P++]=I[U++],P==this.blockSize){r(this,j),P=0;break}}this.h=P,this.o+=N},i.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var N=1;N<I.length-8;++N)I[N]=0;N=this.o*8;for(var D=I.length-8;D<I.length;++D)I[D]=N&255,N/=256;for(this.v(I),I=Array(16),N=0,D=0;D<4;++D)for(let j=0;j<32;j+=8)I[N++]=this.g[D]>>>j&255;return I};function o(I,N){var D=u;return Object.prototype.hasOwnProperty.call(D,I)?D[I]:D[I]=N(I)}function l(I,N){this.h=N;const D=[];let j=!0;for(let P=I.length-1;P>=0;P--){const U=I[P]|0;j&&U==N||(D[P]=U,j=!1)}this.g=D}var u={};function d(I){return-128<=I&&I<128?o(I,function(N){return new l([N|0],N<0?-1:0)}):new l([I|0],I<0?-1:0)}function f(I){if(isNaN(I)||!isFinite(I))return _;if(I<0)return C(f(-I));const N=[];let D=1;for(let j=0;I>=D;j++)N[j]=I/D|0,D*=4294967296;return new l(N,0)}function p(I,N){if(I.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(I.charAt(0)=="-")return C(p(I.substring(1),N));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=f(Math.pow(N,8));let j=_;for(let U=0;U<I.length;U+=8){var P=Math.min(8,I.length-U);const O=parseInt(I.substring(U,U+P),N);P<8?(P=f(Math.pow(N,P)),j=j.j(P).add(f(O))):(j=j.j(D),j=j.add(f(O)))}return j}var _=d(0),v=d(1),E=d(16777216);n=l.prototype,n.m=function(){if(A(this))return-C(this).m();let I=0,N=1;for(let D=0;D<this.g.length;D++){const j=this.i(D);I+=(j>=0?j:4294967296+j)*N,N*=4294967296}return I},n.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(S(this))return"0";if(A(this))return"-"+C(this).toString(I);const N=f(Math.pow(I,6));var D=this;let j="";for(;;){const P=Y(D,N).g;D=M(D,P.j(N));let U=((D.g.length>0?D.g[0]:D.h)>>>0).toString(I);if(D=P,S(D))return U+j;for(;U.length<6;)U="0"+U;j=U+j}},n.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function S(I){if(I.h!=0)return!1;for(let N=0;N<I.g.length;N++)if(I.g[N]!=0)return!1;return!0}function A(I){return I.h==-1}n.l=function(I){return I=M(this,I),A(I)?-1:S(I)?0:1};function C(I){const N=I.g.length,D=[];for(let j=0;j<N;j++)D[j]=~I.g[j];return new l(D,~I.h).add(v)}n.abs=function(){return A(this)?C(this):this},n.add=function(I){const N=Math.max(this.g.length,I.g.length),D=[];let j=0;for(let P=0;P<=N;P++){let U=j+(this.i(P)&65535)+(I.i(P)&65535),O=(U>>>16)+(this.i(P)>>>16)+(I.i(P)>>>16);j=O>>>16,U&=65535,O&=65535,D[P]=O<<16|U}return new l(D,D[D.length-1]&-2147483648?-1:0)};function M(I,N){return I.add(C(N))}n.j=function(I){if(S(this)||S(I))return _;if(A(this))return A(I)?C(this).j(C(I)):C(C(this).j(I));if(A(I))return C(this.j(C(I)));if(this.l(E)<0&&I.l(E)<0)return f(this.m()*I.m());const N=this.g.length+I.g.length,D=[];for(var j=0;j<2*N;j++)D[j]=0;for(j=0;j<this.g.length;j++)for(let P=0;P<I.g.length;P++){const U=this.i(j)>>>16,O=this.i(j)&65535,Ie=I.i(P)>>>16,be=I.i(P)&65535;D[2*j+2*P]+=O*be,L(D,2*j+2*P),D[2*j+2*P+1]+=U*be,L(D,2*j+2*P+1),D[2*j+2*P+1]+=O*Ie,L(D,2*j+2*P+1),D[2*j+2*P+2]+=U*Ie,L(D,2*j+2*P+2)}for(I=0;I<N;I++)D[I]=D[2*I+1]<<16|D[2*I];for(I=N;I<2*N;I++)D[I]=0;return new l(D,0)};function L(I,N){for(;(I[N]&65535)!=I[N];)I[N+1]+=I[N]>>>16,I[N]&=65535,N++}function H(I,N){this.g=I,this.h=N}function Y(I,N){if(S(N))throw Error("division by zero");if(S(I))return new H(_,_);if(A(I))return N=Y(C(I),N),new H(C(N.g),C(N.h));if(A(N))return N=Y(I,C(N)),new H(C(N.g),N.h);if(I.g.length>30){if(A(I)||A(N))throw Error("slowDivide_ only works with positive integers.");for(var D=v,j=N;j.l(I)<=0;)D=$(D),j=$(j);var P=te(D,1),U=te(j,1);for(j=te(j,2),D=te(D,2);!S(j);){var O=U.add(j);O.l(I)<=0&&(P=P.add(D),U=O),j=te(j,1),D=te(D,1)}return N=M(I,P.j(N)),new H(P,N)}for(P=_;I.l(N)>=0;){for(D=Math.max(1,Math.floor(I.m()/N.m())),j=Math.ceil(Math.log(D)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),U=f(D),O=U.j(N);A(O)||O.l(I)>0;)D-=j,U=f(D),O=U.j(N);S(U)&&(U=v),P=P.add(U),I=M(I,O)}return new H(P,I)}n.B=function(I){return Y(this,I).h},n.and=function(I){const N=Math.max(this.g.length,I.g.length),D=[];for(let j=0;j<N;j++)D[j]=this.i(j)&I.i(j);return new l(D,this.h&I.h)},n.or=function(I){const N=Math.max(this.g.length,I.g.length),D=[];for(let j=0;j<N;j++)D[j]=this.i(j)|I.i(j);return new l(D,this.h|I.h)},n.xor=function(I){const N=Math.max(this.g.length,I.g.length),D=[];for(let j=0;j<N;j++)D[j]=this.i(j)^I.i(j);return new l(D,this.h^I.h)};function $(I){const N=I.g.length+1,D=[];for(let j=0;j<N;j++)D[j]=I.i(j)<<1|I.i(j-1)>>>31;return new l(D,I.h)}function te(I,N){const D=N>>5;N%=32;const j=I.g.length-D,P=[];for(let U=0;U<j;U++)P[U]=N>0?I.i(U+D)>>>N|I.i(U+D+1)<<32-N:I.i(U+D);return new l(P,I.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,VA=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,ba=l}).apply(typeof b1<"u"?b1:typeof self<"u"?self:typeof window<"u"?window:{});var df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var UA,Su,zA,Rf,Fy,BA,FA,HA;(function(){var n,e=Object.defineProperty;function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof df=="object"&&df];for(var x=0;x<m.length;++x){var T=m[x];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=t(this);function r(m,x){if(x)e:{var T=i;m=m.split(".");for(var k=0;k<m.length-1;k++){var G=m[k];if(!(G in T))break e;T=T[G]}m=m[m.length-1],k=T[m],x=x(k),x!=k&&x!=null&&e(T,m,{configurable:!0,writable:!0,value:x})}}r("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(m){return m||function(x){var T=[],k;for(k in x)Object.prototype.hasOwnProperty.call(x,k)&&T.push([k,x[k]]);return T}});var o=o||{},l=this||self;function u(m){var x=typeof m;return x=="object"&&m!=null||x=="function"}function d(m,x,T){return m.call.apply(m.bind,arguments)}function f(m,x,T){return f=d,f.apply(null,arguments)}function p(m,x){var T=Array.prototype.slice.call(arguments,1);return function(){var k=T.slice();return k.push.apply(k,arguments),m.apply(this,k)}}function _(m,x){function T(){}T.prototype=x.prototype,m.Z=x.prototype,m.prototype=new T,m.prototype.constructor=m,m.Ob=function(k,G,J){for(var he=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)he[Le-2]=arguments[Le];return x.prototype[G].apply(k,he)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function E(m){const x=m.length;if(x>0){const T=Array(x);for(let k=0;k<x;k++)T[k]=m[k];return T}return[]}function S(m,x){for(let k=1;k<arguments.length;k++){const G=arguments[k];var T=typeof G;if(T=T!="object"?T:G?Array.isArray(G)?"array":T:"null",T=="array"||T=="object"&&typeof G.length=="number"){T=m.length||0;const J=G.length||0;m.length=T+J;for(let he=0;he<J;he++)m[T+he]=G[he]}else m.push(G)}}class A{constructor(x,T){this.i=x,this.j=T,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function C(m){l.setTimeout(()=>{throw m},0)}function M(){var m=I;let x=null;return m.g&&(x=m.g,m.g=m.g.next,m.g||(m.h=null),x.next=null),x}class L{constructor(){this.h=this.g=null}add(x,T){const k=H.get();k.set(x,T),this.h?this.h.next=k:this.g=k,this.h=k}}var H=new A(()=>new Y,m=>m.reset());class Y{constructor(){this.next=this.g=this.h=null}set(x,T){this.h=x,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let $,te=!1,I=new L,N=()=>{const m=Promise.resolve(void 0);$=()=>{m.then(D)}};function D(){for(var m;m=M();){try{m.h.call(m.g)}catch(T){C(T)}var x=H;x.j(m),x.h<100&&(x.h++,m.next=x.g,x.g=m)}te=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(m,x){this.type=m,this.g=this.target=x,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var m=!1,x=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const T=()=>{};l.addEventListener("test",T,x),l.removeEventListener("test",T,x)}catch{}return m})();function O(m){return/^[\s\xa0]*$/.test(m)}function Ie(m,x){P.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,x)}_(Ie,P),Ie.prototype.init=function(m,x){const T=this.type=m.type,k=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=x,x=m.relatedTarget,x||(T=="mouseover"?x=m.fromElement:T=="mouseout"&&(x=m.toElement)),this.relatedTarget=x,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&Ie.Z.h.call(this)},Ie.prototype.h=function(){Ie.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var be="closure_listenable_"+(Math.random()*1e6|0),Q=0;function le(m,x,T,k,G){this.listener=m,this.proxy=null,this.src=x,this.type=T,this.capture=!!k,this.ha=G,this.key=++Q,this.da=this.fa=!1}function fe(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ye(m,x,T){for(const k in m)x.call(T,m[k],k,m)}function Se(m,x){for(const T in m)x.call(void 0,m[T],T,m)}function z(m){const x={};for(const T in m)x[T]=m[T];return x}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(m,x){let T,k;for(let G=1;G<arguments.length;G++){k=arguments[G];for(T in k)m[T]=k[T];for(let J=0;J<ne.length;J++)T=ne[J],Object.prototype.hasOwnProperty.call(k,T)&&(m[T]=k[T])}}function de(m){this.src=m,this.g={},this.h=0}de.prototype.add=function(m,x,T,k,G){const J=m.toString();m=this.g[J],m||(m=this.g[J]=[],this.h++);const he=Te(m,x,k,G);return he>-1?(x=m[he],T||(x.fa=!1)):(x=new le(x,this.src,J,!!k,G),x.fa=T,m.push(x)),x};function xe(m,x){const T=x.type;if(T in m.g){var k=m.g[T],G=Array.prototype.indexOf.call(k,x,void 0),J;(J=G>=0)&&Array.prototype.splice.call(k,G,1),J&&(fe(x),m.g[T].length==0&&(delete m.g[T],m.h--))}}function Te(m,x,T,k){for(let G=0;G<m.length;++G){const J=m[G];if(!J.da&&J.listener==x&&J.capture==!!T&&J.ha==k)return G}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),rt={};function ct(m,x,T,k,G){if(Array.isArray(x)){for(let J=0;J<x.length;J++)ct(m,x[J],T,k,G);return null}return T=Tr(T),m&&m[be]?m.J(x,T,u(k)?!!k.capture:!1,G):ei(m,x,T,!1,k,G)}function ei(m,x,T,k,G,J){if(!x)throw Error("Invalid event type");const he=u(G)?!!G.capture:!!G;let Le=_i(m);if(Le||(m[ze]=Le=new de(m)),T=Le.add(x,T,k,he,J),T.proxy)return T;if(k=ce(),T.proxy=k,k.src=m,k.listener=T,m.addEventListener)U||(G=he),G===void 0&&(G=!1),m.addEventListener(x.toString(),k,G);else if(m.attachEvent)m.attachEvent(Kt(x.toString()),k);else if(m.addListener&&m.removeListener)m.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ce(){function m(T){return x.call(m.src,m.listener,T)}const x=ti;return m}function Be(m,x,T,k,G){if(Array.isArray(x))for(var J=0;J<x.length;J++)Be(m,x[J],T,k,G);else k=u(k)?!!k.capture:!!k,T=Tr(T),m&&m[be]?(m=m.i,J=String(x).toString(),J in m.g&&(x=m.g[J],T=Te(x,T,k,G),T>-1&&(fe(x[T]),Array.prototype.splice.call(x,T,1),x.length==0&&(delete m.g[J],m.h--)))):m&&(m=_i(m))&&(x=m.g[x.toString()],m=-1,x&&(m=Te(x,T,k,G)),(T=m>-1?x[m]:null)&&Bt(T))}function Bt(m){if(typeof m!="number"&&m&&!m.da){var x=m.src;if(x&&x[be])xe(x.i,m);else{var T=m.type,k=m.proxy;x.removeEventListener?x.removeEventListener(T,k,m.capture):x.detachEvent?x.detachEvent(Kt(T),k):x.addListener&&x.removeListener&&x.removeListener(k),(T=_i(x))?(xe(T,m),T.h==0&&(T.src=null,x[ze]=null)):fe(m)}}}function Kt(m){return m in rt?rt[m]:rt[m]="on"+m}function ti(m,x){if(m.da)m=!0;else{x=new Ie(x,this);const T=m.listener,k=m.ha||m.src;m.fa&&Bt(m),m=T.call(k,x)}return m}function _i(m){return m=m[ze],m instanceof de?m:null}var Er="__closure_events_fn_"+(Math.random()*1e9>>>0);function Tr(m){return typeof m=="function"?m:(m[Er]||(m[Er]=function(x){return m.handleEvent(x)}),m[Er])}function kt(){j.call(this),this.i=new de(this),this.M=this,this.G=null}_(kt,j),kt.prototype[be]=!0,kt.prototype.removeEventListener=function(m,x,T,k){Be(this,m,x,T,k)};function Pt(m,x){var T,k=m.G;if(k)for(T=[];k;k=k.G)T.push(k);if(m=m.M,k=x.type||x,typeof x=="string")x=new P(x,m);else if(x instanceof P)x.target=x.target||m;else{var G=x;x=new P(k,m),ue(x,G)}G=!0;let J,he;if(T)for(he=T.length-1;he>=0;he--)J=x.g=T[he],G=Li(J,k,!0,x)&&G;if(J=x.g=m,G=Li(J,k,!0,x)&&G,G=Li(J,k,!1,x)&&G,T)for(he=0;he<T.length;he++)J=x.g=T[he],G=Li(J,k,!1,x)&&G}kt.prototype.N=function(){if(kt.Z.N.call(this),this.i){var m=this.i;for(const x in m.g){const T=m.g[x];for(let k=0;k<T.length;k++)fe(T[k]);delete m.g[x],m.h--}}this.G=null},kt.prototype.J=function(m,x,T,k){return this.i.add(String(m),x,!1,T,k)},kt.prototype.K=function(m,x,T,k){return this.i.add(String(m),x,!0,T,k)};function Li(m,x,T,k){if(x=m.i.g[String(x)],!x)return!0;x=x.concat();let G=!0;for(let J=0;J<x.length;++J){const he=x[J];if(he&&!he.da&&he.capture==T){const Le=he.listener,Ht=he.ha||he.src;he.fa&&xe(m.i,he),G=Le.call(Ht,k)!==!1&&G}}return G&&!k.defaultPrevented}function jo(m,x){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=f(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:l.setTimeout(m,x||0)}function Va(m){m.g=jo(()=>{m.g=null,m.i&&(m.i=!1,Va(m))},m.l);const x=m.h;m.h=null,m.m.apply(null,x)}class dn extends j{constructor(x,T){super(),this.m=x,this.l=T,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Va(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qt(m){j.call(this),this.h=m,this.g={}}_(Qt,j);var bi=[];function ji(m){ye(m.g,function(x,T){this.g.hasOwnProperty(T)&&Bt(x)},m),m.g={}}Qt.prototype.N=function(){Qt.Z.N.call(this),ji(this)},Qt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var is=l.JSON.stringify,hc=l.JSON.parse,Vo=class{stringify(m){return l.JSON.stringify(m,void 0)}parse(m){return l.JSON.parse(m,void 0)}};function Uo(){}function vi(){}var ee={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ge(){P.call(this,"d")}_(ge,P);function Ve(){P.call(this,"c")}_(Ve,P);var Ne={},et=null;function tt(){return et=et||new kt}Ne.Ia="serverreachability";function Dt(m){P.call(this,Ne.Ia,m)}_(Dt,P);function Je(m){const x=tt();Pt(x,new Dt(x))}Ne.STAT_EVENT="statevent";function Ft(m,x){P.call(this,Ne.STAT_EVENT,m),this.stat=x}_(Ft,P);function ke(m){const x=tt();Pt(x,new Ft(x,m))}Ne.Ja="timingevent";function ln(m,x){P.call(this,Ne.Ja,m),this.size=x}_(ln,P);function _n(m,x){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){m()},x)}function bn(){this.g=!0}bn.prototype.ua=function(){this.g=!1};function Sr(m,x,T,k,G,J){m.info(function(){if(m.g)if(J){var he="",Le=J.split("&");for(let at=0;at<Le.length;at++){var Ht=Le[at].split("=");if(Ht.length>1){const At=Ht[0];Ht=Ht[1];const Ti=At.split("_");he=Ti.length>=2&&Ti[1]=="type"?he+(At+"="+Ht+"&"):he+(At+"=redacted&")}}}else he=null;else he=J;return"XMLHTTP REQ ("+k+") [attempt "+G+"]: "+x+`
`+T+`
`+he})}function Vs(m,x,T,k,G,J,he){m.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+G+"]: "+x+`
`+T+`
`+J+" "+he})}function ut(m,x,T,k){m.info(function(){return"XMLHTTP TEXT ("+x+"): "+Vi(m,T)+(k?" "+k:"")})}function ni(m,x){m.info(function(){return"TIMEOUT: "+x})}bn.prototype.info=function(){};function Vi(m,x){if(!m.g)return x;if(!x)return null;try{const J=JSON.parse(x);if(J){for(m=0;m<J.length;m++)if(Array.isArray(J[m])){var T=J[m];if(!(T.length<2)){var k=T[1];if(Array.isArray(k)&&!(k.length<1)){var G=k[0];if(G!="noop"&&G!="stop"&&G!="close")for(let he=1;he<k.length;he++)k[he]=""}}}}return is(J)}catch{return x}}var ii={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ss={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ar;function Ua(){}_(Ua,Uo),Ua.prototype.g=function(){return new XMLHttpRequest},Ar=new Ua;function Us(m){return encodeURIComponent(String(m))}function Rh(m){var x=1;m=m.split(":");const T=[];for(;x>0&&m.length;)T.push(m.shift()),x--;return m.length&&T.push(m.join(":")),T}function Ui(m,x,T,k){this.j=m,this.i=x,this.l=T,this.S=k||1,this.V=new Qt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zi}function zi(){this.i=null,this.g="",this.h=!1}var Xt={},fn={};function rs(m,x,T){m.M=1,m.A=za(Zt(x)),m.u=T,m.R=!0,zo(m,null)}function zo(m,x){m.F=Date.now(),as(m),m.B=Zt(m.A);var T=m.B,k=m.S;Array.isArray(k)||(k=[String(k)]),qo(T.i,"t",k),m.C=0,T=m.j.L,m.h=new zi,m.g=Hh(m.j,T?x:null,!m.u),m.P>0&&(m.O=new dn(f(m.Y,m,m.g),m.P)),x=m.V,T=m.g,k=m.ba;var G="readystatechange";Array.isArray(G)||(G&&(bi[0]=G.toString()),G=bi);for(let J=0;J<G.length;J++){const he=ct(T,G[J],k||x.handleEvent,!1,x.h||x);if(!he)break;x.g[he.key]=he}x=m.J?z(m.J):{},m.u?(m.v||(m.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,x)):(m.v="GET",m.g.ea(m.B,m.v,null,x)),Je(),Sr(m.i,m.v,m.B,m.l,m.S,m.u)}Ui.prototype.ba=function(m){m=m.target;const x=this.O;x&&Hi(m)==3?x.j():this.Y(m)},Ui.prototype.Y=function(m){try{if(m==this.g)e:{const Le=Hi(this.g),Ht=this.g.ya(),at=this.g.ca();if(!(Le<3)&&(Le!=3||this.g&&(this.h.h||this.g.la()||vn(this.g)))){this.K||Le!=4||Ht==7||(Ht==8||at<=0?Je(3):Je(2)),os(this);var x=this.g.ca();this.X=x;var T=zm(this);if(this.o=x==200,Vs(this.i,this.v,this.B,this.l,this.S,Le,x),this.o){if(this.U&&!this.L){t:{if(this.g){var k,G=this.g;if((k=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(k)){var J=k;break t}}J=null}if(m=J)ut(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ls(this,m);else{this.o=!1,this.m=3,ke(12),si(this),xi(this);break e}}if(this.R){m=!0;let At;for(;!this.K&&this.C<T.length;)if(At=Ih(this,T),At==fn){Le==4&&(this.m=4,ke(14),m=!1),ut(this.i,this.l,null,"[Incomplete Response]");break}else if(At==Xt){this.m=4,ke(15),ut(this.i,this.l,T,"[Invalid Chunk]"),m=!1;break}else ut(this.i,this.l,At,null),ls(this,At);if(Nh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||T.length!=0||this.h.h||(this.m=1,ke(16),m=!1),this.o=this.o&&m,!m)ut(this.i,this.l,T,"[Invalid Chunked Response]"),si(this),xi(this);else if(T.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Ac(he),he.P=!0,ke(11))}}else ut(this.i,this.l,T,null),ls(this,T);Le==4&&si(this),this.o&&!this.K&&(Le==4?Uh(this.j,this):(this.o=!1,as(this)))}else Bs(this.g),x==400&&T.indexOf("Unknown SID")>0?(this.m=3,ke(12)):(this.m=0,ke(13)),si(this),xi(this)}}}catch{}};function zm(m){if(!Nh(m))return m.g.la();const x=vn(m.g);if(x==="")return"";let T="";const k=x.length,G=Hi(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return si(m),xi(m),"";m.h.i=new l.TextDecoder}for(let J=0;J<k;J++)m.h.h=!0,T+=m.h.i.decode(x[J],{stream:!(G&&J==k-1)});return x.length=0,m.h.g+=T,m.C=0,m.h.g}function Nh(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function Ih(m,x){var T=m.C,k=x.indexOf(`
`,T);return k==-1?fn:(T=Number(x.substring(T,k)),isNaN(T)?Xt:(k+=1,k+T>x.length?fn:(x=x.slice(k,k+T),m.C=k+T,x)))}Ui.prototype.cancel=function(){this.K=!0,si(this)};function as(m){m.T=Date.now()+m.H,Bo(m,m.H)}function Bo(m,x){if(m.D!=null)throw Error("WatchDog timer not null");m.D=_n(f(m.aa,m),x)}function os(m){m.D&&(l.clearTimeout(m.D),m.D=null)}Ui.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(ni(this.i,this.B),this.M!=2&&(Je(),ke(17)),si(this),this.m=2,xi(this)):Bo(this,this.T-m)};function xi(m){m.j.I==0||m.K||Uh(m.j,m)}function si(m){os(m);var x=m.O;x&&typeof x.dispose=="function"&&x.dispose(),m.O=null,ji(m.V),m.g&&(x=m.g,m.g=null,x.abort(),x.dispose())}function ls(m,x){try{var T=m.j;if(T.I!=0&&(T.g==m||us(T.h,m))){if(!m.L&&us(T.h,m)&&T.I==3){try{var k=T.Ba.g.parse(x)}catch{k=null}if(Array.isArray(k)&&k.length==3){var G=k;if(G[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<m.F)Ko(T),Or(T);else break e;$a(T),ke(18)}}else T.xa=G[1],0<T.xa-T.K&&G[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=_n(f(T.Va,T),6e3));cs(T.h)<=1&&T.ta&&(T.ta=void 0)}else ps(T,11)}else if((m.L||T.g==m)&&Ko(T),!O(x))for(G=T.Ba.g.parse(x),x=0;x<G.length;x++){let at=G[x];const At=at[0];if(!(At<=T.K))if(T.K=At,at=at[1],T.I==2)if(at[0]=="c"){T.M=at[1],T.ba=at[2];const Ti=at[3];Ti!=null&&(T.ka=Ti,T.j.info("VER="+T.ka));const ys=at[4];ys!=null&&(T.za=ys,T.j.info("SVER="+T.za));const qi=at[5];qi!=null&&typeof qi=="number"&&qi>0&&(k=1.5*qi,T.O=k,T.j.info("backChannelRequestTimeoutMs_="+k)),k=T;const Gi=m.g;if(Gi){const Wa=Gi.g?Gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wa){var J=k.h;J.g||Wa.indexOf("spdy")==-1&&Wa.indexOf("quic")==-1&&Wa.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(mc(J,J.h),J.h=null))}if(k.G){const Qo=Gi.g?Gi.g.getResponseHeader("X-HTTP-Session-Id"):null;Qo&&(k.wa=Qo,ht(k.J,k.G,Qo))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-m.F,T.j.info("Handshake RTT: "+T.T+"ms")),k=T;var he=m;if(k.na=Fh(k,k.L?k.ba:null,k.W),he.L){gc(k.h,he);var Le=he,Ht=k.O;Ht&&(Le.H=Ht),Le.D&&(os(Le),as(Le)),k.g=he}else jh(k);T.i.length>0&&gs(T)}else at[0]!="stop"&&at[0]!="close"||ps(T,7);else T.I==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?ps(T,7):Tc(T):at[0]!="noop"&&T.l&&T.l.qa(at),T.A=0)}}Je(4)}catch{}}var Jt=class{constructor(m,x){this.g=m,this.map=x}};function dc(m){this.l=m||10,l.PerformanceNavigationTiming?(m=l.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function fc(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function cs(m){return m.h?1:m.g?m.g.size:0}function us(m,x){return m.h?m.h==x:m.g?m.g.has(x):!1}function mc(m,x){m.g?m.g.add(x):m.h=x}function gc(m,x){m.h&&m.h==x?m.h=null:m.g&&m.g.has(x)&&m.g.delete(x)}dc.prototype.cancel=function(){if(this.i=pc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function pc(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let x=m.i;for(const T of m.g.values())x=x.concat(T.G);return x}return E(m.i)}var kh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fo(m,x){if(m){m=m.split("&");for(let T=0;T<m.length;T++){const k=m[T].indexOf("=");let G,J=null;k>=0?(G=m[T].substring(0,k),J=m[T].substring(k+1)):G=m[T],x(G,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function ri(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;m instanceof ri?(this.l=m.l,mn(this,m.j),this.o=m.o,this.g=m.g,Cr(this,m.u),this.h=m.h,yc(this,Ph(m.i)),this.m=m.m):m&&(x=String(m).match(kh))?(this.l=!1,mn(this,x[1]||"",!0),this.o=hs(x[2]||""),this.g=hs(x[3]||"",!0),Cr(this,x[4]),this.h=hs(x[5]||"",!0),yc(this,x[6]||"",!0),this.m=hs(x[7]||"")):(this.l=!1,this.i=new Nr(null,this.l))}ri.prototype.toString=function(){const m=[];var x=this.j;x&&m.push(Ba(x,Ho,!0),":");var T=this.g;return(T||x=="file")&&(m.push("//"),(x=this.o)&&m.push(Ba(x,Ho,!0),"@"),m.push(Us(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&m.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&m.push("/"),m.push(Ba(T,T.charAt(0)=="/"?_c:Dh,!0))),(T=this.i.toString())&&m.push("?",T),(T=this.m)&&m.push("#",Ba(T,Mh)),m.join("")},ri.prototype.resolve=function(m){const x=Zt(this);let T=!!m.j;T?mn(x,m.j):T=!!m.o,T?x.o=m.o:T=!!m.g,T?x.g=m.g:T=m.u!=null;var k=m.h;if(T)Cr(x,m.u);else if(T=!!m.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var G=x.h.lastIndexOf("/");G!=-1&&(k=x.h.slice(0,G+1)+k)}if(G=k,G==".."||G==".")k="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){k=G.lastIndexOf("/",0)==0,G=G.split("/");const J=[];for(let he=0;he<G.length;){const Le=G[he++];Le=="."?k&&he==G.length&&J.push(""):Le==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),k&&he==G.length&&J.push("")):(J.push(Le),k=!0)}k=J.join("/")}else k=G}return T?x.h=k:T=m.i.toString()!=="",T?yc(x,Ph(m.i)):T=!!m.m,T&&(x.m=m.m),x};function Zt(m){return new ri(m)}function mn(m,x,T){m.j=T?hs(x,!0):x,m.j&&(m.j=m.j.replace(/:$/,""))}function Cr(m,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);m.u=x}else m.u=null}function yc(m,x,T){x instanceof Nr?(m.i=x,Go(m.i,m.l)):(T||(x=Ba(x,Rr)),m.i=new Nr(x,m.l))}function ht(m,x,T){m.i.set(x,T)}function za(m){return ht(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function hs(m,x){return m?x?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ba(m,x,T){return typeof m=="string"?(m=encodeURI(m).replace(x,Fn),T&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Fn(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Ho=/[#\/\?@]/g,Dh=/[#\?:]/g,_c=/[#\?]/g,Rr=/[#\?@]/g,Mh=/#/g;function Nr(m,x){this.h=this.g=null,this.i=m||null,this.j=!!x}function Hn(m){m.g||(m.g=new Map,m.h=0,m.i&&Fo(m.i,function(x,T){m.add(decodeURIComponent(x.replace(/\+/g," ")),T)}))}n=Nr.prototype,n.add=function(m,x){Hn(this),this.i=null,m=Ir(this,m);let T=this.g.get(m);return T||this.g.set(m,T=[]),T.push(x),this.h+=1,this};function Oh(m,x){Hn(m),x=Ir(m,x),m.g.has(x)&&(m.i=null,m.h-=m.g.get(x).length,m.g.delete(x))}function bc(m,x){return Hn(m),x=Ir(m,x),m.g.has(x)}n.forEach=function(m,x){Hn(this),this.g.forEach(function(T,k){T.forEach(function(G){m.call(x,G,k,this)},this)},this)};function vc(m,x){Hn(m);let T=[];if(typeof x=="string")bc(m,x)&&(T=T.concat(m.g.get(Ir(m,x))));else for(m=Array.from(m.g.values()),x=0;x<m.length;x++)T=T.concat(m[x]);return T}n.set=function(m,x){return Hn(this),this.i=null,m=Ir(this,m),bc(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[x]),this.h+=1,this},n.get=function(m,x){return m?(m=vc(this,m),m.length>0?String(m[0]):x):x};function qo(m,x,T){Oh(m,x),T.length>0&&(m.i=null,m.g.set(Ir(m,x),E(T)),m.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],x=Array.from(this.g.keys());for(let k=0;k<x.length;k++){var T=x[k];const G=Us(T);T=vc(this,T);for(let J=0;J<T.length;J++){let he=G;T[J]!==""&&(he+="="+Us(T[J])),m.push(he)}}return this.i=m.join("&")};function Ph(m){const x=new Nr;return x.i=m.i,m.g&&(x.g=new Map(m.g),x.h=m.h),x}function Ir(m,x){return x=String(x),m.j&&(x=x.toLowerCase()),x}function Go(m,x){x&&!m.j&&(Hn(m),m.i=null,m.g.forEach(function(T,k){const G=k.toLowerCase();k!=G&&(Oh(this,k),qo(this,G,T))},m)),m.j=x}function Bi(m,x){const T=new bn;if(l.Image){const k=new Image;k.onload=p(wi,T,"TestLoadImage: loaded",!0,x,k),k.onerror=p(wi,T,"TestLoadImage: error",!1,x,k),k.onabort=p(wi,T,"TestLoadImage: abort",!1,x,k),k.ontimeout=p(wi,T,"TestLoadImage: timeout",!1,x,k),l.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=m}else x(!1)}function xc(m,x){const T=new bn,k=new AbortController,G=setTimeout(()=>{k.abort(),wi(T,"TestPingServer: timeout",!1,x)},1e4);fetch(m,{signal:k.signal}).then(J=>{clearTimeout(G),J.ok?wi(T,"TestPingServer: ok",!0,x):wi(T,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(G),wi(T,"TestPingServer: error",!1,x)})}function wi(m,x,T,k,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),k(T)}catch{}}function kr(){this.g=new Vo}function ds(m){this.i=m.Sb||null,this.h=m.ab||!1}_(ds,Uo),ds.prototype.g=function(){return new Fa(this.i,this.h)};function Fa(m,x){kt.call(this),this.H=m,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Fa,kt),n=Fa.prototype,n.open=function(m,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=x,this.readyState=1,Fi(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(x.body=m),(this.H||l).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Dr(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Fi(this)),this.g&&(this.readyState=3,Fi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Yo(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function Yo(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var x=m.value?m.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!m.done}))&&(this.response=this.responseText+=x)}m.done?Dr(this):Fi(this),this.readyState==3&&Yo(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,Dr(this))},n.Na=function(m){this.g&&(this.response=m,Dr(this))},n.ga=function(){this.g&&Dr(this)};function Dr(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Fi(m)}n.setRequestHeader=function(m,x){this.A.append(m,x)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],x=this.h.entries();for(var T=x.next();!T.done;)T=T.value,m.push(T[0]+": "+T[1]),T=x.next();return m.join(`\r
`)};function Fi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Ei(m){let x="";return ye(m,function(T,k){x+=k,x+=":",x+=T,x+=`\r
`}),x}function Ha(m,x,T){e:{for(k in T){var k=!1;break e}k=!0}k||(T=Ei(T),typeof m=="string"?T!=null&&Us(T):ht(m,x,T))}function gt(m){kt.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(gt,kt);var fs=/^https?$/i,wc=["POST","PUT"];n=gt.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,x,T,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);x=x?x.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ar.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(x,String(m),!0),this.B=!1}catch(J){qa(this,J);return}if(m=T||"",T=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var G in k)T.set(G,k[G]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const J of k.keys())T.set(J,k.get(J));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(T.keys()).find(J=>J.toLowerCase()=="content-type"),G=l.FormData&&m instanceof l.FormData,!(Array.prototype.indexOf.call(wc,x,void 0)>=0)||k||G||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,he]of T)this.g.setRequestHeader(J,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(J){qa(this,J)}};function qa(m,x){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=x,m.o=5,Ec(m),zs(m)}function Ec(m){m.A||(m.A=!0,Pt(m,"complete"),Pt(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,Pt(this,"complete"),Pt(this,"abort"),zs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zs(this,!0)),gt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Ga(this):this.Xa())},n.Xa=function(){Ga(this)};function Ga(m){if(m.h&&typeof o<"u"){if(m.v&&Hi(m)==4)setTimeout(m.Ca.bind(m),0);else if(Pt(m,"readystatechange"),Hi(m)==4){m.h=!1;try{const J=m.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var T;if(!(T=x)){var k;if(k=J===0){let he=String(m.D).match(kh)[1]||null;!he&&l.self&&l.self.location&&(he=l.self.location.protocol.slice(0,-1)),k=!fs.test(he?he.toLowerCase():"")}T=k}if(T)Pt(m,"complete"),Pt(m,"success");else{m.o=6;try{var G=Hi(m)>2?m.g.statusText:""}catch{G=""}m.l=G+" ["+m.ca()+"]",Ec(m)}}finally{zs(m)}}}}function zs(m,x){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const T=m.g;m.g=null,x||Pt(m,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Hi(m){return m.g?m.g.readyState:0}n.ca=function(){try{return Hi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var x=this.g.responseText;return m&&x.indexOf(m)==0&&(x=x.substring(m.length)),hc(x)}};function vn(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Bs(m){const x={};m=(m.g&&Hi(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<m.length;k++){if(O(m[k]))continue;var T=Rh(m[k]);const G=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const J=x[G]||[];x[G]=J,J.push(T)}Se(x,function(k){return k.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ms(m,x,T){return T&&T.internalChannelParams&&T.internalChannelParams[m]||x}function Mr(m){this.za=0,this.i=[],this.j=new bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ms("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ms("baseRetryDelayMs",5e3,m),this.Za=ms("retryDelaySeedMs",1e4,m),this.Ta=ms("forwardChannelMaxRetries",2,m),this.va=ms("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new dc(m&&m.concurrentRequestLimit),this.Ba=new kr,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Mr.prototype,n.ka=8,n.I=1,n.connect=function(m,x,T,k){ke(0),this.W=m,this.H=x||{},T&&k!==void 0&&(this.H.OSID=T,this.H.OAID=k),this.F=this.X,this.J=Fh(this,null,this.W),gs(this)};function Tc(m){if($o(m),m.I==3){var x=m.V++,T=Zt(m.J);if(ht(T,"SID",m.M),ht(T,"RID",x),ht(T,"TYPE","terminate"),Ya(m,T),x=new Ui(m,m.j,x),x.M=2,x.A=za(Zt(T)),T=!1,l.navigator&&l.navigator.sendBeacon)try{T=l.navigator.sendBeacon(x.A.toString(),"")}catch{}!T&&l.Image&&(new Image().src=x.A,T=!0),T||(x.g=Hh(x.j,null),x.g.ea(x.A)),x.F=Date.now(),as(x)}Bh(m)}function Or(m){m.g&&(Ac(m),m.g.cancel(),m.g=null)}function $o(m){Or(m),m.v&&(l.clearTimeout(m.v),m.v=null),Ko(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&l.clearTimeout(m.m),m.m=null)}function gs(m){if(!fc(m.h)&&!m.m){m.m=!0;var x=m.Ea;$||N(),te||($(),te=!0),I.add(x,m),m.D=0}}function Wo(m,x){return cs(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=x.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=_n(f(m.Ea,m,x),zh(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const G=new Ui(this,this.j,m);let J=this.o;if(this.U&&(J?(J=z(J),ue(J,this.U)):J=this.U),this.u!==null||this.R||(G.J=J,J=null),this.S)e:{for(var x=0,T=0;T<this.i.length;T++){t:{var k=this.i[T];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(x+=k,x>4096){x=T;break e}if(x===4096||T===this.i.length-1){x=T+1;break e}}x=1e3}else x=1e3;x=Lh(this,G,x),T=Zt(this.J),ht(T,"RID",m),ht(T,"CVER",22),this.G&&ht(T,"X-HTTP-Session-Id",this.G),Ya(this,T),J&&(this.R?x="headers="+Us(Ei(J))+"&"+x:this.u&&Ha(T,this.u,J)),mc(this.h,G),this.Ra&&ht(T,"TYPE","init"),this.S?(ht(T,"$req",x),ht(T,"SID","null"),G.U=!0,rs(G,T,null)):rs(G,T,x),this.I=2}}else this.I==3&&(m?Sc(this,m):this.i.length==0||fc(this.h)||Sc(this))};function Sc(m,x){var T;x?T=x.l:T=m.V++;const k=Zt(m.J);ht(k,"SID",m.M),ht(k,"RID",T),ht(k,"AID",m.K),Ya(m,k),m.u&&m.o&&Ha(k,m.u,m.o),T=new Ui(m,m.j,T,m.D+1),m.u===null&&(T.J=m.o),x&&(m.i=x.G.concat(m.i)),x=Lh(m,T,1e3),T.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),mc(m.h,T),rs(T,k,x)}function Ya(m,x){m.H&&ye(m.H,function(T,k){ht(x,k,T)}),m.l&&ye({},function(T,k){ht(x,k,T)})}function Lh(m,x,T){T=Math.min(m.i.length,T);const k=m.l?f(m.l.Ka,m.l,m):null;e:{var G=m.i;let Le=-1;for(;;){const Ht=["count="+T];Le==-1?T>0?(Le=G[0].g,Ht.push("ofs="+Le)):Le=0:Ht.push("ofs="+Le);let at=!0;for(let At=0;At<T;At++){var J=G[At].g;const Ti=G[At].map;if(J-=Le,J<0)Le=Math.max(0,G[At].g-100),at=!1;else try{J="req"+J+"_"||"";try{var he=Ti instanceof Map?Ti:Object.entries(Ti);for(const[ys,qi]of he){let Gi=qi;u(qi)&&(Gi=is(qi)),Ht.push(J+ys+"="+encodeURIComponent(Gi))}}catch(ys){throw Ht.push(J+"type="+encodeURIComponent("_badmap")),ys}}catch{k&&k(Ti)}}if(at){he=Ht.join("&");break e}}he=void 0}return m=m.i.splice(0,T),x.G=m,he}function jh(m){if(!m.g&&!m.v){m.Y=1;var x=m.Da;$||N(),te||($(),te=!0),I.add(x,m),m.A=0}}function $a(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=_n(f(m.Da,m),zh(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,Vh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=_n(f(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ke(10),Or(this),Vh(this))};function Ac(m){m.B!=null&&(l.clearTimeout(m.B),m.B=null)}function Vh(m){m.g=new Ui(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var x=Zt(m.na);ht(x,"RID","rpc"),ht(x,"SID",m.M),ht(x,"AID",m.K),ht(x,"CI",m.F?"0":"1"),!m.F&&m.ia&&ht(x,"TO",m.ia),ht(x,"TYPE","xmlhttp"),Ya(m,x),m.u&&m.o&&Ha(x,m.u,m.o),m.O&&(m.g.H=m.O);var T=m.g;m=m.ba,T.M=1,T.A=za(Zt(x)),T.u=null,T.R=!0,zo(T,m)}n.Va=function(){this.C!=null&&(this.C=null,Or(this),$a(this),ke(19))};function Ko(m){m.C!=null&&(l.clearTimeout(m.C),m.C=null)}function Uh(m,x){var T=null;if(m.g==x){Ko(m),Ac(m),m.g=null;var k=2}else if(us(m.h,x))T=x.G,gc(m.h,x),k=1;else return;if(m.I!=0){if(x.o)if(k==1){T=x.u?x.u.length:0,x=Date.now()-x.F;var G=m.D;k=tt(),Pt(k,new ln(k,T)),gs(m)}else jh(m);else if(G=x.m,G==3||G==0&&x.X>0||!(k==1&&Wo(m,x)||k==2&&$a(m)))switch(T&&T.length>0&&(x=m.h,x.i=x.i.concat(T)),G){case 1:ps(m,5);break;case 4:ps(m,10);break;case 3:ps(m,6);break;default:ps(m,2)}}}function zh(m,x){let T=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(T*=2),T*x}function ps(m,x){if(m.j.info("Error code "+x),x==2){var T=f(m.bb,m),k=m.Ua;const G=!k;k=new ri(k||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||mn(k,"https"),za(k),G?Bi(k.toString(),T):xc(k.toString(),T)}else ke(2);m.I=0,m.l&&m.l.pa(x),Bh(m),$o(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),ke(2)):(this.j.info("Failed to ping google.com"),ke(1))};function Bh(m){if(m.I=0,m.ja=[],m.l){const x=pc(m.h);(x.length!=0||m.i.length!=0)&&(S(m.ja,x),S(m.ja,m.i),m.h.i.length=0,E(m.i),m.i.length=0),m.l.oa()}}function Fh(m,x,T){var k=T instanceof ri?Zt(T):new ri(T);if(k.g!="")x&&(k.g=x+"."+k.g),Cr(k,k.u);else{var G=l.location;k=G.protocol,x=x?x+"."+G.hostname:G.hostname,G=+G.port;const J=new ri(null);k&&mn(J,k),x&&(J.g=x),G&&Cr(J,G),T&&(J.h=T),k=J}return T=m.G,x=m.wa,T&&x&&ht(k,T,x),ht(k,"VER",m.ka),Ya(m,k),k}function Hh(m,x,T){if(x&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=m.Aa&&!m.ma?new gt(new ds({ab:T})):new gt(m.ma),x.Fa(m.L),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function qh(){}n=qh.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Pr(){}Pr.prototype.g=function(m,x){return new Vn(m,x)};function Vn(m,x){kt.call(this),this.g=new Mr(x),this.l=m,this.h=x&&x.messageUrlParams||null,m=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(m?m["X-WebChannel-Content-Type"]=x.messageContentType:m={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(m?m["X-WebChannel-Client-Profile"]=x.sa:m={"X-WebChannel-Client-Profile":x.sa}),this.g.U=m,(m=x&&x.Qb)&&!O(m)&&(this.g.u=m),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!O(x)&&(this.g.G=x,m=this.h,m!==null&&x in m&&(m=this.h,x in m&&delete m[x])),this.j=new Fs(this)}_(Vn,kt),Vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Vn.prototype.close=function(){Tc(this.g)},Vn.prototype.o=function(m){var x=this.g;if(typeof m=="string"){var T={};T.__data__=m,m=T}else this.v&&(T={},T.__data__=is(m),m=T);x.i.push(new Jt(x.Ya++,m)),x.I==3&&gs(x)},Vn.prototype.N=function(){this.g.l=null,delete this.j,Tc(this.g),delete this.g,Vn.Z.N.call(this)};function Gh(m){ge.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var x=m.__sm__;if(x){e:{for(const T in x){m=T;break e}m=void 0}(this.i=m)&&(m=this.i,x=x!==null&&m in x?x[m]:void 0),this.data=x}else this.data=m}_(Gh,ge);function Yh(){Ve.call(this),this.status=1}_(Yh,Ve);function Fs(m){this.g=m}_(Fs,qh),Fs.prototype.ra=function(){Pt(this.g,"a")},Fs.prototype.qa=function(m){Pt(this.g,new Gh(m))},Fs.prototype.pa=function(m){Pt(this.g,new Yh)},Fs.prototype.oa=function(){Pt(this.g,"b")},Pr.prototype.createWebChannel=Pr.prototype.g,Vn.prototype.send=Vn.prototype.o,Vn.prototype.open=Vn.prototype.m,Vn.prototype.close=Vn.prototype.close,HA=function(){return new Pr},FA=function(){return tt()},BA=Ne,Fy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ii.NO_ERROR=0,ii.TIMEOUT=8,ii.HTTP_ERROR=6,Rf=ii,ss.COMPLETE="complete",zA=ss,vi.EventType=ee,ee.OPEN="a",ee.CLOSE="b",ee.ERROR="c",ee.MESSAGE="d",kt.prototype.listen=kt.prototype.J,Su=vi,gt.prototype.listenOnce=gt.prototype.K,gt.prototype.getLastError=gt.prototype.Ha,gt.prototype.getLastErrorCode=gt.prototype.ya,gt.prototype.getStatus=gt.prototype.ca,gt.prototype.getResponseJson=gt.prototype.La,gt.prototype.getResponseText=gt.prototype.la,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Fa,UA=gt}).apply(typeof df<"u"?df:typeof self<"u"?self:typeof window<"u"?window:{});class kn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kn.UNAUTHENTICATED=new kn(null),kn.GOOGLE_CREDENTIALS=new kn("google-credentials-uid"),kn.FIRST_PARTY=new kn("first-party-uid"),kn.MOCK_USER=new kn("mock-user");let rc="12.9.0";function C5(n){rc=n}const Ro=new P0("@firebase/firestore");function kl(){return Ro.logLevel}function pe(n,...e){if(Ro.logLevel<=$e.DEBUG){const t=e.map(G0);Ro.debug(`Firestore (${rc}): ${n}`,...t)}}function _r(n,...e){if(Ro.logLevel<=$e.ERROR){const t=e.map(G0);Ro.error(`Firestore (${rc}): ${n}`,...t)}}function No(n,...e){if(Ro.logLevel<=$e.WARN){const t=e.map(G0);Ro.warn(`Firestore (${rc}): ${n}`,...t)}}function G0(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Re(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,qA(n,i,t)}function qA(n,e,t){let i=`FIRESTORE (${rc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw _r(i),new Error(i)}function lt(n,e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,n||qA(e,r,i)}function Pe(n,e){return n}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends js{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class GA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class R5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(kn.UNAUTHENTICATED)))}shutdown(){}}class N5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class I5{constructor(e){this.t=e,this.currentUser=kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){lt(this.o===void 0,42304);let i=this.i;const r=d=>this.i!==i?(i=this.i,t(d)):Promise.resolve();let o=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new mr,e.enqueueRetryable((()=>r(this.currentUser)))};const l=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await r(this.currentUser)}))},u=d=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new mr)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(lt(typeof i.accessToken=="string",31837,{l:i}),new GA(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string",2055,{h:e}),new kn(e)}}class k5{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=kn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class D5{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new k5(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(kn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class v1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class M5{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Oi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){lt(this.o===void 0,3512);const i=o=>{o.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,pe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>i(o)))};const r=o=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new v1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(lt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new v1(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function O5(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class Y0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=O5(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+=e.charAt(r[o]%62))}return i}}function We(n,e){return n<e?-1:n>e?1:0}function Hy(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const r=n.charAt(i),o=e.charAt(i);if(r!==o)return uy(r)===uy(o)?We(r,o):uy(r)?1:-1}return We(n.length,e.length)}const P5=55296,L5=57343;function uy(n){const e=n.charCodeAt(0);return e>=P5&&e<=L5}function Wl(n,e,t){return n.length===e.length&&n.every(((i,r)=>t(i,e[r])))}const x1="__name__";class Ss{constructor(e,t,i){t===void 0?t=0:t>e.length&&Re(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Re(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Ss.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ss?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=Ss.compareSegments(e.get(r),t.get(r));if(o!==0)return o}return We(e.length,t.length)}static compareSegments(e,t){const i=Ss.isNumericId(e),r=Ss.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?Ss.extractNumericId(e).compare(Ss.extractNumericId(t)):Hy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ba.fromString(e.substring(4,e.length-2))}}class xt extends Ss{construct(e,t,i){return new xt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(re.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((r=>r.length>0)))}return new xt(t)}static emptyPath(){return new xt([])}}const j5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class An extends Ss{construct(e,t,i){return new An(e,t,i)}static isValidIdentifier(e){return j5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),An.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x1}static keyField(){return new An([x1])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(i.length===0)throw new me(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let l=!1;for(;r<e.length;){const u=e[r];if(u==="\\"){if(r+1===e.length)throw new me(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new me(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,r+=2}else u==="`"?(l=!l,r++):u!=="."||l?(i+=u,r++):(o(),r++)}if(o(),l)throw new me(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new An(t)}static emptyPath(){return new An([])}}class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(xt.fromString(e))}static fromName(e){return new Ee(xt.fromString(e).popFirst(5))}static empty(){return new Ee(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return xt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new xt(e.slice()))}}function YA(n,e,t){if(!t)throw new me(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function V5(n,e,t,i){if(e===!0&&i===!0)throw new me(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function w1(n){if(!Ee.isDocumentKey(n))throw new me(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function E1(n){if(Ee.isDocumentKey(n))throw new me(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $A(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Sm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Re(12329,{type:typeof n})}function Os(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Sm(n);throw new me(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function U5(n,e){if(e<=0)throw new me(re.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}function on(n,e){const t={typeString:n};return e&&(t.value=e),t}function xh(n,e){if(!$A(n))throw new me(re.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const r=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const l=n[i];if(r&&typeof l!==r){t=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&l!==o.value){t=`Expected '${i}' field to equal '${o.value}'`;break}}if(t)throw new me(re.INVALID_ARGUMENT,t);return!0}const T1=-62135596800,S1=1e6;class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*S1);return new Tt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<T1)throw new me(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/S1}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xh(e,Tt._jsonSchema))return new Tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-T1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Tt._jsonSchemaVersion="firestore/timestamp/1.0",Tt._jsonSchema={type:on("string",Tt._jsonSchemaVersion),seconds:on("number"),nanoseconds:on("number")};class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new Tt(0,0))}static max(){return new De(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const th=-1;function z5(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=De.fromTimestamp(i===1e9?new Tt(t+1,0):new Tt(t,i));return new Ta(r,Ee.empty(),e)}function B5(n){return new Ta(n.readTime,n.key,th)}class Ta{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ta(De.min(),Ee.empty(),th)}static max(){return new Ta(De.max(),Ee.empty(),th)}}function F5(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:We(n.largestBatchId,e.largestBatchId))}const H5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class q5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ac(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==H5)throw n;pe("LocalStore","Unexpectedly lost primary lease")}class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe(((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):oe.reject(t)}static resolve(e){return new oe(((t,i)=>{t(e)}))}static reject(e){return new oe(((t,i)=>{i(e)}))}static waitFor(e){return new oe(((t,i)=>{let r=0,o=0,l=!1;e.forEach((u=>{++r,u.next((()=>{++o,l&&o===r&&t()}),(d=>i(d)))})),l=!0,o===r&&t()}))}static or(e){let t=oe.resolve(!1);for(const i of e)t=t.next((r=>r?oe.resolve(r):i()));return t}static forEach(e,t){const i=[];return e.forEach(((r,o)=>{i.push(t.call(this,r,o))})),this.waitFor(i)}static mapArray(e,t){return new oe(((i,r)=>{const o=e.length,l=new Array(o);let u=0;for(let d=0;d<o;d++){const f=d;t(e[f]).next((p=>{l[f]=p,++u,u===o&&i(l)}),(p=>r(p)))}}))}static doWhile(e,t){return new oe(((i,r)=>{const o=()=>{e()===!0?t().next((()=>{o()}),r):i()};o()}))}}function G5(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function oc(n){return n.name==="IndexedDbTransactionError"}class Am{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Am.ce=-1;const $0=-1;function Cm(n){return n==null}function Jf(n){return n===0&&1/n==-1/0}function Y5(n){return typeof n=="number"&&Number.isInteger(n)&&!Jf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const WA="";function $5(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=A1(e)),e=W5(n.get(t),e);return A1(e)}function W5(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="";break;case WA:t+="";break;default:t+=o}}return t}function A1(n){return n+WA+""}function C1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Pa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function KA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Ot{constructor(e,t){this.comparator=e,this.root=t||Sn.EMPTY}insert(e,t){return new Ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Sn.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ff(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ff(this.root,e,this.comparator,!1)}getReverseIterator(){return new ff(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ff(this.root,e,this.comparator,!0)}}class ff{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sn{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??Sn.RED,this.left=r??Sn.EMPTY,this.right=o??Sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new Sn(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):o===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return Sn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}Sn.EMPTY=null,Sn.RED=!0,Sn.BLACK=!1;Sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,t,i,r,o){return this}insert(e,t,i){return new Sn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class hn{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new R1(this.data.getIterator())}getIteratorFrom(e){return new R1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof hn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new hn(this.comparator);return t.data=e,t}}class R1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class mi{constructor(e){this.fields=e,e.sort(An.comparator)}static empty(){return new mi([])}unionWith(e){let t=new hn(An.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new mi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wl(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}class QA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Cn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new QA("Invalid base64 string: "+o):o}})(e);return new Cn(t)}static fromUint8Array(e){const t=(function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o})(e);return new Cn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cn.EMPTY_BYTE_STRING=new Cn("");const K5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sa(n){if(lt(!!n,39018),typeof n=="string"){let e=0;const t=K5.exec(n);if(lt(!!t,46558,{timestamp:n}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Yt(n.seconds),nanos:Yt(n.nanos)}}function Yt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Aa(n){return typeof n=="string"?Cn.fromBase64String(n):Cn.fromUint8Array(n)}const XA="server_timestamp",JA="__type__",ZA="__previous_value__",e2="__local_write_time__";function W0(n){return(n?.mapValue?.fields||{})[JA]?.stringValue===XA}function Rm(n){const e=n.mapValue.fields[ZA];return W0(e)?Rm(e):e}function nh(n){const e=Sa(n.mapValue.fields[e2].timestampValue);return new Tt(e.seconds,e.nanos)}class Q5{constructor(e,t,i,r,o,l,u,d,f,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=p,this.apiKey=_}}const Zf="(default)";class ih{constructor(e,t){this.projectId=e,this.database=t||Zf}static empty(){return new ih("","")}get isDefaultDatabase(){return this.database===Zf}isEqual(e){return e instanceof ih&&e.projectId===this.projectId&&e.database===this.database}}function X5(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new me(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ih(n.options.projectId,e)}const t2="__type__",J5="__max__",mf={mapValue:{}},n2="__vector__",em="value";function Ca(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?W0(n)?4:e3(n)?9007199254740991:Z5(n)?10:11:Re(28295,{value:n})}function Ps(n,e){if(n===e)return!0;const t=Ca(n);if(t!==Ca(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return nh(n).isEqual(nh(e));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=Sa(r.timestampValue),u=Sa(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(r,o){return Aa(r.bytesValue).isEqual(Aa(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(r,o){return Yt(r.geoPointValue.latitude)===Yt(o.geoPointValue.latitude)&&Yt(r.geoPointValue.longitude)===Yt(o.geoPointValue.longitude)})(n,e);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return Yt(r.integerValue)===Yt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=Yt(r.doubleValue),u=Yt(o.doubleValue);return l===u?Jf(l)===Jf(u):isNaN(l)&&isNaN(u)}return!1})(n,e);case 9:return Wl(n.arrayValue.values||[],e.arrayValue.values||[],Ps);case 10:case 11:return(function(r,o){const l=r.mapValue.fields||{},u=o.mapValue.fields||{};if(C1(l)!==C1(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!Ps(l[d],u[d])))return!1;return!0})(n,e);default:return Re(52216,{left:n})}}function sh(n,e){return(n.values||[]).find((t=>Ps(t,e)))!==void 0}function Kl(n,e){if(n===e)return 0;const t=Ca(n),i=Ca(e);if(t!==i)return We(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return We(n.booleanValue,e.booleanValue);case 2:return(function(o,l){const u=Yt(o.integerValue||o.doubleValue),d=Yt(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(n,e);case 3:return N1(n.timestampValue,e.timestampValue);case 4:return N1(nh(n),nh(e));case 5:return Hy(n.stringValue,e.stringValue);case 6:return(function(o,l){const u=Aa(o),d=Aa(l);return u.compareTo(d)})(n.bytesValue,e.bytesValue);case 7:return(function(o,l){const u=o.split("/"),d=l.split("/");for(let f=0;f<u.length&&f<d.length;f++){const p=We(u[f],d[f]);if(p!==0)return p}return We(u.length,d.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,l){const u=We(Yt(o.latitude),Yt(l.latitude));return u!==0?u:We(Yt(o.longitude),Yt(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return I1(n.arrayValue,e.arrayValue);case 10:return(function(o,l){const u=o.fields||{},d=l.fields||{},f=u[em]?.arrayValue,p=d[em]?.arrayValue,_=We(f?.values?.length||0,p?.values?.length||0);return _!==0?_:I1(f,p)})(n.mapValue,e.mapValue);case 11:return(function(o,l){if(o===mf.mapValue&&l===mf.mapValue)return 0;if(o===mf.mapValue)return 1;if(l===mf.mapValue)return-1;const u=o.fields||{},d=Object.keys(u),f=l.fields||{},p=Object.keys(f);d.sort(),p.sort();for(let _=0;_<d.length&&_<p.length;++_){const v=Hy(d[_],p[_]);if(v!==0)return v;const E=Kl(u[d[_]],f[p[_]]);if(E!==0)return E}return We(d.length,p.length)})(n.mapValue,e.mapValue);default:throw Re(23264,{he:t})}}function N1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return We(n,e);const t=Sa(n),i=Sa(e),r=We(t.seconds,i.seconds);return r!==0?r:We(t.nanos,i.nanos)}function I1(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const o=Kl(t[r],i[r]);if(o)return o}return We(t.length,i.length)}function Ql(n){return qy(n)}function qy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Sa(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Aa(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ee.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",r=!0;for(const o of t.values||[])r?r=!1:i+=",",i+=qy(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let r="{",o=!0;for(const l of i)o?o=!1:r+=",",r+=`${l}:${qy(t.fields[l])}`;return r+"}"})(n.mapValue):Re(61005,{value:n})}function Nf(n){switch(Ca(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rm(n);return e?16+Nf(e):16;case 5:return 2*n.stringValue.length;case 6:return Aa(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,o)=>r+Nf(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return Pa(i.fields,((o,l)=>{r+=o.length+Nf(l)})),r})(n.mapValue);default:throw Re(13486,{value:n})}}function k1(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Gy(n){return!!n&&"integerValue"in n}function K0(n){return!!n&&"arrayValue"in n}function D1(n){return!!n&&"nullValue"in n}function M1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function If(n){return!!n&&"mapValue"in n}function Z5(n){return(n?.mapValue?.fields||{})[t2]?.stringValue===n2}function ju(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Pa(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=ju(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ju(n.arrayValue.values[t]);return e}return{...n}}function e3(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===J5}class Zn{constructor(e){this.value=e}static empty(){return new Zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!If(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ju(t)}setAll(e){let t=An.emptyPath(),i={},r=[];e.forEach(((l,u)=>{if(!t.isImmediateParentOf(u)){const d=this.getFieldsMap(t);this.applyChanges(d,i,r),i={},r=[],t=u.popLast()}l?i[u.lastSegment()]=ju(l):r.push(u.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());If(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ps(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];If(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Pa(t,((r,o)=>e[r]=o));for(const r of i)delete e[r]}clone(){return new Zn(ju(this.value))}}function i2(n){const e=[];return Pa(n.fields,((t,i)=>{const r=new An([t]);if(If(i)){const o=i2(i.mapValue).fields;if(o.length===0)e.push(r);else for(const l of o)e.push(r.child(l))}else e.push(r)})),new mi(e)}class Mn{constructor(e,t,i,r,o,l,u){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Mn(e,0,De.min(),De.min(),De.min(),Zn.empty(),0)}static newFoundDocument(e,t,i,r){return new Mn(e,1,t,De.min(),i,r,0)}static newNoDocument(e,t){return new Mn(e,2,t,De.min(),De.min(),Zn.empty(),0)}static newUnknownDocument(e,t){return new Mn(e,3,t,De.min(),De.min(),Zn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class tm{constructor(e,t){this.position=e,this.inclusive=t}}function O1(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],l=n.position[r];if(o.field.isKeyField()?i=Ee.comparator(Ee.fromName(l.referenceValue),t.key):i=Kl(l,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function P1(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ps(n.position[t],e.position[t]))return!1;return!0}class rh{constructor(e,t="asc"){this.field=e,this.dir=t}}function t3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class s2{}class an extends s2{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new i3(e,t,i):t==="array-contains"?new a3(e,i):t==="in"?new o3(e,i):t==="not-in"?new l3(e,i):t==="array-contains-any"?new c3(e,i):new an(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new s3(e,i):new r3(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Kl(t,this.value)):t!==null&&Ca(this.value)===Ca(t)&&this.matchesComparison(Kl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ns extends s2{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ns(e,t)}matches(e){return r2(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function r2(n){return n.op==="and"}function a2(n){return n3(n)&&r2(n)}function n3(n){for(const e of n.filters)if(e instanceof ns)return!1;return!0}function Yy(n){if(n instanceof an)return n.field.canonicalString()+n.op.toString()+Ql(n.value);if(a2(n))return n.filters.map((e=>Yy(e))).join(",");{const e=n.filters.map((t=>Yy(t))).join(",");return`${n.op}(${e})`}}function o2(n,e){return n instanceof an?(function(i,r){return r instanceof an&&i.op===r.op&&i.field.isEqual(r.field)&&Ps(i.value,r.value)})(n,e):n instanceof ns?(function(i,r){return r instanceof ns&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((o,l,u)=>o&&o2(l,r.filters[u])),!0):!1})(n,e):void Re(19439)}function l2(n){return n instanceof an?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ql(t.value)}`})(n):n instanceof ns?(function(t){return t.op.toString()+" {"+t.getFilters().map(l2).join(" ,")+"}"})(n):"Filter"}class i3 extends an{constructor(e,t,i){super(e,t,i),this.key=Ee.fromName(i.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class s3 extends an{constructor(e,t){super(e,"in",t),this.keys=c2("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class r3 extends an{constructor(e,t){super(e,"not-in",t),this.keys=c2("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function c2(n,e){return(e.arrayValue?.values||[]).map((t=>Ee.fromName(t.referenceValue)))}class a3 extends an{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return K0(t)&&sh(t.arrayValue,this.value)}}class o3 extends an{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&sh(this.value.arrayValue,t)}}class l3 extends an{constructor(e,t){super(e,"not-in",t)}matches(e){if(sh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!sh(this.value.arrayValue,t)}}class c3 extends an{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!K0(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>sh(this.value.arrayValue,i)))}}class u3{constructor(e,t=null,i=[],r=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=l,this.endAt=u,this.Te=null}}function L1(n,e=null,t=[],i=[],r=null,o=null,l=null){return new u3(n,e,t,i,r,o,l)}function Q0(n){const e=Pe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>Yy(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),Cm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Ql(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Ql(i))).join(",")),e.Te=t}return e.Te}function X0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!t3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!o2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!P1(n.startAt,e.startAt)&&P1(n.endAt,e.endAt)}function $y(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class lc{constructor(e,t=null,i=[],r=[],o=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function h3(n,e,t,i,r,o,l,u){return new lc(n,e,t,i,r,o,l,u)}function J0(n){return new lc(n)}function j1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function d3(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function u2(n){return n.collectionGroup!==null}function Vu(n){const e=Pe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new hn(An.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new rh(o,i))})),t.has(An.keyField().canonicalString())||e.Ie.push(new rh(An.keyField(),i))}return e.Ie}function ks(n){const e=Pe(n);return e.Ee||(e.Ee=f3(e,Vu(n))),e.Ee}function f3(n,e){if(n.limitType==="F")return L1(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new rh(r.field,o)}));const t=n.endAt?new tm(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new tm(n.startAt.position,n.startAt.inclusive):null;return L1(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Wy(n,e){const t=n.filters.concat([e]);return new lc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function m3(n,e){const t=n.explicitOrderBy.concat([e]);return new lc(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function nm(n,e,t){return new lc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Nm(n,e){return X0(ks(n),ks(e))&&n.limitType===e.limitType}function h2(n){return`${Q0(ks(n))}|lt:${n.limitType}`}function Dl(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((r=>l2(r))).join(", ")}]`),Cm(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((r=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(r))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Ql(r))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Ql(r))).join(",")),`Target(${i})`})(ks(n))}; limitType=${n.limitType})`}function Im(n,e){return e.isFoundDocument()&&(function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Ee.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,e)&&(function(i,r){for(const o of Vu(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0})(n,e)&&(function(i,r){return!(i.startAt&&!(function(l,u,d){const f=O1(l,u,d);return l.inclusive?f<=0:f<0})(i.startAt,Vu(i),r)||i.endAt&&!(function(l,u,d){const f=O1(l,u,d);return l.inclusive?f>=0:f>0})(i.endAt,Vu(i),r))})(n,e)}function g3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function d2(n){return(e,t)=>{let i=!1;for(const r of Vu(n)){const o=p3(r,e,t);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function p3(n,e,t){const i=n.field.isKeyField()?Ee.comparator(e.key,t.key):(function(o,l,u){const d=l.data.field(o),f=u.data.field(o);return d!==null&&f!==null?Kl(d,f):Re(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Re(19790,{direction:n.dir})}}class Po{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Pa(this.inner,((t,i)=>{for(const[r,o]of i)e(r,o)}))}isEmpty(){return KA(this.inner)}size(){return this.innerSize}}const y3=new Ot(Ee.comparator);function br(){return y3}const f2=new Ot(Ee.comparator);function Au(...n){let e=f2;for(const t of n)e=e.insert(t.key,t);return e}function m2(n){let e=f2;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function _o(){return Uu()}function g2(){return Uu()}function Uu(){return new Po((n=>n.toString()),((n,e)=>n.isEqual(e)))}const _3=new Ot(Ee.comparator),b3=new hn(Ee.comparator);function Ke(...n){let e=b3;for(const t of n)e=e.add(t);return e}const v3=new hn(We);function x3(){return v3}function Z0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jf(e)?"-0":e}}function p2(n){return{integerValue:""+n}}function y2(n,e){return Y5(e)?p2(e):Z0(n,e)}class km{constructor(){this._=void 0}}function w3(n,e,t){return n instanceof ah?(function(r,o){const l={fields:{[JA]:{stringValue:XA},[e2]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&W0(o)&&(o=Rm(o)),o&&(l.fields[ZA]=o),{mapValue:l}})(t,e):n instanceof oh?b2(n,e):n instanceof lh?v2(n,e):(function(r,o){const l=_2(r,o),u=V1(l)+V1(r.Ae);return Gy(l)&&Gy(r.Ae)?p2(u):Z0(r.serializer,u)})(n,e)}function E3(n,e,t){return n instanceof oh?b2(n,e):n instanceof lh?v2(n,e):t}function _2(n,e){return n instanceof ch?(function(i){return Gy(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(e)?e:{integerValue:0}:null}class ah extends km{}class oh extends km{constructor(e){super(),this.elements=e}}function b2(n,e){const t=x2(e);for(const i of n.elements)t.some((r=>Ps(r,i)))||t.push(i);return{arrayValue:{values:t}}}class lh extends km{constructor(e){super(),this.elements=e}}function v2(n,e){let t=x2(e);for(const i of n.elements)t=t.filter((r=>!Ps(r,i)));return{arrayValue:{values:t}}}class ch extends km{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function V1(n){return Yt(n.integerValue||n.doubleValue)}function x2(n){return K0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class w2{constructor(e,t){this.field=e,this.transform=t}}function T3(n,e){return n.field.isEqual(e.field)&&(function(i,r){return i instanceof oh&&r instanceof oh||i instanceof lh&&r instanceof lh?Wl(i.elements,r.elements,Ps):i instanceof ch&&r instanceof ch?Ps(i.Ae,r.Ae):i instanceof ah&&r instanceof ah})(n.transform,e.transform)}class S3{constructor(e,t){this.version=e,this.transformResults=t}}class Ji{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ji}static exists(e){return new Ji(void 0,e)}static updateTime(e){return new Ji(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Dm{}function E2(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new S2(n.key,Ji.none()):new wh(n.key,n.data,Ji.none());{const t=n.data,i=Zn.empty();let r=new hn(An.comparator);for(let o of e.fields)if(!r.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?i.delete(o):i.set(o,l),r=r.add(o)}return new La(n.key,i,new mi(r.toArray()),Ji.none())}}function A3(n,e,t){n instanceof wh?(function(r,o,l){const u=r.value.clone(),d=z1(r.fieldTransforms,o,l.transformResults);u.setAll(d),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(n,e,t):n instanceof La?(function(r,o,l){if(!kf(r.precondition,o))return void o.convertToUnknownDocument(l.version);const u=z1(r.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(T2(r)),d.setAll(u),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(n,e,t):(function(r,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function zu(n,e,t,i){return n instanceof wh?(function(o,l,u,d){if(!kf(o.precondition,l))return u;const f=o.value.clone(),p=B1(o.fieldTransforms,d,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(n,e,t,i):n instanceof La?(function(o,l,u,d){if(!kf(o.precondition,l))return u;const f=B1(o.fieldTransforms,d,l),p=l.data;return p.setAll(T2(o)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(n,e,t,i):(function(o,l,u){return kf(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(n,e,t)}function C3(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=_2(i.transform,r||null);o!=null&&(t===null&&(t=Zn.empty()),t.set(i.field,o))}return t||null}function U1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Wl(i,r,((o,l)=>T3(o,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class wh extends Dm{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class La extends Dm{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function T2(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function z1(n,e,t){const i=new Map;lt(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let r=0;r<t.length;r++){const o=n[r],l=o.transform,u=e.data.field(o.field);i.set(o.field,E3(l,u,t[r]))}return i}function B1(n,e,t){const i=new Map;for(const r of n){const o=r.transform,l=t.data.field(r.field);i.set(r.field,w3(o,l,e))}return i}class S2 extends Dm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R3 extends Dm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class N3{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&A3(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=zu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=zu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=g2();return this.mutations.forEach((r=>{const o=e.get(r.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=t.has(r.key)?null:u;const d=E2(l,u);d!==null&&i.set(r.key,d),l.isValidDocument()||l.convertToNoDocument(De.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&Wl(this.mutations,e.mutations,((t,i)=>U1(t,i)))&&Wl(this.baseMutations,e.baseMutations,((t,i)=>U1(t,i)))}}class e_{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){lt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let r=(function(){return _3})();const o=e.mutations;for(let l=0;l<o.length;l++)r=r.insert(o[l].key,i[l].version);return new e_(e,t,i,r)}}class I3{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class k3{constructor(e,t){this.count=e,this.unchangedNames=t}}var rn,Ze;function D3(n){switch(n){case re.OK:return Re(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Re(15467,{code:n})}}function A2(n){if(n===void 0)return _r("GRPC error has no .code"),re.UNKNOWN;switch(n){case rn.OK:return re.OK;case rn.CANCELLED:return re.CANCELLED;case rn.UNKNOWN:return re.UNKNOWN;case rn.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case rn.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case rn.INTERNAL:return re.INTERNAL;case rn.UNAVAILABLE:return re.UNAVAILABLE;case rn.UNAUTHENTICATED:return re.UNAUTHENTICATED;case rn.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case rn.NOT_FOUND:return re.NOT_FOUND;case rn.ALREADY_EXISTS:return re.ALREADY_EXISTS;case rn.PERMISSION_DENIED:return re.PERMISSION_DENIED;case rn.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case rn.ABORTED:return re.ABORTED;case rn.OUT_OF_RANGE:return re.OUT_OF_RANGE;case rn.UNIMPLEMENTED:return re.UNIMPLEMENTED;case rn.DATA_LOSS:return re.DATA_LOSS;default:return Re(39323,{code:n})}}(Ze=rn||(rn={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";function M3(){return new TextEncoder}const O3=new ba([4294967295,4294967295],0);function F1(n){const e=M3().encode(n),t=new VA;return t.update(e),new Uint8Array(t.digest())}function H1(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ba([t,i],0),new ba([r,o],0)]}class t_{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Cu(`Invalid padding: ${t}`);if(i<0)throw new Cu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Cu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Cu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ba.fromNumber(this.ge)}ye(e,t,i){let r=e.add(t.multiply(ba.fromNumber(i)));return r.compare(O3)===1&&(r=new ba([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=F1(e),[i,r]=H1(t);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,r,o);if(!this.we(l))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new t_(o,r,t);return i.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const t=F1(e),[i,r]=H1(t);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,r,o);this.be(l)}}be(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mm{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Eh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Mm(De.min(),r,new Ot(We),br(),Ke())}}class Eh{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Eh(i,t,Ke(),Ke(),Ke())}}class Df{constructor(e,t,i,r){this.Se=e,this.removedTargetIds=t,this.key=i,this.De=r}}class C2{constructor(e,t){this.targetId=e,this.Ce=t}}class R2{constructor(e,t,i=Cn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class q1{constructor(){this.ve=0,this.Fe=G1(),this.Me=Cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),t=Ke(),i=Ke();return this.Fe.forEach(((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Re(38017,{changeType:o})}})),new Eh(this.Me,this.xe,e,t,i)}Ke(){this.Oe=!1,this.Fe=G1()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,lt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class P3{constructor(e){this.Ge=e,this.ze=new Map,this.je=br(),this.He=gf(),this.Je=gf(),this.Ze=new Ot(We)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,r)=>{this.rt(r)&&t(r)}))}st(e){const t=e.targetId,i=e.Ce.count,r=this.ot(t);if(r){const o=r.target;if($y(o))if(i===0){const l=new Ee(o.path);this.et(t,l,Mn.newNoDocument(l,De.min()))}else lt(i===1,20013,{expectedCount:i});else{const l=this._t(t);if(l!==i){const u=this.ut(e),d=u?this.ct(u,e,l):1;if(d!==0){this.it(t);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,f)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t;let l,u;try{l=Aa(i).toUint8Array()}catch(d){if(d instanceof QA)return No("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new t_(l,r,o)}catch(d){return No(d instanceof Cu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let r=0;return i.forEach((o=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(t,o,null),r++)})),r}Tt(e){const t=new Map;this.ze.forEach(((o,l)=>{const u=this.ot(l);if(u){if(o.current&&$y(u.target)){const d=new Ee(u.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,Mn.newNoDocument(d,e))}o.Be&&(t.set(l,o.ke()),o.Ke())}}));let i=Ke();this.Je.forEach(((o,l)=>{let u=!0;l.forEachWhile((d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(i=i.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const r=new Mm(e,t,this.Ze,this.je,i);return this.je=br(),this.He=gf(),this.Je=gf(),this.Ze=new Ot(We),r}Ye(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,i),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.qe(t,1):r.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new q1,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new hn(We),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new hn(We),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new q1),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function gf(){return new Ot(Ee.comparator)}function G1(){return new Ot(Ee.comparator)}const L3={asc:"ASCENDING",desc:"DESCENDING"},j3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},V3={and:"AND",or:"OR"};class U3{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ky(n,e){return n.useProto3Json||Cm(e)?e:{value:e}}function im(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function N2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function z3(n,e){return im(n,e.toTimestamp())}function Ds(n){return lt(!!n,49232),De.fromTimestamp((function(t){const i=Sa(t);return new Tt(i.seconds,i.nanos)})(n))}function n_(n,e){return Qy(n,e).canonicalString()}function Qy(n,e){const t=(function(r){return new xt(["projects",r.projectId,"databases",r.database])})(n).child("documents");return e===void 0?t:t.child(e)}function I2(n){const e=xt.fromString(n);return lt(P2(e),10190,{key:e.toString()}),e}function Xy(n,e){return n_(n.databaseId,e.path)}function hy(n,e){const t=I2(e);if(t.get(1)!==n.databaseId.projectId)throw new me(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(D2(t))}function k2(n,e){return n_(n.databaseId,e)}function B3(n){const e=I2(n);return e.length===4?xt.emptyPath():D2(e)}function Jy(n){return new xt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function D2(n){return lt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Y1(n,e,t){return{name:Xy(n,e),fields:t.value.mapValue.fields}}function F3(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Re(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=(function(f,p){return f.useProto3Json?(lt(p===void 0||typeof p=="string",58123),Cn.fromBase64String(p||"")):(lt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Cn.fromUint8Array(p||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(f){const p=f.code===void 0?re.UNKNOWN:A2(f.code);return new me(p,f.message||"")})(l);t=new R2(i,r,o,u||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=hy(n,i.document.name),o=Ds(i.document.updateTime),l=i.document.createTime?Ds(i.document.createTime):De.min(),u=new Zn({mapValue:{fields:i.document.fields}}),d=Mn.newFoundDocument(r,o,l,u),f=i.targetIds||[],p=i.removedTargetIds||[];t=new Df(f,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=hy(n,i.document),o=i.readTime?Ds(i.readTime):De.min(),l=Mn.newNoDocument(r,o),u=i.removedTargetIds||[];t=new Df([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=hy(n,i.document),o=i.removedTargetIds||[];t=new Df([],o,r,null)}else{if(!("filter"in e))return Re(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,l=new k3(r,o),u=i.targetId;t=new C2(u,l)}}return t}function H3(n,e){let t;if(e instanceof wh)t={update:Y1(n,e.key,e.value)};else if(e instanceof S2)t={delete:Xy(n,e.key)};else if(e instanceof La)t={update:Y1(n,e.key,e.data),updateMask:J3(e.fieldMask)};else{if(!(e instanceof R3))return Re(16599,{dt:e.type});t={verify:Xy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(o,l){const u=l.transform;if(u instanceof ah)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof oh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof lh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof ch)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Re(20930,{transform:l.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:z3(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Re(27497)})(n,e.precondition)),t}function q3(n,e){return n&&n.length>0?(lt(e!==void 0,14353),n.map((t=>(function(r,o){let l=r.updateTime?Ds(r.updateTime):Ds(o);return l.isEqual(De.min())&&(l=Ds(o)),new S3(l,r.transformResults||[])})(t,e)))):[]}function G3(n,e){return{documents:[k2(n,e.path)]}}function Y3(n,e){const t={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=k2(n,r);const o=(function(f){if(f.length!==0)return O2(ns.create(f,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const l=(function(f){if(f.length!==0)return f.map((p=>(function(v){return{field:Ml(v.field),direction:K3(v.dir)}})(p)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=Ky(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:t,parent:r}}function $3(n){let e=B3(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){lt(i===1,65062);const p=t.from[0];p.allDescendants?r=p.collectionId:e=e.child(p.collectionId)}let o=[];t.where&&(o=(function(_){const v=M2(_);return v instanceof ns&&a2(v)?v.getFilters():[v]})(t.where));let l=[];t.orderBy&&(l=(function(_){return _.map((v=>(function(S){return new rh(Ol(S.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(v)))})(t.orderBy));let u=null;t.limit&&(u=(function(_){let v;return v=typeof _=="object"?_.value:_,Cm(v)?null:v})(t.limit));let d=null;t.startAt&&(d=(function(_){const v=!!_.before,E=_.values||[];return new tm(E,v)})(t.startAt));let f=null;return t.endAt&&(f=(function(_){const v=!_.before,E=_.values||[];return new tm(E,v)})(t.endAt)),h3(e,r,l,o,u,"F",d,f)}function W3(n,e){const t=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:r})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function M2(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Ol(t.unaryFilter.field);return an.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Ol(t.unaryFilter.field);return an.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ol(t.unaryFilter.field);return an.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ol(t.unaryFilter.field);return an.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(n):n.fieldFilter!==void 0?(function(t){return an.create(Ol(t.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ns.create(t.compositeFilter.filters.map((i=>M2(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(t.compositeFilter.op))})(n):Re(30097,{filter:n})}function K3(n){return L3[n]}function Q3(n){return j3[n]}function X3(n){return V3[n]}function Ml(n){return{fieldPath:n.canonicalString()}}function Ol(n){return An.fromServerFormat(n.fieldPath)}function O2(n){return n instanceof an?(function(t){if(t.op==="=="){if(M1(t.value))return{unaryFilter:{field:Ml(t.field),op:"IS_NAN"}};if(D1(t.value))return{unaryFilter:{field:Ml(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(M1(t.value))return{unaryFilter:{field:Ml(t.field),op:"IS_NOT_NAN"}};if(D1(t.value))return{unaryFilter:{field:Ml(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ml(t.field),op:Q3(t.op),value:t.value}}})(n):n instanceof ns?(function(t){const i=t.getFilters().map((r=>O2(r)));return i.length===1?i[0]:{compositeFilter:{op:X3(t.op),filters:i}}})(n):Re(54877,{filter:n})}function J3(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function P2(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function L2(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class ma{constructor(e,t,i,r,o=De.min(),l=De.min(),u=Cn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new ma(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Z3{constructor(e){this.yt=e}}function e6(n){const e=$3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?nm(e,e.limit,"L"):e}class t6{constructor(){this.Sn=new n6}addToCollectionParentIndex(e,t){return this.Sn.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(Ta.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(Ta.min())}updateCollectionGroup(e,t,i){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class n6{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new hn(xt.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new hn(xt.comparator)).toArray()}}const $1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},j2=41943040;class Xn{static withCacheSize(e){return new Xn(e,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}Xn.DEFAULT_COLLECTION_PERCENTILE=10,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xn.DEFAULT=new Xn(j2,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xn.DISABLED=new Xn(-1,0,0);class Xl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Xl(0)}static ar(){return new Xl(-1)}}const W1="LruGarbageCollector",i6=1048576;function K1([n,e],[t,i]){const r=We(n,t);return r===0?We(e,i):r}class s6{constructor(e){this.Pr=e,this.buffer=new hn(K1),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();K1(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class r6{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){pe(W1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){oc(t)?pe(W1,"Ignoring IndexedDB error during garbage collection: ",t):await ac(t)}await this.Ar(3e5)}))}}class a6{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return oe.resolve(Am.ce);const i=new s6(t);return this.Vr.forEachTarget(e,(r=>i.Er(r.sequenceNumber))).next((()=>this.Vr.mr(e,(r=>i.Er(r))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve($1)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$1):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let i,r,o,l,u,d,f;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),r=this.params.maximumSequenceNumbersToCollect):r=_,l=Date.now(),this.nthSequenceNumber(e,r)))).next((_=>(i=_,u=Date.now(),this.removeTargets(e,i,t)))).next((_=>(o=_,d=Date.now(),this.removeOrphanedDocuments(e,i)))).next((_=>(f=Date.now(),kl()<=$e.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${r} in `+(u-l)+`ms
	Removed ${o} targets in `+(d-u)+`ms
	Removed ${_} documents in `+(f-d)+`ms
Total Duration: ${f-p}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:_}))))}}function o6(n,e){return new a6(n,e)}class l6{constructor(){this.changes=new Po((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Mn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?oe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class c6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class u6{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(i=r,this.remoteDocumentCache.getEntry(e,t)))).next((r=>(i!==null&&zu(i.mutation,r,mi.empty(),Tt.now()),r)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Ke()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Ke()){const r=_o();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,i).next((o=>{let l=Au();return o.forEach(((u,d)=>{l=l.insert(u,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const i=_o();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Ke())))}populateOverlays(e,t,i){const r=[];return i.forEach((o=>{t.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(e,r).next((o=>{o.forEach(((l,u)=>{t.set(l,u)}))}))}computeViews(e,t,i,r){let o=br();const l=Uu(),u=(function(){return Uu()})();return t.forEach(((d,f)=>{const p=i.get(f.key);r.has(f.key)&&(p===void 0||p.mutation instanceof La)?o=o.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),zu(p.mutation,f,p.mutation.getFieldMask(),Tt.now())):l.set(f.key,mi.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((f,p)=>l.set(f,p))),t.forEach(((f,p)=>u.set(f,new c6(p,l.get(f)??null)))),u)))}recalculateAndSaveOverlays(e,t){const i=Uu();let r=new Ot(((l,u)=>l-u)),o=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const u of l)u.keys().forEach((d=>{const f=t.get(d);if(f===null)return;let p=i.get(d)||mi.empty();p=u.applyToLocalView(f,p),i.set(d,p);const _=(r.get(u.batchId)||Ke()).add(d);r=r.insert(u.batchId,_)}))})).next((()=>{const l=[],u=r.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),f=d.key,p=d.value,_=g2();p.forEach((v=>{if(!o.has(v)){const E=E2(t.get(v),i.get(v));E!==null&&_.set(v,E),o=o.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,_))}return oe.waitFor(l)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,r){return d3(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):u2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next((o=>{const l=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):oe.resolve(_o());let u=th,d=o;return l.next((f=>oe.forEach(f,((p,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),o.get(p)?oe.resolve():this.remoteDocumentCache.getEntry(e,p).next((v=>{d=d.insert(p,v)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,d,f,Ke()))).next((p=>({batchId:u,changes:m2(p)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next((i=>{let r=Au();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const o=t.collectionGroup;let l=Au();return this.indexManager.getCollectionParents(e,o).next((u=>oe.forEach(u,(d=>{const f=(function(_,v){return new lc(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,i,r).next((p=>{p.forEach(((_,v)=>{l=l.insert(_,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r)))).next((l=>{o.forEach(((d,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,Mn.newInvalidDocument(p)))}));let u=Au();return l.forEach(((d,f)=>{const p=o.get(d);p!==void 0&&zu(p.mutation,f,mi.empty(),Tt.now()),Im(t,f)&&(u=u.insert(d,f))})),u}))}}class h6{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return oe.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(r){return{id:r.id,version:r.version,createTime:Ds(r.createTime)}})(t)),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(r){return{name:r.name,query:e6(r.bundledQuery),readTime:Ds(r.readTime)}})(t)),oe.resolve()}}class d6{constructor(){this.overlays=new Ot(Ee.comparator),this.Lr=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=_o();return oe.forEach(t,(r=>this.getOverlay(e,r).next((o=>{o!==null&&i.set(r,o)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((r,o)=>{this.bt(e,t,o)})),oe.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Lr.get(i);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(i)),oe.resolve()}getOverlaysForCollection(e,t,i){const r=_o(),o=t.length+1,l=new Ee(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,f=d.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>i&&r.set(d.getKey(),d)}return oe.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new Ot(((f,p)=>f-p));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>i){let p=o.get(f.largestBatchId);p===null&&(p=_o(),o=o.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const u=_o(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,p)=>u.set(f,p))),!(u.size()>=r)););return oe.resolve(u)}bt(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const l=this.Lr.get(r.largestBatchId).delete(i.key);this.Lr.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new I3(t,i));let o=this.Lr.get(t);o===void 0&&(o=Ke(),this.Lr.set(t,o)),this.Lr.set(t,o.add(i.key))}}class f6{constructor(){this.sessionToken=Cn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,oe.resolve()}}class i_{constructor(){this.kr=new hn(pn.Kr),this.qr=new hn(pn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const i=new pn(e,t);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Wr(new pn(e,t))}Qr(e,t){e.forEach((i=>this.removeReference(i,t)))}Gr(e){const t=new Ee(new xt([])),i=new pn(t,e),r=new pn(t,e+1),o=[];return this.qr.forEachInRange([i,r],(l=>{this.Wr(l),o.push(l.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Ee(new xt([])),i=new pn(t,e),r=new pn(t,e+1);let o=Ke();return this.qr.forEachInRange([i,r],(l=>{o=o.add(l.key)})),o}containsKey(e){const t=new pn(e,0),i=this.kr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class pn{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Ee.comparator(e.key,t.key)||We(e.Hr,t.Hr)}static Ur(e,t){return We(e.Hr,t.Hr)||Ee.comparator(e.key,t.key)}}class m6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new hn(pn.Kr)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new N3(o,t,i,r);this.mutationQueue.push(l);for(const u of r)this.Jr=this.Jr.add(new pn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return oe.resolve(l)}lookupMutationBatch(e,t){return oe.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.Xr(i),o=r<0?0:r;return oe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?$0:this.Yn-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new pn(t,0),r=new pn(t,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([i,r],(l=>{const u=this.Zr(l.Hr);o.push(u)})),oe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new hn(We);return t.forEach((r=>{const o=new pn(r,0),l=new pn(r,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,l],(u=>{i=i.add(u.Hr)}))})),oe.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;Ee.isDocumentKey(o)||(o=o.child(""));const l=new pn(new Ee(o),0);let u=new hn(We);return this.Jr.forEachWhile((d=>{const f=d.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(u=u.add(d.Hr)),!0)}),l),oe.resolve(this.Yr(u))}Yr(e){const t=[];return e.forEach((i=>{const r=this.Zr(i);r!==null&&t.push(r)})),t}removeMutationBatch(e,t){lt(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return oe.forEach(t.mutations,(r=>{const o=new pn(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,t){const i=new pn(t,0),r=this.Jr.firstAfterOrEqual(i);return oe.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class g6{constructor(e){this.ti=e,this.docs=(function(){return new Ot(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,l=this.ti(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return oe.resolve(i?i.document.mutableCopy():Mn.newInvalidDocument(t))}getEntries(e,t){let i=br();return t.forEach((r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Mn.newInvalidDocument(r))})),oe.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=br();const l=t.path,u=new Ee(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:f,value:{document:p}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||F5(B5(p),i)<=0||(r.has(p.key)||Im(t,p))&&(o=o.insert(p.key,p.mutableCopy()))}return oe.resolve(o)}getAllFromCollectionGroup(e,t,i,r){Re(9500)}ni(e,t){return oe.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new p6(this)}getSize(e){return oe.resolve(this.size)}}class p6 extends l6{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?t.push(this.Mr.addEntry(e,r)):this.Mr.removeEntry(i)})),oe.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class y6{constructor(e){this.persistence=e,this.ri=new Po((t=>Q0(t)),X0),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.ii=0,this.si=new i_,this.targetCount=0,this.oi=Xl._r()}forEachTarget(e,t){return this.ri.forEach(((i,r)=>t(r))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ii&&(this.ii=t),oe.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Xl(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.lr(t),oe.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.ri.forEach(((l,u)=>{u.sequenceNumber<=t&&i.get(u.targetId)===null&&(this.ri.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),r++)})),oe.waitFor(o).next((()=>r))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const i=this.ri.get(t)||null;return oe.resolve(i)}addMatchingKeys(e,t,i){return this.si.$r(t,i),oe.resolve()}removeMatchingKeys(e,t,i){this.si.Qr(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach((l=>{o.push(r.markPotentiallyOrphaned(e,l))})),oe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.si.jr(t);return oe.resolve(i)}containsKey(e,t){return oe.resolve(this.si.containsKey(t))}}class V2{constructor(e,t){this._i={},this.overlays={},this.ai=new Am(0),this.ui=!1,this.ui=!0,this.ci=new f6,this.referenceDelegate=e(this),this.li=new y6(this),this.indexManager=new t6,this.remoteDocumentCache=(function(r){return new g6(r)})((i=>this.referenceDelegate.hi(i))),this.serializer=new Z3(t),this.Pi=new h6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new d6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this._i[e.toKey()];return i||(i=new m6(t,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,i){pe("MemoryPersistence","Starting transaction:",e);const r=new _6(this.ai.next());return this.referenceDelegate.Ti(),i(r).next((o=>this.referenceDelegate.Ii(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ei(e,t){return oe.or(Object.values(this._i).map((i=>()=>i.containsKey(e,t))))}}class _6 extends q5{constructor(e){super(),this.currentSequenceNumber=e}}class s_{constructor(e){this.persistence=e,this.Ri=new i_,this.Ai=null}static Vi(e){return new s_(e)}get di(){if(this.Ai)return this.Ai;throw Re(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.di.delete(i.toString()),oe.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.di.add(i.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),oe.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((r=>this.di.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((r=>{r.forEach((o=>this.di.add(o.toString())))})).next((()=>i.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.di,(i=>{const r=Ee.fromPath(i);return this.mi(e,r).next((o=>{o||t.removeEntry(r,De.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return oe.or([()=>oe.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class sm{constructor(e,t){this.persistence=e,this.fi=new Po((i=>$5(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=o6(this,t)}static Vi(e,t){return new sm(e,t)}Ti(){}Ii(e){return oe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((r=>i+r))))}pr(e){let t=0;return this.mr(e,(i=>{t++})).next((()=>t))}mr(e,t){return oe.forEach(this.fi,((i,r)=>this.wr(e,i,r).next((o=>o?oe.resolve():t(r)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ni(e,(l=>this.wr(e,l,t).next((u=>{u||(i++,o.removeEntry(l,De.min()))})))).next((()=>o.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),oe.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),oe.resolve()}removeReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),oe.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Nf(e.data.value)),t}wr(e,t,i){return oe.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.fi.get(t);return oe.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class r_{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Ts=i,this.Is=r}static Es(e,t){let i=Ke(),r=Ke();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new r_(e,t.fromCache,i,r)}}class b6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class v6{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return q4()?8:G5(jn())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,r){const o={result:null};return this.gs(e,t).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ps(e,t,r,i).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new b6;return this.ys(e,t,l).next((u=>{if(o.result=u,this.As)return this.ws(e,t,l,u.size)}))})).next((()=>o.result))}ws(e,t,i,r){return i.documentReadCount<this.Vs?(kl()<=$e.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Dl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),oe.resolve()):(kl()<=$e.DEBUG&&pe("QueryEngine","Query:",Dl(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ds*r?(kl()<=$e.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Dl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ks(t))):oe.resolve())}gs(e,t){if(j1(t))return oe.resolve(null);let i=ks(t);return this.indexManager.getIndexType(e,i).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=nm(t,null,"F"),i=ks(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((o=>{const l=Ke(...o);return this.fs.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,i).next((d=>{const f=this.bs(t,u);return this.Ss(t,f,l,d.readTime)?this.gs(e,nm(t,null,"F")):this.Ds(e,f,t,d)}))))})))))}ps(e,t,i,r){return j1(t)||r.isEqual(De.min())?oe.resolve(null):this.fs.getDocuments(e,i).next((o=>{const l=this.bs(t,o);return this.Ss(t,l,i,r)?oe.resolve(null):(kl()<=$e.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Dl(t)),this.Ds(e,l,t,z5(r,th)).next((u=>u)))}))}bs(e,t){let i=new hn(d2(e));return t.forEach(((r,o)=>{Im(e,o)&&(i=i.add(o))})),i}Ss(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}ys(e,t,i){return kl()<=$e.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Dl(t)),this.fs.getDocumentsMatchingQuery(e,t,Ta.min(),i)}Ds(e,t,i,r){return this.fs.getDocumentsMatchingQuery(e,i,r).next((o=>(t.forEach((l=>{o=o.insert(l.key,l)})),o)))}}const a_="LocalStore",x6=3e8;class w6{constructor(e,t,i,r){this.persistence=e,this.Cs=t,this.serializer=r,this.vs=new Ot(We),this.Fs=new Po((o=>Q0(o)),X0),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new u6(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function E6(n,e,t,i){return new w6(n,e,t,i)}async function U2(n,e){const t=Pe(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next((o=>(r=o,t.Os(e),t.mutationQueue.getAllMutationBatches(i)))).next((o=>{const l=[],u=[];let d=Ke();for(const f of r){l.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}for(const f of o){u.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}return t.localDocuments.getDocuments(i,d).next((f=>({Ns:f,removedBatchIds:l,addedBatchIds:u})))}))}))}function T6(n,e){const t=Pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=e.batch.keys(),o=t.xs.newChangeBuffer({trackRemovals:!0});return(function(u,d,f,p){const _=f.batch,v=_.keys();let E=oe.resolve();return v.forEach((S=>{E=E.next((()=>p.getEntry(d,S))).next((A=>{const C=f.docVersions.get(S);lt(C!==null,48541),A.version.compareTo(C)<0&&(_.applyToRemoteDocument(A,f),A.isValidDocument()&&(A.setReadTime(f.commitVersion),p.addEntry(A)))}))})),E.next((()=>u.mutationQueue.removeMutationBatch(d,_)))})(t,i,e,o).next((()=>o.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(u){let d=Ke();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(d=d.add(u.batch.mutations[f].key));return d})(e)))).next((()=>t.localDocuments.getDocuments(i,r)))}))}function z2(n){const e=Pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function S6(n,e){const t=Pe(n),i=e.snapshotVersion;let r=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=t.xs.newChangeBuffer({trackRemovals:!0});r=t.vs;const u=[];e.targetChanges.forEach(((p,_)=>{const v=r.get(_);if(!v)return;u.push(t.li.removeMatchingKeys(o,p.removedDocuments,_).next((()=>t.li.addMatchingKeys(o,p.addedDocuments,_))));let E=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?E=E.withResumeToken(Cn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):p.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(p.resumeToken,i)),r=r.insert(_,E),(function(A,C,M){return A.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=x6?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(v,E,p)&&u.push(t.li.updateTargetData(o,E))}));let d=br(),f=Ke();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,p))})),u.push(A6(o,l,e.documentUpdates).next((p=>{d=p.Bs,f=p.Ls}))),!i.isEqual(De.min())){const p=t.li.getLastRemoteSnapshotVersion(o).next((_=>t.li.setTargetsMetadata(o,o.currentSequenceNumber,i)));u.push(p)}return oe.waitFor(u).next((()=>l.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,d,f))).next((()=>d))})).then((o=>(t.vs=r,o)))}function A6(n,e,t){let i=Ke(),r=Ke();return t.forEach((o=>i=i.add(o))),e.getEntries(n,i).next((o=>{let l=br();return t.forEach(((u,d)=>{const f=o.get(u);d.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(u)),d.isNoDocument()&&d.version.isEqual(De.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):pe(a_,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",d.version)})),{Bs:l,Ls:r}}))}function C6(n,e){const t=Pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=$0),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function R6(n,e){const t=Pe(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return t.li.getTargetData(i,e).next((o=>o?(r=o,oe.resolve(r)):t.li.allocateTargetId(i).next((l=>(r=new ma(e,l,"TargetPurposeListen",i.currentSequenceNumber),t.li.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=t.vs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.vs=t.vs.insert(i.targetId,i),t.Fs.set(e,i.targetId)),i}))}async function Zy(n,e,t){const i=Pe(n),r=i.vs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",o,(l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!oc(l))throw l;pe(a_,`Failed to update sequence numbers for target ${e}: ${l}`)}i.vs=i.vs.remove(e),i.Fs.delete(r.target)}function Q1(n,e,t){const i=Pe(n);let r=De.min(),o=Ke();return i.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,f,p){const _=Pe(d),v=_.Fs.get(p);return v!==void 0?oe.resolve(_.vs.get(v)):_.li.getTargetData(f,p)})(i,l,ks(e)).next((u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(l,u.targetId).next((d=>{o=d}))})).next((()=>i.Cs.getDocumentsMatchingQuery(l,e,t?r:De.min(),t?o:Ke()))).next((u=>(N6(i,g3(e),u),{documents:u,ks:o})))))}function N6(n,e,t){let i=n.Ms.get(e)||De.min();t.forEach(((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Ms.set(e,i)}class X1{constructor(){this.activeTargetIds=x3()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class I6{constructor(){this.vo=new X1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,i){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new X1,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class k6{Mo(e){}shutdown(){}}const J1="ConnectivityMonitor";class Z1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){pe(J1,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){pe(J1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let pf=null;function e0(){return pf===null?pf=(function(){return 268435456+Math.round(2147483648*Math.random())})():pf++,"0x"+pf.toString(16)}const dy="RestConnection",D6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class M6{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${i}/databases/${r}`,this.$o=this.databaseId.database===Zf?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(e,t,i,r,o){const l=e0(),u=this.Qo(e,t.toUriEncodedString());pe(dy,`Sending RPC '${e}' ${l}:`,u,i);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,r,o);const{host:f}=new URL(u),p=Ma(f);return this.zo(e,u,d,i,p).then((_=>(pe(dy,`Received RPC '${e}' ${l}: `,_),_)),(_=>{throw No(dy,`RPC '${e}' ${l} failed with error: `,_,"url: ",u,"request:",i),_}))}jo(e,t,i,r,o,l){return this.Wo(e,t,i,r,o)}Go(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((r,o)=>e[o]=r)),i&&i.headers.forEach(((r,o)=>e[o]=r))}Qo(e,t){const i=D6[e];let r=`${this.qo}/v1/${t}:${i}`;return this.databaseInfo.apiKey&&(r=`${r}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),r}terminate(){}}class O6{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Nn="WebChannelConnection",yu=(n,e,t)=>{n.listen(e,(i=>{try{t(i)}catch(r){setTimeout((()=>{throw r}),0)}}))};class zl extends M6{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!zl.c_){const e=FA();yu(e,BA.STAT_EVENT,(t=>{t.stat===Fy.PROXY?pe(Nn,"STAT_EVENT: detected buffering proxy"):t.stat===Fy.NOPROXY&&pe(Nn,"STAT_EVENT: detected no buffering proxy")})),zl.c_=!0}}zo(e,t,i,r,o){const l=e0();return new Promise(((u,d)=>{const f=new UA;f.setWithCredentials(!0),f.listenOnce(zA.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Rf.NO_ERROR:const _=f.getResponseJson();pe(Nn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),u(_);break;case Rf.TIMEOUT:pe(Nn,`RPC '${e}' ${l} timed out`),d(new me(re.DEADLINE_EXCEEDED,"Request time out"));break;case Rf.HTTP_ERROR:const v=f.getStatus();if(pe(Nn,`RPC '${e}' ${l} failed with status:`,v,"response text:",f.getResponseText()),v>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E?.error;if(S&&S.status&&S.message){const A=(function(M){const L=M.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(L)>=0?L:re.UNKNOWN})(S.status);d(new me(A,S.message))}else d(new me(re.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new me(re.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{pe(Nn,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(r);pe(Nn,`RPC '${e}' ${l} sending request:`,r),f.send(t,"POST",p,i,15)}))}T_(e,t,i){const r=e0(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=this.createWebChannelTransport(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Go(u.initMessageHeaders,t,i),u.encodeInitMessageHeaders=!0;const f=o.join("");pe(Nn,`Creating RPC '${e}' stream ${r}: ${f}`,u);const p=l.createWebChannel(f,u);this.I_(p);let _=!1,v=!1;const E=new O6({Ho:S=>{v?pe(Nn,`Not sending because RPC '${e}' stream ${r} is closed:`,S):(_||(pe(Nn,`Opening RPC '${e}' stream ${r} transport.`),p.open(),_=!0),pe(Nn,`RPC '${e}' stream ${r} sending:`,S),p.send(S))},Jo:()=>p.close()});return yu(p,Su.EventType.OPEN,(()=>{v||(pe(Nn,`RPC '${e}' stream ${r} transport opened.`),E.i_())})),yu(p,Su.EventType.CLOSE,(()=>{v||(v=!0,pe(Nn,`RPC '${e}' stream ${r} transport closed`),E.o_(),this.E_(p))})),yu(p,Su.EventType.ERROR,(S=>{v||(v=!0,No(Nn,`RPC '${e}' stream ${r} transport errored. Name:`,S.name,"Message:",S.message),E.o_(new me(re.UNAVAILABLE,"The operation could not be completed")))})),yu(p,Su.EventType.MESSAGE,(S=>{if(!v){const A=S.data[0];lt(!!A,16349);const C=A,M=C?.error||C[0]?.error;if(M){pe(Nn,`RPC '${e}' stream ${r} received error:`,M);const L=M.status;let H=(function(te){const I=rn[te];if(I!==void 0)return A2(I)})(L),Y=M.message;L==="NOT_FOUND"&&Y.includes("database")&&Y.includes("does not exist")&&Y.includes(this.databaseId.database)&&No(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),H===void 0&&(H=re.INTERNAL,Y="Unknown error status: "+L+" with message "+M.message),v=!0,E.o_(new me(H,Y)),p.close()}else pe(Nn,`RPC '${e}' stream ${r} received:`,A),E.__(A)}})),zl.u_(),setTimeout((()=>{E.s_()}),0),E}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,i){super.Go(e,t,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return HA()}}function P6(n){return new zl(n)}function fy(){return typeof document<"u"?document:null}function Om(n){return new U3(n,!0)}zl.c_=!1;class B2{constructor(e,t,i=1e3,r=1.5,o=6e4){this.Ci=e,this.timerId=t,this.R_=i,this.A_=r,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-i);r>0&&pe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const eT="PersistentStream";class F2{constructor(e,t,i,r,o,l,u,d){this.Ci=e,this.b_=i,this.S_=r,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new B2(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(_r(t.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===t&&this.G_(i,r)}),(i=>{e((()=>{const r=new me(re.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(e,t){const i=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.H_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(eT,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(pe(eT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class L6 extends F2{constructor(e,t,i,r,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,l),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=F3(this.serializer,e),i=(function(o){if(!("targetChange"in o))return De.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?De.min():l.readTime?Ds(l.readTime):De.min()})(e);return this.listener.J_(t,i)}Z_(e){const t={};t.database=Jy(this.serializer),t.addTarget=(function(o,l){let u;const d=l.target;if(u=$y(d)?{documents:G3(o,d)}:{query:Y3(o,d).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=N2(o,l.resumeToken);const f=Ky(o,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(De.min())>0){u.readTime=im(o,l.snapshotVersion.toTimestamp());const f=Ky(o,l.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,e);const i=W3(this.serializer,e);i&&(t.labels=i),this.K_(t)}X_(e){const t={};t.database=Jy(this.serializer),t.removeTarget=e,this.K_(t)}}class j6 extends F2{constructor(e,t,i,r,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,l),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return lt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){lt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=q3(e.writeResults,e.commitTime),i=Ds(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Jy(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>H3(this.serializer,i)))};this.K_(t)}}class V6{}class U6 extends V6{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new me(re.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Wo(e,Qy(t,i),r,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new me(re.UNKNOWN,o.toString())}))}jo(e,t,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.jo(e,Qy(t,i),r,l,u,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(re.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function z6(n,e,t,i){return new U6(n,e,t,i)}class B6{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_r(t),this.aa=!1):pe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Io="RemoteStore";class F6{constructor(e,t,i,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((l=>{i.enqueueAndForget((async()=>{Lo(this)&&(pe(Io,"Restarting streams for network reachability change."),await(async function(d){const f=Pe(d);f.Ea.add(4),await Th(f),f.Va.set("Unknown"),f.Ea.delete(4),await Pm(f)})(this))}))})),this.Va=new B6(i,r)}}async function Pm(n){if(Lo(n))for(const e of n.Ra)await e(!0)}async function Th(n){for(const e of n.Ra)await e(!1)}function H2(n,e){const t=Pe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),u_(t)?c_(t):cc(t).O_()&&l_(t,e))}function o_(n,e){const t=Pe(n),i=cc(t);t.Ia.delete(e),i.O_()&&q2(t,e),t.Ia.size===0&&(i.O_()?i.L_():Lo(t)&&t.Va.set("Unknown"))}function l_(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}cc(n).Z_(e)}function q2(n,e){n.da.$e(e),cc(n).X_(e)}function c_(n){n.da=new P3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),cc(n).start(),n.Va.ua()}function u_(n){return Lo(n)&&!cc(n).x_()&&n.Ia.size>0}function Lo(n){return Pe(n).Ea.size===0}function G2(n){n.da=void 0}async function H6(n){n.Va.set("Online")}async function q6(n){n.Ia.forEach(((e,t)=>{l_(n,e)}))}async function G6(n,e){G2(n),u_(n)?(n.Va.ha(e),c_(n)):n.Va.set("Unknown")}async function Y6(n,e,t){if(n.Va.set("Online"),e instanceof R2&&e.state===2&&e.cause)try{await(async function(r,o){const l=o.cause;for(const u of o.targetIds)r.Ia.has(u)&&(await r.remoteSyncer.rejectListen(u,l),r.Ia.delete(u),r.da.removeTarget(u))})(n,e)}catch(i){pe(Io,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await rm(n,i)}else if(e instanceof Df?n.da.Xe(e):e instanceof C2?n.da.st(e):n.da.tt(e),!t.isEqual(De.min()))try{const i=await z2(n.localStore);t.compareTo(i)>=0&&await(function(o,l){const u=o.da.Tt(l);return u.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const p=o.Ia.get(f);p&&o.Ia.set(f,p.withResumeToken(d.resumeToken,l))}})),u.targetMismatches.forEach(((d,f)=>{const p=o.Ia.get(d);if(!p)return;o.Ia.set(d,p.withResumeToken(Cn.EMPTY_BYTE_STRING,p.snapshotVersion)),q2(o,d);const _=new ma(p.target,d,f,p.sequenceNumber);l_(o,_)})),o.remoteSyncer.applyRemoteEvent(u)})(n,t)}catch(i){pe(Io,"Failed to raise snapshot:",i),await rm(n,i)}}async function rm(n,e,t){if(!oc(e))throw e;n.Ea.add(1),await Th(n),n.Va.set("Offline"),t||(t=()=>z2(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{pe(Io,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Pm(n)}))}function Y2(n,e){return e().catch((t=>rm(n,t,e)))}async function Lm(n){const e=Pe(n),t=Ra(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:$0;for(;$6(e);)try{const r=await C6(e.localStore,i);if(r===null){e.Ta.length===0&&t.L_();break}i=r.batchId,W6(e,r)}catch(r){await rm(e,r)}$2(e)&&W2(e)}function $6(n){return Lo(n)&&n.Ta.length<10}function W6(n,e){n.Ta.push(e);const t=Ra(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function $2(n){return Lo(n)&&!Ra(n).x_()&&n.Ta.length>0}function W2(n){Ra(n).start()}async function K6(n){Ra(n).ra()}async function Q6(n){const e=Ra(n);for(const t of n.Ta)e.ea(t.mutations)}async function X6(n,e,t){const i=n.Ta.shift(),r=e_.from(i,e,t);await Y2(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await Lm(n)}async function J6(n,e){e&&Ra(n).Y_&&await(async function(i,r){if((function(l){return D3(l)&&l!==re.ABORTED})(r.code)){const o=i.Ta.shift();Ra(i).B_(),await Y2(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r))),await Lm(i)}})(n,e),$2(n)&&W2(n)}async function tT(n,e){const t=Pe(n);t.asyncQueue.verifyOperationInProgress(),pe(Io,"RemoteStore received new credentials");const i=Lo(t);t.Ea.add(3),await Th(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Pm(t)}async function Z6(n,e){const t=Pe(n);e?(t.Ea.delete(2),await Pm(t)):e||(t.Ea.add(2),await Th(t),t.Va.set("Unknown"))}function cc(n){return n.ma||(n.ma=(function(t,i,r){const o=Pe(t);return o.sa(),new L6(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Zo:H6.bind(null,n),Yo:q6.bind(null,n),t_:G6.bind(null,n),J_:Y6.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),u_(n)?c_(n):n.Va.set("Unknown")):(await n.ma.stop(),G2(n))}))),n.ma}function Ra(n){return n.fa||(n.fa=(function(t,i,r){const o=Pe(t);return o.sa(),new j6(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:K6.bind(null,n),t_:J6.bind(null,n),ta:Q6.bind(null,n),na:X6.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await Lm(n)):(await n.fa.stop(),n.Ta.length>0&&(pe(Io,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class h_{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){const l=Date.now()+i,u=new h_(e,t,l,r,o);return u.start(i),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function d_(n,e){if(_r("AsyncQueue",`${e}: ${n}`),oc(n))return new me(re.UNAVAILABLE,`${e}: ${n}`);throw n}class Bl{static emptySet(e){return new Bl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ee.comparator(t.key,i.key):(t,i)=>Ee.comparator(t.key,i.key),this.keyedMap=Au(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Bl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Bl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class nT{constructor(){this.ga=new Ot(Ee.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Re(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Jl{constructor(e,t,i,r,o,l,u,d,f){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,t,i,r,o){const l=[];return t.forEach((u=>{l.push({type:0,doc:u})})),new Jl(e,t,Bl.emptySet(t),l,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class eU{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class tU{constructor(){this.queries=iT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const r=Pe(t),o=r.queries;r.queries=iT(),o.forEach(((l,u)=>{for(const d of u.ba)d.onError(i)}))})(this,new me(re.ABORTED,"Firestore shutting down"))}}function iT(){return new Po((n=>h2(n)),Nm)}async function K2(n,e){const t=Pe(n);let i=3;const r=e.query;let o=t.queries.get(r);o?!o.Sa()&&e.Da()&&(i=2):(o=new eU,i=e.Da()?0:1);try{switch(i){case 0:o.wa=await t.onListen(r,!0);break;case 1:o.wa=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(l){const u=d_(l,`Initialization of query '${Dl(e.query)}' failed`);return void e.onError(u)}t.queries.set(r,o),o.ba.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&f_(t)}async function Q2(n,e){const t=Pe(n),i=e.query;let r=3;const o=t.queries.get(i);if(o){const l=o.ba.indexOf(e);l>=0&&(o.ba.splice(l,1),o.ba.length===0?r=e.Da()?0:1:!o.Sa()&&e.Da()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function nU(n,e){const t=Pe(n);let i=!1;for(const r of e){const o=r.query,l=t.queries.get(o);if(l){for(const u of l.ba)u.Fa(r)&&(i=!0);l.wa=r}}i&&f_(t)}function iU(n,e,t){const i=Pe(n),r=i.queries.get(e);if(r)for(const o of r.ba)o.onError(t);i.queries.delete(e)}function f_(n){n.Ca.forEach((e=>{e.next()}))}var t0,sT;(sT=t0||(t0={})).Ma="default",sT.Cache="cache";class X2{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Jl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Jl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==t0.Cache}}class J2{constructor(e){this.key=e}}class Z2{constructor(e){this.key=e}}class sU{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ke(),this.mutatedKeys=Ke(),this.eu=d2(e),this.tu=new Bl(this.eu)}get nu(){return this.Za}ru(e,t){const i=t?t.iu:new nT,r=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,l=r,u=!1;const d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((p,_)=>{const v=r.get(p),E=Im(this.query,_)?_:null,S=!!v&&this.mutatedKeys.has(v.key),A=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let C=!1;v&&E?v.data.isEqual(E.data)?S!==A&&(i.track({type:3,doc:E}),C=!0):this.su(v,E)||(i.track({type:2,doc:E}),C=!0,(d&&this.eu(E,d)>0||f&&this.eu(E,f)<0)&&(u=!0)):!v&&E?(i.track({type:0,doc:E}),C=!0):v&&!E&&(i.track({type:1,doc:v}),C=!0,(d||f)&&(u=!0)),C&&(E?(l=l.add(E),o=A?o.add(p):o.delete(p)):(l=l.delete(p),o=o.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),o=o.delete(p.key),i.track({type:1,doc:p})}return{tu:l,iu:i,Ss:u,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,_)=>(function(E,S){const A=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Vt:C})}};return A(E)-A(S)})(p.type,_.type)||this.eu(p.doc,_.doc))),this.ou(i),r=r??!1;const u=t&&!r?this._u():[],d=this.Ya.size===0&&this.current&&!r?1:0,f=d!==this.Xa;return this.Xa=d,l.length!==0||f?{snapshot:new Jl(this.query,e.tu,o,l,e.mutatedKeys,d===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new nT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ke(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const t=[];return e.forEach((i=>{this.Ya.has(i)||t.push(new Z2(i))})),this.Ya.forEach((i=>{e.has(i)||t.push(new J2(i))})),t}cu(e){this.Za=e.ks,this.Ya=Ke();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Jl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const m_="SyncEngine";class rU{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class aU{constructor(e){this.key=e,this.hu=!1}}class oU{constructor(e,t,i,r,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Po((u=>h2(u)),Nm),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ot(Ee.comparator),this.Au=new Map,this.Vu=new i_,this.du={},this.mu=new Map,this.fu=Xl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lU(n,e,t=!0){const i=rC(n);let r;const o=i.Tu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await eC(i,e,t,!0),r}async function cU(n,e){const t=rC(n);await eC(t,e,!0,!1)}async function eC(n,e,t,i){const r=await R6(n.localStore,ks(e)),o=r.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let u;return i&&(u=await uU(n,e,o,l==="current",r.resumeToken)),n.isPrimaryClient&&t&&H2(n.remoteStore,r),u}async function uU(n,e,t,i,r){n.pu=(_,v,E)=>(async function(A,C,M,L){let H=C.view.ru(M);H.Ss&&(H=await Q1(A.localStore,C.query,!1).then((({documents:I})=>C.view.ru(I,H))));const Y=L&&L.targetChanges.get(C.targetId),$=L&&L.targetMismatches.get(C.targetId)!=null,te=C.view.applyChanges(H,A.isPrimaryClient,Y,$);return aT(A,C.targetId,te.au),te.snapshot})(n,_,v,E);const o=await Q1(n.localStore,e,!0),l=new sU(e,o.ks),u=l.ru(o.documents),d=Eh.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),f=l.applyChanges(u,n.isPrimaryClient,d);aT(n,t,f.au);const p=new rU(e,t,l);return n.Tu.set(e,p),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),f.snapshot}async function hU(n,e,t){const i=Pe(n),r=i.Tu.get(e),o=i.Iu.get(r.targetId);if(o.length>1)return i.Iu.set(r.targetId,o.filter((l=>!Nm(l,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Zy(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),t&&o_(i.remoteStore,r.targetId),n0(i,r.targetId)})).catch(ac)):(n0(i,r.targetId),await Zy(i.localStore,r.targetId,!0))}async function dU(n,e){const t=Pe(n),i=t.Tu.get(e),r=t.Iu.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),o_(t.remoteStore,i.targetId))}async function fU(n,e,t){const i=vU(n);try{const r=await(function(l,u){const d=Pe(l),f=Tt.now(),p=u.reduce(((E,S)=>E.add(S.key)),Ke());let _,v;return d.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let S=br(),A=Ke();return d.xs.getEntries(E,p).next((C=>{S=C,S.forEach(((M,L)=>{L.isValidDocument()||(A=A.add(M))}))})).next((()=>d.localDocuments.getOverlayedDocuments(E,S))).next((C=>{_=C;const M=[];for(const L of u){const H=C3(L,_.get(L.key).overlayedDocument);H!=null&&M.push(new La(L.key,H,i2(H.value.mapValue),Ji.exists(!0)))}return d.mutationQueue.addMutationBatch(E,f,M,u)})).next((C=>{v=C;const M=C.applyToLocalDocumentSet(_,A);return d.documentOverlayCache.saveOverlays(E,C.batchId,M)}))})).then((()=>({batchId:v.batchId,changes:m2(_)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),(function(l,u,d){let f=l.du[l.currentUser.toKey()];f||(f=new Ot(We)),f=f.insert(u,d),l.du[l.currentUser.toKey()]=f})(i,r.batchId,t),await Sh(i,r.changes),await Lm(i.remoteStore)}catch(r){const o=d_(r,"Failed to persist write");t.reject(o)}}async function tC(n,e){const t=Pe(n);try{const i=await S6(t.localStore,e);e.targetChanges.forEach(((r,o)=>{const l=t.Au.get(o);l&&(lt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?l.hu=!0:r.modifiedDocuments.size>0?lt(l.hu,14607):r.removedDocuments.size>0&&(lt(l.hu,42227),l.hu=!1))})),await Sh(t,i,e)}catch(i){await ac(i)}}function rT(n,e,t){const i=Pe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.Tu.forEach(((o,l)=>{const u=l.view.va(e);u.snapshot&&r.push(u.snapshot)})),(function(l,u){const d=Pe(l);d.onlineState=u;let f=!1;d.queries.forEach(((p,_)=>{for(const v of _.ba)v.va(u)&&(f=!0)})),f&&f_(d)})(i.eventManager,e),r.length&&i.Pu.J_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function mU(n,e,t){const i=Pe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Au.get(e),o=r&&r.key;if(o){let l=new Ot(Ee.comparator);l=l.insert(o,Mn.newNoDocument(o,De.min()));const u=Ke().add(o),d=new Mm(De.min(),new Map,new Ot(We),l,u);await tC(i,d),i.Ru=i.Ru.remove(o),i.Au.delete(e),g_(i)}else await Zy(i.localStore,e,!1).then((()=>n0(i,e,t))).catch(ac)}async function gU(n,e){const t=Pe(n),i=e.batch.batchId;try{const r=await T6(t.localStore,e);iC(t,i,null),nC(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Sh(t,r)}catch(r){await ac(r)}}async function pU(n,e,t){const i=Pe(n);try{const r=await(function(l,u){const d=Pe(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let p;return d.mutationQueue.lookupMutationBatch(f,u).next((_=>(lt(_!==null,37113),p=_.keys(),d.mutationQueue.removeMutationBatch(f,_)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,p,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p))).next((()=>d.localDocuments.getDocuments(f,p)))}))})(i.localStore,e);iC(i,e,t),nC(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Sh(i,r)}catch(r){await ac(r)}}function nC(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function iC(n,e,t){const i=Pe(n);let r=i.du[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.du[i.currentUser.toKey()]=r}}function n0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((i=>{n.Vu.containsKey(i)||sC(n,i)}))}function sC(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(o_(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),g_(n))}function aT(n,e,t){for(const i of t)i instanceof J2?(n.Vu.addReference(i.key,e),yU(n,i)):i instanceof Z2?(pe(m_,"Document no longer in limbo: "+i.key),n.Vu.removeReference(i.key,e),n.Vu.containsKey(i.key)||sC(n,i.key)):Re(19791,{wu:i})}function yU(n,e){const t=e.key,i=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(i)||(pe(m_,"New document in limbo: "+t),n.Eu.add(i),g_(n))}function g_(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ee(xt.fromString(e)),i=n.fu.next();n.Au.set(i,new aU(t)),n.Ru=n.Ru.insert(t,i),H2(n.remoteStore,new ma(ks(J0(t.path)),i,"TargetPurposeLimboResolution",Am.ce))}}async function Sh(n,e,t){const i=Pe(n),r=[],o=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach(((u,d)=>{l.push(i.pu(d,e,t).then((f=>{if((f||t)&&i.isPrimaryClient){const p=f?!f.fromCache:t?.targetChanges.get(d.targetId)?.current;i.sharedClientState.updateQueryState(d.targetId,p?"current":"not-current")}if(f){r.push(f);const p=r_.Es(d.targetId,f);o.push(p)}})))})),await Promise.all(l),i.Pu.J_(r),await(async function(d,f){const p=Pe(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>oe.forEach(f,(v=>oe.forEach(v.Ts,(E=>p.persistence.referenceDelegate.addReference(_,v.targetId,E))).next((()=>oe.forEach(v.Is,(E=>p.persistence.referenceDelegate.removeReference(_,v.targetId,E)))))))))}catch(_){if(!oc(_))throw _;pe(a_,"Failed to update sequence numbers: "+_)}for(const _ of f){const v=_.targetId;if(!_.fromCache){const E=p.vs.get(v),S=E.snapshotVersion,A=E.withLastLimboFreeSnapshotVersion(S);p.vs=p.vs.insert(v,A)}}})(i.localStore,o))}async function _U(n,e){const t=Pe(n);if(!t.currentUser.isEqual(e)){pe(m_,"User change. New user:",e.toKey());const i=await U2(t.localStore,e);t.currentUser=e,(function(o,l){o.mu.forEach((u=>{u.forEach((d=>{d.reject(new me(re.CANCELLED,l))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Sh(t,i.Ns)}}function bU(n,e){const t=Pe(n),i=t.Au.get(e);if(i&&i.hu)return Ke().add(i.key);{let r=Ke();const o=t.Iu.get(e);if(!o)return r;for(const l of o){const u=t.Tu.get(l);r=r.unionWith(u.view.nu)}return r}}function rC(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=tC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mU.bind(null,e),e.Pu.J_=nU.bind(null,e.eventManager),e.Pu.yu=iU.bind(null,e.eventManager),e}function vU(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pU.bind(null,e),e}class am{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Om(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return E6(this.persistence,new v6,e.initialUser,this.serializer)}Cu(e){return new V2(s_.Vi,this.serializer)}Du(e){return new I6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}am.provider={build:()=>new am};class xU extends am{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){lt(this.persistence.referenceDelegate instanceof sm,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new r6(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Xn.withCacheSize(this.cacheSizeBytes):Xn.DEFAULT;return new V2((i=>sm.Vi(i,t)),this.serializer)}}class i0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>rT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=_U.bind(null,this.syncEngine),await Z6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new tU})()}createDatastore(e){const t=Om(e.databaseInfo.databaseId),i=P6(e.databaseInfo);return z6(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,r,o,l,u){return new F6(i,r,o,l,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>rT(this.syncEngine,t,0)),(function(){return Z1.v()?new Z1:new k6})())}createSyncEngine(e,t){return(function(r,o,l,u,d,f,p){const _=new oU(r,o,l,u,d,f);return p&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=Pe(t);pe(Io,"RemoteStore shutting down."),i.Ea.add(5),await Th(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}i0.provider={build:()=>new i0};class aC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Na="FirestoreClient";class wU{constructor(e,t,i,r,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this._databaseInfo=r,this.user=kn.UNAUTHENTICATED,this.clientId=Y0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async l=>{pe(Na,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(i,(l=>(pe(Na,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=d_(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function my(n,e){n.asyncQueue.verifyOperationInProgress(),pe(Na,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await U2(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function oT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await EU(n);pe(Na,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>tT(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>tT(e.remoteStore,r))),n._onlineComponents=e}async function EU(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(Na,"Using user provided OfflineComponentProvider");try{await my(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(r){return r.name==="FirebaseError"?r.code===re.FAILED_PRECONDITION||r.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(t))throw t;No("Error using user provided cache. Falling back to memory cache: "+t),await my(n,new am)}}else pe(Na,"Using default OfflineComponentProvider"),await my(n,new xU(void 0));return n._offlineComponents}async function oC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(Na,"Using user provided OnlineComponentProvider"),await oT(n,n._uninitializedComponentsProvider._online)):(pe(Na,"Using default OnlineComponentProvider"),await oT(n,new i0))),n._onlineComponents}function TU(n){return oC(n).then((e=>e.syncEngine))}async function lC(n){const e=await oC(n),t=e.eventManager;return t.onListen=lU.bind(null,e.syncEngine),t.onUnlisten=hU.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=cU.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=dU.bind(null,e.syncEngine),t}function SU(n,e,t={}){const i=new mr;return n.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,d,f){const p=new aC({next:v=>{p.Nu(),l.enqueueAndForget((()=>Q2(o,_)));const E=v.docs.has(u);!E&&v.fromCache?f.reject(new me(re.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&v.fromCache&&d&&d.source==="server"?f.reject(new me(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),_=new X2(J0(u.path),p,{includeMetadataChanges:!0,Ka:!0});return K2(o,_)})(await lC(n),n.asyncQueue,e,t,i))),i.promise}function AU(n,e,t={}){const i=new mr;return n.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,d,f){const p=new aC({next:v=>{p.Nu(),l.enqueueAndForget((()=>Q2(o,_))),v.fromCache&&d.source==="server"?f.reject(new me(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),_=new X2(u,p,{includeMetadataChanges:!0,Ka:!0});return K2(o,_)})(await lC(n),n.asyncQueue,e,t,i))),i.promise}function CU(n,e){const t=new mr;return n.asyncQueue.enqueueAndForget((async()=>fU(await TU(n),e,t))),t.promise}function cC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const RU="ComponentProvider",lT=new Map;function NU(n,e,t,i,r){return new Q5(n,e,t,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,cC(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator,i)}const uC="firestore.googleapis.com",cT=!0;class uT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uC,this.ssl=cT}else this.host=e.host,this.ssl=e.ssl??cT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=j2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<i6)throw new me(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}V5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cC(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jm{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new R5;switch(i.type){case"firstParty":return new D5(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=lT.get(t);i&&(pe(RU,"Removing Datastore"),lT.delete(t),i.terminate())})(this),Promise.resolve()}}function IU(n,e,t,i={}){n=Os(n,jm);const r=Ma(e),o=n._getSettings(),l={...o,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;r&&(M0(`https://${u}`),O0("Firestore",!0)),o.host!==uC&&o.host!==u&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:u,ssl:r,emulatorOptions:i};if(!So(d,l)&&(n._setSettings(d),i.mockUserToken)){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=kn.MOCK_USER;else{f=QS(i.mockUserToken,n._app?.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new me(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new kn(_)}n._authCredentials=new N5(new GA(f,p))}}class ja{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ja(this.firestore,e,this._query)}}class Wt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}toJSON(){return{type:Wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(xh(t,Wt._jsonSchema))return new Wt(e,i||null,new Ee(xt.fromString(t.referencePath)))}}Wt._jsonSchemaVersion="firestore/documentReference/1.0",Wt._jsonSchema={type:on("string",Wt._jsonSchemaVersion),referencePath:on("string")};class va extends ja{constructor(e,t,i){super(e,t,J0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new Ee(e))}withConverter(e){return new va(this.firestore,e,this._path)}}function Ts(n,e,...t){if(n=Mt(n),YA("collection","path",e),n instanceof jm){const i=xt.fromString(e,...t);return E1(i),new va(n,null,i)}{if(!(n instanceof Wt||n instanceof va))throw new me(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xt.fromString(e,...t));return E1(i),new va(n.firestore,null,i)}}function Zl(n,e,...t){if(n=Mt(n),arguments.length===1&&(e=Y0.newId()),YA("doc","path",e),n instanceof jm){const i=xt.fromString(e,...t);return w1(i),new Wt(n,null,new Ee(i))}{if(!(n instanceof Wt||n instanceof va))throw new me(re.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xt.fromString(e,...t));return w1(i),new Wt(n.firestore,n instanceof va?n.converter:null,new Ee(i))}}const hT="AsyncQueue";class dT{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new B2(this,"async_queue_retry"),this._c=()=>{const i=fy();i&&pe(hT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=fy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=fy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!oc(e))throw e;pe(hT,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,_r("INTERNAL UNHANDLED ERROR: ",fT(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=h_.createAndSchedule(this,e,t,i,(o=>this.hc(o)));return this.tc.push(r),r}uc(){this.nc&&Re(47125,{Pc:fT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function fT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class uc extends jm{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new dT,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dT(e),this._firestoreClient=void 0,await e}}}function kU(n,e){const t=typeof n=="object"?n:vm(),i=typeof n=="string"?n:Zf,r=bm(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=$S("firestore");o&&IU(r,...o)}return r}function p_(n){if(n._terminated)throw new me(re.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||DU(n),n._firestoreClient}function DU(n){const e=n._freezeSettings(),t=NU(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new wU(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}})(n._componentsProvider))}class Pi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pi(Cn.fromBase64String(e))}catch(t){throw new me(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Pi(Cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xh(e,Pi._jsonSchema))return Pi.fromBase64String(e.bytes)}}Pi._jsonSchemaVersion="firestore/bytes/1.0",Pi._jsonSchema={type:on("string",Pi._jsonSchemaVersion),bytes:on("string")};class y_{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new An(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ah{constructor(e){this._methodName=e}}class Ms{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ms._jsonSchemaVersion}}static fromJSON(e){if(xh(e,Ms._jsonSchema))return new Ms(e.latitude,e.longitude)}}Ms._jsonSchemaVersion="firestore/geoPoint/1.0",Ms._jsonSchema={type:on("string",Ms._jsonSchemaVersion),latitude:on("number"),longitude:on("number")};class Zi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xh(e,Zi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Zi(e.vectorValues);throw new me(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zi._jsonSchemaVersion="firestore/vectorValue/1.0",Zi._jsonSchema={type:on("string",Zi._jsonSchemaVersion),vectorValues:on("object")};const MU=/^__.*__$/;class OU{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new La(e,this.data,this.fieldMask,t,this.fieldTransforms):new wh(e,this.data,t,this.fieldTransforms)}}class hC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new La(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function dC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{dataSource:n})}}class __{constructor(e,t,i,r,o,l){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new __({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const t=this.path?.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return om(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(dC(this.dataSource)&&MU.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class PU{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Om(e)}createContext(e,t,i,r=!1){return new __({dataSource:e,methodName:t,targetDoc:i,path:An.emptyPath(),arrayElement:!1,hasConverter:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vm(n){const e=n._freezeSettings(),t=Om(n._databaseId);return new PU(n._databaseId,!!e.ignoreUndefinedProperties,t)}function fC(n,e,t,i,r,o={}){const l=n.createContext(o.merge||o.mergeFields?2:0,e,t,r);x_("Data must be an object, but it was:",l,i);const u=mC(i,l);let d,f;if(o.merge)d=new mi(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const p=[];for(const _ of o.mergeFields){const v=ec(e,_,t);if(!l.contains(v))throw new me(re.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);yC(p,v)||p.push(v)}d=new mi(p),f=l.fieldTransforms.filter((_=>d.covers(_.field)))}else d=null,f=l.fieldTransforms;return new OU(new Zn(u),d,f)}class Um extends Ah{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Um}}class b_ extends Ah{_toFieldTransform(e){return new w2(e.path,new ah)}isEqual(e){return e instanceof b_}}class v_ extends Ah{constructor(e,t){super(e),this.Vc=t}_toFieldTransform(e){const t=new ch(e.serializer,y2(e.serializer,this.Vc));return new w2(e.path,t)}isEqual(e){return e instanceof v_&&this.Vc===e.Vc}}function LU(n,e,t,i){const r=n.createContext(1,e,t);x_("Data must be an object, but it was:",r,i);const o=[],l=Zn.empty();Pa(i,((d,f)=>{const p=pC(e,d,t);f=Mt(f);const _=r.childContextForFieldPath(p);if(f instanceof Um)o.push(p);else{const v=Ch(f,_);v!=null&&(o.push(p),l.set(p,v))}}));const u=new mi(o);return new hC(l,u,r.fieldTransforms)}function jU(n,e,t,i,r,o){const l=n.createContext(1,e,t),u=[ec(e,i,t)],d=[r];if(o.length%2!=0)throw new me(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)u.push(ec(e,o[v])),d.push(o[v+1]);const f=[],p=Zn.empty();for(let v=u.length-1;v>=0;--v)if(!yC(f,u[v])){const E=u[v];let S=d[v];S=Mt(S);const A=l.childContextForFieldPath(E);if(S instanceof Um)f.push(E);else{const C=Ch(S,A);C!=null&&(f.push(E),p.set(E,C))}}const _=new mi(f);return new hC(p,_,l.fieldTransforms)}function VU(n,e,t,i=!1){return Ch(t,n.createContext(i?4:3,e))}function Ch(n,e){if(gC(n=Mt(n)))return x_("Unsupported field value:",e,n),mC(n,e);if(n instanceof Ah)return(function(i,r){if(!dC(r.dataSource))throw r.createError(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.createError(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,r){const o=[];let l=0;for(const u of i){let d=Ch(u,r.childContextForArray(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}})(n,e)}return(function(i,r){if((i=Mt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return y2(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Tt.fromDate(i);return{timestampValue:im(r.serializer,o)}}if(i instanceof Tt){const o=new Tt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:im(r.serializer,o)}}if(i instanceof Ms)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Pi)return{bytesValue:N2(r.serializer,i._byteString)};if(i instanceof Wt){const o=r.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw r.createError(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:n_(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Zi)return(function(l,u){const d=l instanceof Zi?l.toArray():l;return{mapValue:{fields:{[t2]:{stringValue:n2},[em]:{arrayValue:{values:d.map((p=>{if(typeof p!="number")throw u.createError("VectorValues must only contain numeric values.");return Z0(u.serializer,p)}))}}}}}})(i,r);if(L2(i))return i._toProto(r.serializer);throw r.createError(`Unsupported field value: ${Sm(i)}`)})(n,e)}function mC(n,e){const t={};return KA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pa(n,((i,r)=>{const o=Ch(r,e.childContextForField(i));o!=null&&(t[i]=o)})),{mapValue:{fields:t}}}function gC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Tt||n instanceof Ms||n instanceof Pi||n instanceof Wt||n instanceof Ah||n instanceof Zi||L2(n))}function x_(n,e,t){if(!gC(t)||!$A(t)){const i=Sm(t);throw i==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+i)}}function ec(n,e,t){if((e=Mt(e))instanceof y_)return e._internalPath;if(typeof e=="string")return pC(n,e);throw om("Field path arguments must be of type string or ",n,!1,void 0,t)}const UU=new RegExp("[~\\*/\\[\\]]");function pC(n,e,t){if(e.search(UU)>=0)throw om(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new y_(...e.split("."))._internalPath}catch{throw om(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function om(n,e,t,i,r){const o=i&&!i.isEmpty(),l=r!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${i}`),l&&(d+=` in document ${r}`),d+=")"),new me(re.INVALID_ARGUMENT,u+n+d)}function yC(n,e){return n.some((t=>t.isEqual(e)))}class zU{convertValue(e,t="none"){switch(Ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Aa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Pa(e,((r,o)=>{i[r]=this.convertValue(o,t)})),i}convertVectorValue(e){const t=e.fields?.[em].arrayValue?.values?.map((i=>Yt(i.doubleValue)));return new Zi(t)}convertGeoPoint(e){return new Ms(Yt(e.latitude),Yt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Rm(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(nh(e));default:return null}}convertTimestamp(e){const t=Sa(e);return new Tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=xt.fromString(e);lt(P2(i),9688,{name:e});const r=new ih(i.get(1),i.get(3)),o=new Ee(i.popFirst(5));return r.isEqual(t)||_r(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class _C extends zU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,t)}}function Qn(){return new b_("serverTimestamp")}function gy(n){return new v_("increment",n)}const mT="@firebase/firestore",gT="4.11.0";class bC{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(ec("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class BU extends bC{data(){return super.data()}}function FU(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new me(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class w_{}class E_ extends w_{}function py(n,e,...t){let i=[];e instanceof w_&&i.push(e),i=i.concat(t),(function(o){const l=o.filter((d=>d instanceof S_)).length,u=o.filter((d=>d instanceof T_)).length;if(l>1||l>0&&u>0)throw new me(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)n=r._apply(n);return n}class T_ extends E_{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new T_(e,t,i)}_apply(e){const t=this._parse(e);return vC(e._query,t),new ja(e.firestore,e.converter,Wy(e._query,t))}_parse(e){const t=Vm(e.firestore);return(function(o,l,u,d,f,p,_){let v;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new me(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){_T(_,p);const S=[];for(const A of _)S.push(yT(d,o,A));v={arrayValue:{values:S}}}else v=yT(d,o,_)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||_T(_,p),v=VU(u,l,_,p==="in"||p==="not-in");return an.create(f,p,v)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class S_ extends w_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new S_(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:ns.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(r,o){let l=r;const u=o.getFlattenedFilters();for(const d of u)vC(l,d),l=Wy(l,d)})(e._query,t),new ja(e.firestore,e.converter,Wy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class A_ extends E_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new A_(e,t)}_apply(e){const t=(function(r,o,l){if(r.startAt!==null)throw new me(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new me(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rh(o,l)})(e._query,this._field,this._direction);return new ja(e.firestore,e.converter,m3(e._query,t))}}function yy(n,e="asc"){const t=e,i=ec("orderBy",n);return A_._create(i,t)}class C_ extends E_{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new C_(e,t,i)}_apply(e){return new ja(e.firestore,e.converter,nm(e._query,this._limit,this._limitType))}}function pT(n){return U5("limit",n),C_._create("limit",n,"F")}function yT(n,e,t){if(typeof(t=Mt(t))=="string"){if(t==="")throw new me(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!u2(e)&&t.indexOf("/")!==-1)throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(xt.fromString(t));if(!Ee.isDocumentKey(i))throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return k1(n,new Ee(i))}if(t instanceof Wt)return k1(n,t._key);throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sm(t)}.`)}function _T(n,e){if(!Array.isArray(n)||n.length===0)throw new me(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vC(n,e){const t=(function(r,o){for(const l of r)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new me(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function xC(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Ru{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xo extends bC{constructor(e,t,i,r,o,l){super(e,t,i,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Mf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(ec("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=xo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}xo._jsonSchemaVersion="firestore/documentSnapshot/1.0",xo._jsonSchema={type:on("string",xo._jsonSchemaVersion),bundleSource:on("string","DocumentSnapshot"),bundleName:on("string"),bundle:on("string")};class Mf extends xo{data(e={}){return super.data(e)}}class Fl{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ru(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new Mf(this._firestore,this._userDataWriter,i.key,i,new Ru(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map((u=>{const d=new Mf(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Ru(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const d=new Mf(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Ru(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,p=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:HU(u.type),doc:d,oldIndex:f,newIndex:p}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Fl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Y0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function HU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:n})}}Fl._jsonSchemaVersion="firestore/querySnapshot/1.0",Fl._jsonSchema={type:on("string",Fl._jsonSchemaVersion),bundleSource:on("string","QuerySnapshot"),bundleName:on("string"),bundle:on("string")};function qU(n){n=Os(n,Wt);const e=Os(n.firestore,uc),t=p_(e);return SU(t,n._key).then((i=>GU(e,n,i)))}function Nu(n){n=Os(n,ja);const e=Os(n.firestore,uc),t=p_(e),i=new _C(e);return FU(n._query),AU(t,n._query).then((r=>new Fl(e,i,n,r)))}function R_(n,e,t){n=Os(n,Wt);const i=Os(n.firestore,uc),r=xC(n.converter,e,t),o=Vm(i);return N_(i,[fC(o,"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,Ji.none())])}function s0(n,e,t,...i){n=Os(n,Wt);const r=Os(n.firestore,uc),o=Vm(r);let l;return l=typeof(e=Mt(e))=="string"||e instanceof y_?jU(o,"updateDoc",n._key,e,t,i):LU(o,"updateDoc",n._key,e),N_(r,[l.toMutation(n._key,Ji.exists(!0))])}function Iu(n,e){const t=Os(n.firestore,uc),i=Zl(n),r=xC(n.converter,e),o=Vm(n.firestore);return N_(t,[fC(o,"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Ji.exists(!1))]).then((()=>i))}function N_(n,e){const t=p_(n);return CU(t,e)}function GU(n,e,t){const i=t.docs.get(e._key),r=new _C(n);return new xo(n,r,e._key,i,new Ru(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){C5(Mo),Ao(new Ea("firestore",((i,{instanceIdentifier:r,options:o})=>{const l=i.getProvider("app").getImmediate(),u=new uc(new I5(i.getProvider("auth-internal")),new M5(l,i.getProvider("app-check-internal")),X5(l,r),l);return o={useFetchStreams:t,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),Rs(mT,gT,e),Rs(mT,gT,"esm2020")})();const wC="firebasestorage.googleapis.com",EC="storageBucket",YU=120*1e3,$U=600*1e3;class zt extends js{constructor(e,t,i=0){super(_y(e),`Firebase Storage: ${t} (${_y(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,zt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return _y(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ut;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ut||(Ut={}));function _y(n){return"storage/"+n}function I_(){const n="An unknown error occurred, please check the error payload for server response.";return new zt(Ut.UNKNOWN,n)}function WU(n){return new zt(Ut.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function KU(n){return new zt(Ut.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function QU(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new zt(Ut.UNAUTHENTICATED,n)}function XU(){return new zt(Ut.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function JU(n){return new zt(Ut.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function ZU(){return new zt(Ut.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function e9(){return new zt(Ut.CANCELED,"User canceled the upload/download.")}function t9(n){return new zt(Ut.INVALID_URL,"Invalid URL '"+n+"'.")}function n9(n){return new zt(Ut.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function i9(){return new zt(Ut.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+EC+"' property when initializing the app?")}function s9(){return new zt(Ut.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function r9(){return new zt(Ut.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function a9(n){return new zt(Ut.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function r0(n){return new zt(Ut.INVALID_ARGUMENT,n)}function TC(){return new zt(Ut.APP_DELETED,"The Firebase app was deleted.")}function o9(n){return new zt(Ut.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Bu(n,e){return new zt(Ut.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function _u(n){throw new zt(Ut.INTERNAL_ERROR,"Internal error: "+n)}class gi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=gi.makeFromUrl(e,t)}catch{return new gi(e,"")}if(i.path==="")return i;throw n9(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+r+l,"i"),d={bucket:1,path:3};function f(Y){Y.path_=decodeURIComponent(Y.path)}const p="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",E=new RegExp(`^https?://${_}/${p}/b/${r}/o${v}`,"i"),S={bucket:1,path:3},A=t===wC?"(?:storage.googleapis.com|storage.cloud.google.com)":t,C="([^?#]*)",M=new RegExp(`^https?://${A}/${r}/${C}`,"i"),H=[{regex:u,indices:d,postModify:o},{regex:E,indices:S,postModify:f},{regex:M,indices:{bucket:1,path:2},postModify:f}];for(let Y=0;Y<H.length;Y++){const $=H[Y],te=$.regex.exec(e);if(te){const I=te[$.indices.bucket];let N=te[$.indices.path];N||(N=""),i=new gi(I,N),$.postModify(i);break}}if(i==null)throw t9(e);return i}}class l9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function c9(n,e,t){let i=1,r=null,o=null,l=!1,u=0;function d(){return u===2}let f=!1;function p(...C){f||(f=!0,e.apply(null,C))}function _(C){r=setTimeout(()=>{r=null,n(E,d())},C)}function v(){o&&clearTimeout(o)}function E(C,...M){if(f){v();return}if(C){v(),p.call(null,C,...M);return}if(d()||l){v(),p.call(null,C,...M);return}i<64&&(i*=2);let H;u===1?(u=2,H=0):H=(i+Math.random())*1e3,_(H)}let S=!1;function A(C){S||(S=!0,v(),!f&&(r!==null?(C||(u=2),clearTimeout(r),_(0)):C||(u=1)))}return _(0),o=setTimeout(()=>{l=!0,A(!0)},t),A}function u9(n){n(!1)}function h9(n){return n!==void 0}function d9(n){return typeof n=="object"&&!Array.isArray(n)}function k_(n){return typeof n=="string"||n instanceof String}function bT(n){return D_()&&n instanceof Blob}function D_(){return typeof Blob<"u"}function vT(n,e,t,i){if(i<e)throw r0(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw r0(`Invalid value for '${n}'. Expected ${t} or less.`)}function M_(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function SC(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const r=e(i)+"="+e(n[i]);t=t+r+"&"}return t=t.slice(0,-1),t}var wo;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(wo||(wo={}));function f9(n,e){const t=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||r||o}class m9{constructor(e,t,i,r,o,l,u,d,f,p,_,v=!0,E=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=_,this.retry=v,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,A)=>{this.resolve_=S,this.reject_=A,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new yf(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=u=>{const d=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const u=o.getErrorCode()===wo.NO_ERROR,d=o.getStatus();if(!u||f9(d,this.additionalRetryCodes_)&&this.retry){const p=o.getErrorCode()===wo.ABORT;i(!1,new yf(!1,null,p));return}const f=this.successCodes_.indexOf(d)!==-1;i(!0,new yf(f,o))})},t=(i,r)=>{const o=this.resolve_,l=this.reject_,u=r.connection;if(r.wasSuccessCode)try{const d=this.callback_(u,u.getResponse());h9(d)?o(d):o()}catch(d){l(d)}else if(u!==null){const d=I_();d.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,d)):l(d)}else if(r.canceled){const d=this.appDelete_?TC():e9();l(d)}else{const d=ZU();l(d)}};this.canceled_?t(!1,new yf(!1,null,!0)):this.backoffId_=c9(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&u9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class yf{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function g9(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function p9(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function y9(n,e){e&&(n["X-Firebase-GMPID"]=e)}function _9(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function b9(n,e,t,i,r,o,l=!0,u=!1){const d=SC(n.urlParams),f=n.url+d,p=Object.assign({},n.headers);return y9(p,e),g9(p,t),p9(p,o),_9(p,i),new m9(f,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,l,u)}function v9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function x9(...n){const e=v9();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(D_())return new Blob(n);throw new zt(Ut.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function w9(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function E9(n){if(typeof atob>"u")throw a9("base-64");return atob(n)}const As={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class by{constructor(e,t){this.data=e,this.contentType=t||null}}function T9(n,e){switch(n){case As.RAW:return new by(AC(e));case As.BASE64:case As.BASE64URL:return new by(CC(n,e));case As.DATA_URL:return new by(A9(e),C9(e))}throw I_()}function AC(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const o=i,l=n.charCodeAt(++t);i=65536|(o&1023)<<10|l&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function S9(n){let e;try{e=decodeURIComponent(n)}catch{throw Bu(As.DATA_URL,"Malformed data URL.")}return AC(e)}function CC(n,e){switch(n){case As.BASE64:{const r=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(r||o)throw Bu(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case As.BASE64URL:{const r=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(r||o)throw Bu(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=E9(e)}catch(r){throw r.message.includes("polyfill")?r:Bu(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class RC{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Bu(As.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=R9(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function A9(n){const e=new RC(n);return e.base64?CC(As.BASE64,e.rest):S9(e.rest)}function C9(n){return new RC(n).contentType}function R9(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class ca{constructor(e,t){let i=0,r="";bT(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(bT(this.data_)){const i=this.data_,r=w9(i,e,t);return r===null?null:new ca(r)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new ca(i,!0)}}static getBlob(...e){if(D_()){const t=e.map(i=>i instanceof ca?i.data_:i);return new ca(x9.apply(null,t))}else{const t=e.map(l=>k_(l)?T9(As.RAW,l).data:l.data_);let i=0;t.forEach(l=>{i+=l.byteLength});const r=new Uint8Array(i);let o=0;return t.forEach(l=>{for(let u=0;u<l.length;u++)r[o++]=l[u]}),new ca(r,!0)}}uploadData(){return this.data_}}function NC(n){let e;try{e=JSON.parse(n)}catch{return null}return d9(e)?e:null}function N9(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function I9(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function IC(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function k9(n,e){return e}class zn{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||k9}}let _f=null;function D9(n){return!k_(n)||n.length<2?n:IC(n)}function kC(){if(_f)return _f;const n=[];n.push(new zn("bucket")),n.push(new zn("generation")),n.push(new zn("metageneration")),n.push(new zn("name","fullPath",!0));function e(o,l){return D9(l)}const t=new zn("name");t.xform=e,n.push(t);function i(o,l){return l!==void 0?Number(l):l}const r=new zn("size");return r.xform=i,n.push(r),n.push(new zn("timeCreated")),n.push(new zn("updated")),n.push(new zn("md5Hash",null,!0)),n.push(new zn("cacheControl",null,!0)),n.push(new zn("contentDisposition",null,!0)),n.push(new zn("contentEncoding",null,!0)),n.push(new zn("contentLanguage",null,!0)),n.push(new zn("contentType",null,!0)),n.push(new zn("metadata","customMetadata",!0)),_f=n,_f}function M9(n,e){function t(){const i=n.bucket,r=n.fullPath,o=new gi(i,r);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function O9(n,e,t){const i={};i.type="file";const r=t.length;for(let o=0;o<r;o++){const l=t[o];i[l.local]=l.xform(i,e[l.server])}return M9(i,n),i}function DC(n,e,t){const i=NC(e);return i===null?null:O9(n,i,t)}function P9(n,e,t,i){const r=NC(e);if(r===null||!k_(r.downloadTokens))return null;const o=r.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(f=>{const p=n.bucket,_=n.fullPath,v="/b/"+l(p)+"/o/"+l(_),E=M_(v,t,i),S=SC({alt:"media",token:f});return E+S})[0]}function L9(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const o=e[r];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}class MC{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function OC(n){if(!n)throw I_()}function j9(n,e){function t(i,r){const o=DC(n,r,e);return OC(o!==null),o}return t}function V9(n,e){function t(i,r){const o=DC(n,r,e);return OC(o!==null),P9(o,r,n.host,n._protocol)}return t}function PC(n){function e(t,i){let r;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?r=XU():r=QU():t.getStatus()===402?r=KU(n.bucket):t.getStatus()===403?r=JU(n.path):r=i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}return e}function U9(n){const e=PC(n);function t(i,r){let o=e(i,r);return i.getStatus()===404&&(o=WU(n.path)),o.serverResponse=r.serverResponse,o}return t}function z9(n,e,t){const i=e.fullServerUrl(),r=M_(i,n.host,n._protocol),o="GET",l=n.maxOperationRetryTime,u=new MC(r,o,V9(n,t),l);return u.errorHandler=U9(e),u}function B9(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function F9(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=B9(null,e)),i}function H9(n,e,t,i,r){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function u(){let H="";for(let Y=0;Y<2;Y++)H=H+Math.random().toString().slice(2);return H}const d=u();l["Content-Type"]="multipart/related; boundary="+d;const f=F9(e,i,r),p=L9(f,t),_="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+d+`\r
Content-Type: `+f.contentType+`\r
\r
`,v=`\r
--`+d+"--",E=ca.getBlob(_,i,v);if(E===null)throw s9();const S={name:f.fullPath},A=M_(o,n.host,n._protocol),C="POST",M=n.maxUploadRetryTime,L=new MC(A,C,j9(n,t),M);return L.urlParams=S,L.headers=l,L.body=E.uploadData(),L.errorHandler=PC(e),L}class q9{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=wo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=wo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=wo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r,o){if(this.sent_)throw _u("cannot .send() more than once");if(Ma(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _u("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _u("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw _u("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _u("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class G9 extends q9{initXhr(){this.xhr_.responseType="text"}}function LC(){return new G9}class ko{constructor(e,t){this._service=e,t instanceof gi?this._location=t:this._location=gi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ko(e,t)}get root(){const e=new gi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return IC(this._location.path)}get storage(){return this._service}get parent(){const e=N9(this._location.path);if(e===null)return null;const t=new gi(this._location.bucket,e);return new ko(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw o9(e)}}function Y9(n,e,t){n._throwIfRoot("uploadBytes");const i=H9(n.storage,n._location,kC(),new ca(e,!0),t);return n.storage.makeRequestWithTokens(i,LC).then(r=>({metadata:r,ref:n}))}function $9(n){n._throwIfRoot("getDownloadURL");const e=z9(n.storage,n._location,kC());return n.storage.makeRequestWithTokens(e,LC).then(t=>{if(t===null)throw r9();return t})}function W9(n,e){const t=I9(n._location.path,e),i=new gi(n._location.bucket,t);return new ko(n.storage,i)}function K9(n){return/^[A-Za-z]+:\/\//.test(n)}function Q9(n,e){return new ko(n,e)}function jC(n,e){if(n instanceof O_){const t=n;if(t._bucket==null)throw i9();const i=new ko(t,t._bucket);return e!=null?jC(i,e):i}else return e!==void 0?W9(n,e):n}function X9(n,e){if(e&&K9(e)){if(n instanceof O_)return Q9(n,e);throw r0("To use ref(service, url), the first argument must be a Storage instance.")}else return jC(n,e)}function xT(n,e){const t=e?.[EC];return t==null?null:gi.makeFromBucketSpec(t,n)}function J9(n,e,t,i={}){n.host=`${e}:${t}`;const r=Ma(e);r&&(M0(`https://${n.host}/b`),O0("Storage",!0)),n._isUsingEmulator=!0,n._protocol=r?"https":"http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:QS(o,n.app.options.projectId))}class O_{constructor(e,t,i,r,o,l=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=wC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=YU,this._maxUploadRetryTime=$U,this._requests=new Set,r!=null?this._bucket=gi.makeFromBucketSpec(r,this._host):this._bucket=xT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gi.makeFromBucketSpec(this._url,e):this._bucket=xT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){vT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){vT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ko(this,e)}_makeRequest(e,t,i,r,o=!0){if(this._deleted)return new l9(TC());{const l=b9(e,this._appId,i,r,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,r).getPromise()}}const wT="@firebase/storage",ET="0.14.0";const VC="storage";function Z9(n,e,t){return n=Mt(n),Y9(n,e,t)}function ez(n){return n=Mt(n),$9(n)}function tz(n,e){return n=Mt(n),X9(n,e)}function nz(n=vm(),e){n=Mt(n);const i=bm(n,VC).getImmediate({identifier:e}),r=$S("storage");return r&&iz(i,...r),i}function iz(n,e,t,i={}){J9(n,e,t,i)}function sz(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new O_(t,i,r,e,Mo)}function rz(){Ao(new Ea(VC,sz,"PUBLIC").setMultipleInstances(!0)),Rs(wT,ET,""),Rs(wT,ET,"esm2020")}rz();const az=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oz=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),TT=n=>{const e=oz(n);return e.charAt(0).toUpperCase()+e.slice(1)},UC=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),lz=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var cz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const uz=B.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:o,iconNode:l,...u},d)=>B.createElement("svg",{ref:d,...cz,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:UC("lucide",r),...!o&&!lz(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,p])=>B.createElement(f,p)),...Array.isArray(o)?o:[o]]));const wr=(n,e)=>{const t=B.forwardRef(({className:i,...r},o)=>B.createElement(uz,{ref:o,iconNode:e,className:UC(`lucide-${az(TT(n))}`,`lucide-${n}`,i),...r}));return t.displayName=TT(n),t};const hz=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dz=wr("clock",hz);const fz=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ST=wr("external-link",fz);const mz=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],gz=wr("funnel",mz);const pz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],yz=wr("image",pz);const _z=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],bz=wr("lock",_z);const vz=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],xz=wr("play",vz);const wz=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ez=wr("search",wz);const Tz=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Sz=wr("star",Tz);const Az=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],AT=wr("users",Az),Cz=[{id:"course_01",title:"Estratgia Med",year:"2024",provider:"Drive",professorsCount:4,duration:"20h",rating:4.5,students:1970,progress:.48,level:"Avanado",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/Estrat%C3%A9gia%20MED/estrategiaMED.html",imageUrl:"https://devjvs.github.io/MedicinaJVS/Imagens/logo-estrategiamed.png"},{id:"course_02",title:"Medgrupo",year:"2024",provider:"Drive",professorsCount:3,duration:"18h",rating:4.7,students:2302,progress:0,level:"Bsico",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/Medgrupo/medgrupo.html",imageUrl:"https://devjvs.github.io/MedicinaJVS/Imagens/medgrupo-logo.jpg"},{id:"course_03",title:"Liberdade Mdica",year:"2024",provider:"Drive",professorsCount:3,duration:"16h",rating:4.7,students:2754,progress:.48,level:"Intermedirio",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/Liberdade%20M%C3%A9dica/liberdademedica.html",imageUrl:"https://devjvs.github.io/MedicinaJVS/Imagens/lm-logo.jpg"},{id:"course_04",title:"Raciocnio Clnico na Emergncia",year:"2024",provider:"Drive",professorsCount:3,duration:"19h",rating:4.8,students:2759,progress:.12,level:"Bsico",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/Dr%C2%BA.%20Eduardo%20Jo%C3%A3o/raciocinioEmerg%C3%AAncia.html",imageUrl:"https://devjvs.github.io/MedicinaJVS/Imagens/raciocinioClinicoEmergencia-logo.webp"},{id:"course_05",title:"Afya",year:"2024",provider:"Drive",professorsCount:3,duration:"19h",rating:4.7,students:1483,progress:0,level:"Avanado",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/Afya/afya.html",imageUrl:"https://devjvs.github.io/MedicinaJVS/Imagens/afya-logo.jpg"},{id:"course_06",title:"Neurofcil",year:"2024",provider:"Drive",professorsCount:4,duration:"8h",rating:4.7,students:982,progress:0,level:"Intermedirio",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/Neurof%C3%A1cil/neuroflix.html",imageUrl:"https://devjvs.github.io/MedicinaJVS/Imagens/neurofacil-logo.jpg"},{id:"course_07",title:"PS Zerado",year:"2024",provider:"Drive",professorsCount:1,duration:"17h",rating:4.8,students:1096,progress:0,level:"Bsico",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/PS%20Zerado/pszerado.html",imageUrl:"https://devjvs.github.io/MedicinaJVS/Imagens/pszerado-logo.jpg"},{id:"course_08",title:"Simm",year:"2024",provider:"Drive",professorsCount:2,duration:"10h",rating:5,students:1668,progress:.25,level:"Intermedirio",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/SIMM/simm.html",imageUrl:"https://devjvs.github.io/MedicinaJVS/Imagens/simm-logo.png"},{id:"course_09",title:"Emergncia - Dr. Ian Ward",year:"2024",provider:"Drive",professorsCount:4,duration:"17h",rating:4.6,students:657,progress:.12,level:"Bsico",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/Emerg%C3%AAncia%20-%20Dr.%20Ian%20Ward/emergenciaIanWard.html",imageUrl:"https://devjvs.github.io/MedicinaJVS/Imagens/ianward-logo.jpeg"},{id:"course_10",title:"Oftreview",year:"2024",provider:"Drive",professorsCount:3,duration:"20h",rating:4.6,students:1647,progress:0,level:"Intermedirio",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/OFTReview/oftreviewextensivo.html",imageUrl:"https://devjvs.github.io/MedicinaJVS/Imagens/oftreview-logo.jpg"},{id:"course_11",title:"Medreview",year:"2024",provider:"Drive",professorsCount:1,duration:"11h",rating:4.9,students:951,progress:.48,level:"Intermedirio",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/MEDReview/escolhermedreview.html",imageUrl:"https://devjvs.github.io/MedicinaJVS/Imagens/medreview-logo.png"},{id:"course_12",title:"T de Clinicagem",year:"2024",provider:"Drive",professorsCount:4,duration:"13h",rating:4.5,students:2715,progress:.48,level:"Bsico",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/T%C3%A1%20de%20Clinicagem/tdc.html",imageUrl:"https://devjvs.github.io/MedicinaJVS/Imagens/tdc-logo.jpg"},{id:"course_13",title:"Medcof",year:"2024",provider:"Drive",professorsCount:5,duration:"15h",rating:4.7,students:1070,progress:0,level:"Avanado",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/Medcof/medcofselecao.html",imageUrl:"https://devjvs.github.io/MedicinaJVS/Imagens/medcof-logo.jpg"},{id:"course_14",title:"Casal Medresumos",year:"2024",provider:"Drive",professorsCount:1,duration:"15h",rating:4.8,students:1369,progress:.48,level:"Avanado",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/CasalMED%20Resumos/casalMEDResumos.html",imageUrl:"https://devjvs.github.io/MedicinaJVS/Imagens/casalmedresumos-logo.jpg"},{id:"course_15",title:"Curso de Clnica Mdica Ambulatorial  4 Edio",year:"2024",provider:"Drive",professorsCount:2,duration:"10h",rating:4.9,students:2302,progress:.48,level:"Bsico",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/Cl%C3%ADnica%20M%C3%A9dica%20Ambulatorial%20%E2%80%93%20%204%C2%AA%20edi%C3%A7%C3%A3o/clinicaMedicaAmbulatorialIVEd.html",imageUrl:"https://devjvs.github.io/MedicinaJVS/Imagens/cma4edi-logo.webp"},{id:"course_16",title:"Curso de Clnica Mdica Ambulatorial - 3 Edio: Turma II",year:"2024",provider:"Drive",professorsCount:4,duration:"19h",rating:4.6,students:712,progress:0,level:"Avanado",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/Cl%C3%ADnica%20M%C3%A9dica%20Ambulatorial%20-%203%C2%AA%20Edi%C3%A7%C3%A3o%20-%20Turma%20II/clinicaMedicaAmbulatorial3EdTurmaII.html",imageUrl:"https://devjvs.github.io/MedicinaJVS/Imagens/cma3edi-logo.png"},{id:"course_17",title:"Cardiologia",year:"2024",provider:"Drive",professorsCount:4,duration:"9h",rating:4.9,students:2733,progress:.12,level:"Intermedirio",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/Cursos%20de%20Cardiologia/cursosCardiologia.html",imageUrl:"https://static.vecteezy.com/ti/vetor-gratis/p1/4212714-icone-cardiologia-coracao-gratis-vetor.jpg"},{id:"course_18",title:"Psiquiatria na Prtica",year:"2024",provider:"Drive",professorsCount:3,duration:"20h",rating:4.7,students:1285,progress:.12,level:"Avanado",tags:[],access:"granted",driveUrl:"https://medicinajvs.github.io/Medicina-JVS---Provis-rio/Psiquiatria%20na%20Prtica/escolherpsiquiatrianapratica.html",imageUrl:"https://psiqpratica.com.br/wp-content/uploads/2023/08/cropped-cropped-logo-psiquiatria-pratica_000.png"},{id:"course_19",title:"HCXFM-USP",year:"2024",provider:"Drive",professorsCount:2,duration:"13h",rating:4.9,students:511,progress:.25,level:"Intermedirio",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/HCXFM-USP/hcxfmUSP.html",imageUrl:"https://hcxfmusp.org.br/portal/wp-content/uploads/2024/03/logo-hcx-fmusp.png"},{id:"course_20",title:"Neuropost",year:"2024",provider:"Drive",professorsCount:4,duration:"12h",rating:4.5,students:1430,progress:.25,level:"Avanado",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/Neuropost/selecaoCurso.html",imageUrl:"https://i.scdn.co/image/ab67656300005f1f3be8ff55415861f93209dc5a"}];function Fu(...n){return n.filter(Boolean).join(" ")}function Rz(n){return`${Math.round((n||0)*100)}%`}function Nz(n){return typeof n!="number"?"":n>=1e3?`${(n/1e3).toFixed(1)}k`:String(n)}function Rl({children:n,tone:e="neutral"}){const t={neutral:"bg-slate-100 text-slate-700 border-slate-200",success:"bg-emerald-50 text-emerald-700 border-emerald-200",warning:"bg-amber-50 text-amber-800 border-amber-200",danger:"bg-rose-50 text-rose-700 border-rose-200",brand:"bg-blue-50 text-blue-700 border-blue-200"};return b.jsx("span",{className:Fu("inline-flex items-center gap-1 rounded-full border px-2 py-0.5 text-xs font-medium",t[e]),children:n})}function Iz({value:n}){const e=Math.max(0,Math.min(1,n||0));return b.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-100",children:b.jsx("div",{className:"h-full rounded-full bg-blue-600 transition-all",style:{width:`${e*100}%`}})})}function kz({src:n,alt:e,size:t="xl"}){const i=t==="sm"?"h-16 w-16":t==="md"?"h-20 w-20":t==="lg"?"h-24 w-24":"h-28 w-28";return b.jsx("div",{className:Fu("relative flex items-center justify-center overflow-hidden rounded-2xl border bg-white shadow-sm",i),children:n?b.jsx("img",{src:n,alt:e,className:"h-full w-full object-contain p-2",loading:"lazy"}):b.jsxs("div",{className:"flex flex-col items-center justify-center text-slate-400",children:[b.jsx(yz,{className:"h-6 w-6"}),b.jsx("span",{className:"mt-1 text-[11px]",children:"Imagem"})]})})}function Dz({course:n,onOpenCourse:e}){const t=n.access==="locked",i=n.access==="soon",r=(n.progress||0)>0,o=!!n.driveUrl&&!t&&!i;return b.jsxs("div",{className:Fu("group relative overflow-hidden rounded-2xl border bg-white shadow-sm transition","hover:-translate-y-0.5 hover:shadow-lg",t&&"opacity-95"),children:[b.jsxs("div",{className:"p-4",children:[b.jsxs("div",{className:"flex items-start gap-4",children:[b.jsx(kz,{src:n.imageUrl,alt:n.title,size:"xl"}),b.jsxs("div",{className:"min-w-0 flex-1",children:[b.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.year&&b.jsx(Rl,{tone:"neutral",children:n.year}),n.level&&b.jsx(Rl,{tone:"neutral",children:n.level}),t&&b.jsx(Rl,{tone:"danger",children:"Bloqueado"}),i&&b.jsx(Rl,{tone:"warning",children:"Em breve"}),!t&&!i&&b.jsx(Rl,{tone:"success",children:"Liberado"})]}),b.jsx("h3",{className:"mt-3 line-clamp-2 text-base font-semibold text-slate-900",children:n.title}),b.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-3 text-xs text-slate-600",children:[n.provider&&b.jsx("span",{className:"inline-flex items-center gap-1",children:b.jsx("span",{className:"font-medium",children:n.provider})}),typeof n.professorsCount=="number"&&b.jsxs("span",{className:"inline-flex items-center gap-1",children:[b.jsx(AT,{className:"h-4 w-4"}),n.professorsCount," prof."]}),n.duration&&b.jsxs("span",{className:"inline-flex items-center gap-1",children:[b.jsx(dz,{className:"h-4 w-4"}),n.duration]}),typeof n.rating=="number"&&b.jsxs("span",{className:"inline-flex items-center gap-1",children:[b.jsx(Sz,{className:"h-4 w-4"}),n.rating]}),typeof n.students=="number"&&b.jsxs("span",{className:"inline-flex items-center gap-1",children:[b.jsx(AT,{className:"h-4 w-4"}),Nz(n.students)," alunos"]})]}),!!(n.tags||[]).length&&b.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:(n.tags||[]).slice(0,3).map(l=>b.jsx(Rl,{tone:"neutral",children:l},l))})]})]}),b.jsxs("div",{className:"mt-4",children:[b.jsxs("div",{className:"mb-2 flex items-center justify-between text-xs text-slate-600",children:[b.jsx("span",{children:"Progresso"}),b.jsx("span",{className:"font-medium",children:Rz(n.progress)})]}),b.jsx(Iz,{value:n.progress})]}),b.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[b.jsx("button",{onClick:()=>!t&&!i&&e?.(n),disabled:t||i,className:Fu("inline-flex flex-1 items-center justify-center gap-2 rounded-xl px-3 py-2 text-sm font-semibold transition",t||i?"cursor-not-allowed bg-slate-100 text-slate-400":"bg-blue-600 text-white hover:bg-blue-700"),children:t?b.jsxs(b.Fragment,{children:[b.jsx(bz,{className:"h-4 w-4"}),"Bloqueado"]}):b.jsxs(b.Fragment,{children:[b.jsx(xz,{className:"h-4 w-4"}),r?"Continuar":"Acessar curso"]})}),o?b.jsxs("a",{href:n.driveUrl,target:"_blank",rel:"noopener noreferrer",className:Fu("inline-flex items-center justify-center gap-2 rounded-xl border px-3 py-2 text-sm font-semibold transition","border-slate-200 bg-white text-slate-700 hover:bg-slate-50"),title:"Abrir no Drive",children:[b.jsx(ST,{className:"h-4 w-4"}),"Drive"]}):b.jsxs("button",{type:"button",disabled:!0,className:"inline-flex items-center justify-center gap-2 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-300",title:"Drive indisponvel (curso no liberado)",children:[b.jsx(ST,{className:"h-4 w-4"}),"Drive"]})]}),(t||i)&&b.jsx("p",{className:"mt-3 text-xs text-slate-500",children:t?"Este curso est bloqueado. Libere o acesso para continuar.":"Contedo em preparao. Voc ser avisado quando liberar."})]}),b.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-2xl ring-0 ring-blue-500/15 transition group-hover:ring-4"})]})}function Mz({courses:n=Cz,onOpenCourse:e,title:t="Meus Cursos",subtitle:i="Todos os dados do card so dinmicos (20 cursos no mock)."}){const[r,o]=B.useState(""),[l,u]=B.useState("all"),[d,f]=B.useState("recent"),p=B.useMemo(()=>{const _=(n||[]).filter(S=>(S.title||"").toLowerCase().includes(r.trim().toLowerCase()));return[...l==="all"?_:_.filter(S=>S.access===l)].sort((S,A)=>d==="rating"?(A.rating||0)-(S.rating||0):d==="progress"?(A.progress||0)-(S.progress||0):0)},[n,r,l,d]);return b.jsxs("div",{className:"w-full",children:[b.jsxs("div",{className:"mb-6 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-bold text-slate-900",children:t}),b.jsx("p",{className:"text-sm text-slate-600",children:i})]}),b.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[b.jsxs("div",{className:"relative",children:[b.jsx(Ez,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),b.jsx("input",{value:r,onChange:_=>o(_.target.value),placeholder:"Buscar curso...",className:"w-full rounded-xl border bg-white py-2 pl-9 pr-3 text-sm outline-none transition focus:ring-4 focus:ring-blue-500/10 sm:w-64"})]}),b.jsxs("div",{className:"inline-flex items-center gap-2",children:[b.jsx(gz,{className:"h-4 w-4 text-slate-500"}),b.jsxs("select",{value:l,onChange:_=>u(_.target.value),className:"rounded-xl border bg-white px-3 py-2 text-sm outline-none transition focus:ring-4 focus:ring-blue-500/10",children:[b.jsx("option",{value:"all",children:"Todos"}),b.jsx("option",{value:"granted",children:"Liberados"}),b.jsx("option",{value:"locked",children:"Bloqueados"}),b.jsx("option",{value:"soon",children:"Em breve"})]})]}),b.jsxs("select",{value:d,onChange:_=>f(_.target.value),className:"rounded-xl border bg-white px-3 py-2 text-sm outline-none transition focus:ring-4 focus:ring-blue-500/10",children:[b.jsx("option",{value:"recent",children:"Ordenar: padro"}),b.jsx("option",{value:"rating",children:"Ordenar: avaliao"}),b.jsx("option",{value:"progress",children:"Ordenar: progresso"})]})]})]}),b.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:p.map(_=>b.jsx(Dz,{course:_,onOpenCourse:e},_.id))}),p.length===0&&b.jsx("div",{className:"mt-10 rounded-2xl border bg-white p-8 text-center",children:b.jsx("p",{className:"text-sm text-slate-600",children:"Nenhum curso encontrado."})})]})}const pi=n=>{const e="/entrar/",t=e.endsWith("/")?e:e+"/",i=n.startsWith("/")?n.slice(1):n;return t+i},Pn="pages/institucional";function bf({to:n,newTab:e=!1}){return B.useEffect(()=>{const t=pi(n);e?window.open(t,"_blank","noopener,noreferrer"):window.location.assign(t)},[n,e]),null}function Oz(){return b.jsxs("div",{className:"min-h-screen bg-slate-50",children:[b.jsx("style",{children:P_}),b.jsx("div",{className:"w-full bg-white border-b border-slate-200",children:b.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"h-9 w-9 rounded-xl bg-blue-600 flex items-center justify-center text-white font-bold",children:"M"}),b.jsx("div",{className:"font-semibold text-slate-800",children:"Medicina JVS"})]}),b.jsx(Lf,{to:"/entrar",className:"text-sm text-blue-700 hover:underline",children:"Entrar"})]})}),b.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-10",children:[b.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-3",children:"Plataforma de estudos e organizao para medicina"}),b.jsx("p",{className:"text-slate-600 max-w-3xl",children:"Organize seus cursos, aulas, materiais e flashcards em um s lugar. Voc tambm pode integrar sua agenda de estudos com o Google Calendar para planejar revises e compromissos."}),b.jsxs("div",{className:"mt-8 grid gap-4 md:grid-cols-2",children:[b.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6 shadow-sm",children:[b.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Integrao com Google Calendar"}),b.jsx("p",{className:"text-slate-600 text-sm",children:"A integrao permite que o usurio visualize e/ou crie eventos relacionados ao planejamento de estudos (por exemplo: sesses de reviso, simulados e metas). Voc pode revogar o acesso a qualquer momento nas configuraes da sua Conta Google."})]}),b.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6 shadow-sm",children:[b.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Links institucionais"}),b.jsx("p",{className:"text-slate-600 text-sm",children:"Para mais detalhes sobre o app, consulte as pginas pblicas abaixo:"}),b.jsxs("div",{className:"mt-4 flex flex-wrap gap-3 text-sm",children:[b.jsx("a",{className:"text-blue-700 hover:underline",href:pi(`${Pn}/politicaPrivacidade.html`),target:"_blank",rel:"noreferrer",children:"Privacidade"}),b.jsx("a",{className:"text-blue-700 hover:underline",href:pi(`${Pn}/termosUso.html`),target:"_blank",rel:"noreferrer",children:"Termos"}),b.jsx("a",{className:"text-blue-700 hover:underline",href:pi(`${Pn}/suporte.html`),target:"_blank",rel:"noreferrer",children:"Suporte"}),b.jsx("a",{className:"text-blue-700 hover:underline",href:pi(`${Pn}/cookies.html`),target:"_blank",rel:"noreferrer",children:"Cookies"})]})]})]}),b.jsx("div",{className:"mt-10",children:b.jsx(Lf,{to:"/entrar",className:"inline-flex items-center justify-center rounded-xl bg-blue-600 px-5 py-3 text-white font-semibold shadow-sm hover:bg-blue-700",children:"Acessar / Entrar"})})]}),b.jsx(j_,{})]})}const P_=`
  @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap');

  body.login-mode {
      margin: 0;
      padding: 0;
      height: 100vh;
      width: 100vw;
      font-family: 'Plus Jakarta Sans', sans-serif;
      background-color: #f8fafc;
      overflow: hidden;
  }

  /* Garante que o template do Vite no limite largura no Login */
  body.login-mode #root {
      width: 100%;
      max-width: none !important;
      margin: 0 !important;
      padding: 0 !important;
  }

  .bg-grid-pattern {
      background-image: radial-gradient(#cbd5e1 1px, transparent 1px);
      background-size: 24px 24px;
  }

  @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.95); }
      to { opacity: 1; transform: scale(1); }
  }
  .animate-fade-in { animation: fadeIn 0.5s ease-out forwards; }
    
  .text-medical-600 { color: #0d9488; }
  .text-medical-500 { color: #14b8a6; }
  .bg-medical-600 { background-color: #0d9488; }
  .bg-medical-500 { background-color: #14b8a6; }
  .border-medical-500 { border-color: #14b8a6; }
  .hover:bg-medical-700:hover { background-color: #0f766e; }
  .focus:ring-medical-500/20:focus { --tw-ring-color: rgb(20 184 166 / 0.2); }
`,Pz=`
  html, body, #root { height: 100%; width: 100%; }
  #root { max-width: none !important; margin: 0 !important; padding: 0 !important; }
  html body { background: #f8fafc !important; }
  /* ==== FORA FUNDO CLARO EM TUDO (mata o "preto atrs") ==== */
html, body, #root {
  width: 100%;
  min-height: 100%;
  background: #f8fafc !important; /* mesmo fundo do site */
}

/* Evita qualquer "transparncia" em wrappers */
.main-layout-wrapper,
#app-shell,
.app-shell,
.dashboard-shell,
main {
  background: #f8fafc !important;
}

`,Lz=`
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');

  @keyframes slideUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
  }
  .animate-slide-up { animation: slideUp 0.8s ease-out forwards; }

  .coming-soon-fixed {
      position: fixed;
      top: 0; 
      right: 0;
      bottom: 0; 
      z-index: 40; 
      background-color: #f8fafc; 
      width: calc(100% - 6.5rem); 
      transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      overflow-y: auto;
  }

  body.sidebar-expanded .coming-soon-fixed {
      width: calc(100% - 16rem);
  }
`,jz=`
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

  body.dashboard-mode {
      font-family: 'Inter', sans-serif;
      background-color: #f8fafc;
      color: #334155;
      margin: 0;
      padding: 0;
      overflow-x: hidden;
  }

  /* Garante que o template do Vite no limite largura no Dashboard */
  body.dashboard-mode #root {
      width: 100%;
      max-width: none !important;
      margin: 0 !important;
      padding: 0 !important;
  }


  /* SIDEBAR DINMICA */
  #sidebar {
      position: fixed; 
      top: 0; 
      left: 0; 
      z-index: 60;
      width: 6.5rem;
      height: 100vh;
      background-color: white;
      border-right: 1px solid #e2e8f0;
      transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1); 
  }
    
  body.sidebar-expanded #sidebar { 
      width: 16rem; 
  }

  /* LAYOUT WRAPPER */
  .main-layout-wrapper {
      position: relative;
      margin-left: 6.5rem;
      width: calc(100% - 6.5rem);
      min-height: 100vh;
      background-color: #f8fafc;
      display: flex;
      flex-direction: column;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  body.sidebar-expanded .main-layout-wrapper { 
      margin-left: 16rem; 
      width: calc(100% - 16rem);
  }

  .dashboard-header {
      position: fixed;
      top: 0;
      right: 0;
      z-index: 50;
      background-color: white;
      border-bottom: 1px solid #e2e8f0;
      box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
      width: calc(100% - 6.5rem); 
      transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  body.sidebar-expanded .dashboard-header {
      width: calc(100% - 16rem);
  }

  #sidebar .sidebar-link-text, #sidebar .logo-text {
      opacity: 0; transform: translateX(-10px);
      transition: opacity 0.2s ease-in-out, transform 0.2s ease-in-out;
      pointer-events: none; white-space: nowrap; width: 0; overflow: hidden;
  }
  body.sidebar-expanded #sidebar .sidebar-link-text, body.sidebar-expanded #sidebar .logo-text {
      opacity: 1; transform: translateX(0); pointer-events: auto; width: auto;
  }
    
  .sidebar-link {
      display: flex; align-items: center; padding: 0.75rem; width: 100%;
      border-radius: 0.75rem; justify-content: center;
      color: #64748b;
      text-decoration: none;
  }
  body.sidebar-expanded .sidebar-link { justify-content: flex-start; }
    
  .sidebar-link .icon-container {
      display: flex; align-items: center; justify-content: center;
      min-width: 2.5rem; min-height: 2.5rem; border-radius: 0.5rem;
      transition: background-color 0.2s ease, color 0.2s ease;
  }
  .sidebar-link svg { stroke: currentColor; fill: none; transition: all 0.2s ease; }
    
  .sidebar-link.active .icon-container { background-color: #0d9488; color: white; }
  .sidebar-link.active svg { stroke: white; }
  body.sidebar-expanded .sidebar-link.active { background-color: #0d9488; color: white; }
  body.sidebar-expanded .sidebar-link.active .icon-container { background-color: transparent; }
    
  .sidebar-link:hover .icon-container { background-color: #ccfbf1; color: #0f766e; }
  .sidebar-link:hover svg { stroke: currentColor; }
  body.sidebar-expanded .sidebar-link:hover { background-color: #ccfbf1; color: #0f766e; }
  body.sidebar-expanded .sidebar-link:hover .icon-container { background-color: transparent; }
    
  .sidebar-scrollable { scrollbar-width: thin; scrollbar-color: #cbd5e1 transparent; }
  .sidebar-scrollable::-webkit-scrollbar { width: 6px; }
  .sidebar-scrollable::-webkit-scrollbar-track { background: transparent; }
  .sidebar-scrollable::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 10px; }

  /* Elementos de UI do Dashboard */
  .filter-input {
      appearance: none; -webkit-appearance: none; background-color: white;
      border: 1px solid transparent;
      border-radius: 0.5rem; padding: 0.625rem 1rem;
      font-size: 0.875rem; color: #475569; 
      box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
      transition: all 0.2s ease;
  }
  .filter-input:hover { background-color: #f8fafc; } 
  .filter-input:focus { outline: none; box-shadow: 0 0 0 2px rgb(59 130 246 / 0.1); background-color: white; }
    
  .view-toggle-button {
      background-color: white; border: 1px solid transparent; padding: 0.625rem;
      border-radius: 0.5rem; color: #94a3b8; transition: all 0.2s ease;
  }
  .view-toggle-button.active { color: #3b82f6; background-color: #eff6ff; }
    
  .custom-select-panel { 
      max-height: 250px; overflow-y: auto; 
      box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1); 
      border: 1px solid #f1f5f9; 
  }
    
  #autocomplete-list { 
      max-height: 250px; overflow-y: auto; 
      border: 1px solid #f1f5f9; 
      box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1); 
  }
  #autocomplete-list div:hover { background-color: #f8fafc; }

  /* Estilos especficos da rea de Conta */
  .tag-button {
      padding: 0.5rem 1rem;
      border-radius: 9999px;
      border: 1px solid #e5e7eb;
      background-color: white;
      color: #374151;
      font-size: 0.875rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
  }
  .tag-button:hover { background-color: #f9fafb; border-color: #d1d5db; }
  .tag-button.active { background-color: #eff6ff; color: #2563eb; border-color: #2563eb; }

  .form-label { display: block; font-size: 0.75rem; font-weight: 600; color: #374151; margin-bottom: 0.5rem; text-transform: uppercase; letter-spacing: 0.05em; }
  .form-input { display: block; width: 100%; border-radius: 0.5rem; border: 1px solid #d1d5db; padding: 0.75rem; font-size: 0.875rem; color: #111827; transition: border-color 0.2s; }
  .form-input:focus { outline: none; border-color: #2563eb; ring: 2px solid #eff6ff; }
  .input-with-icon { position: relative; }
  .input-with-icon input { padding-right: 2.5rem; }
  .input-with-icon i { position: absolute; right: 1rem; top: 50%; transform: translateY(-50%); color: #9ca3af; }

  .btn-primary {
      background-color: #0d9488;
      color: white;
      padding: 0.75rem 1.5rem;
      border-radius: 0.5rem;
      font-weight: 600;
      font-size: 0.875rem;
      border: none;
      cursor: pointer;
      transition: background-color 0.2s;
      box-shadow: 0 1px 2px rgba(0,0,0,0.1);
  }
  .btn-primary:hover {
      background-color: #0f766e;
  }

  .btn-secondary {
      background-color: white;
      color: #64748b;
      padding: 0.75rem 1.5rem;
      border-radius: 0.5rem;
      font-weight: 600;
      font-size: 0.875rem;
      border: 1px solid #e2e8f0; 
      cursor: pointer;
      transition: all 0.2s;
  }
  .btn-secondary:hover {
      background-color: #f8fafc;
      color: #334155;
      border-color: #cbd5e1;
  }
`;function Vz({label:n="Iniciando"}){const[e,t]=B.useState(0),[i,r]=B.useState(n);return B.useEffect(()=>{const o=document.body.style.overflow;document.body.style.overflow="hidden";let l=0;const u=setInterval(()=>{l+=Math.random()*4,l>=100?(l=100,t(100),r("Bem-vindo"),clearInterval(u)):t(l)},50);return()=>{clearInterval(u),document.body.style.overflow=o||"auto"}},[]),b.jsxs("div",{id:"loader-wrapper",className:"fixed inset-0 z-[9999] flex flex-col items-center justify-center bg-slate-50",children:[b.jsx("style",{children:`
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;500;600;700&display=swap');
        :root { --medical-primary: #0ea5e9; --medical-dark: #0f172a; }
        #loader-wrapper { font-family: 'Plus Jakarta Sans', sans-serif; }
        .glass-card {
          background: rgba(255, 255, 255, 0.7);
          backdrop-filter: blur(20px);
          -webkit-backdrop-filter: blur(20px);
          border: 1px solid rgba(255, 255, 255, 0.8);
          box-shadow: 0 20px 50px -12px rgba(14, 165, 233, 0.15);
          padding: 3rem 4rem;
          border-radius: 2rem;
          display: flex;
          flex-direction: column;
          align-items: center;
          position: relative;
        }
        .logo-text {
          font-size: 2.5rem;
          font-weight: 800;
          background: linear-gradient(135deg, #0f172a 30%, #0ea5e9 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          margin-bottom: 2rem;
          letter-spacing: -0.02em;
        }
        .ecg-container { width: 240px; height: 80px; position: relative; }
        .ecg-svg { width: 100%; height: 100%; overflow: visible; }
        .ecg-bg {
          fill: none; stroke: #cbd5e1; stroke-width: 2; stroke-opacity: 0.3;
          stroke-linecap: round; stroke-linejoin: round;
        }
        .ecg-line {
          fill: none; stroke: #0ea5e9; stroke-width: 3;
          stroke-linecap: round; stroke-linejoin: round;
          stroke-dasharray: 600; stroke-dashoffset: 600;
          animation: ecgDash 2.5s infinite linear;
          filter: drop-shadow(0 0 6px rgba(14, 165, 233, 0.6));
        }
        @keyframes ecgDash { 0% { stroke-dashoffset: 600; } 50% { stroke-dashoffset: 0; } 100% { stroke-dashoffset: -600; } }
        .loading-info { display: flex; flex-direction: column; align-items: center; width: 100%; margin-top: 1.5rem; }
        .loading-label {
          font-size: 0.75rem; font-weight: 600; text-transform: uppercase;
          letter-spacing: 0.15em; color: #64748b; margin-bottom: 0.75rem;
        }
        .progress-track { width: 180px; height: 6px; background: #f1f5f9; border-radius: 10px; overflow: hidden; }
        .progress-bar { height: 100%; background: linear-gradient(90deg, #0ea5e9, #38bdf8); width: 0%; border-radius: 10px; transition: width 0.1s linear; }
        .ambient-light { position: absolute; border-radius: 50%; filter: blur(80px); opacity: 0.6; animation: floatAmbient 10s infinite ease-in-out alternate; pointer-events:none; }
        .orb-1 { top: -10%; left: -10%; width: 50vw; height: 50vw; background: radial-gradient(circle, #bae6fd 0%, transparent 70%); }
        .orb-2 { bottom: -10%; right: -10%; width: 60vw; height: 60vw; background: radial-gradient(circle, #e0f2fe 0%, transparent 70%); }
        @keyframes floatAmbient { to { transform: translate(30px, 30px); } }
      `}),b.jsx("div",{className:"ambient-light orb-1"}),b.jsx("div",{className:"ambient-light orb-2"}),b.jsxs("div",{className:"glass-card",children:[b.jsx("div",{className:"logo-text",children:"MEDJVS"}),b.jsx("div",{className:"ecg-container",children:b.jsxs("svg",{className:"ecg-svg",viewBox:"0 0 300 100","aria-hidden":"true",children:[b.jsx("defs",{children:b.jsx("path",{id:"ecgPath",d:"M0,50 L40,50 L55,50 L65,20 L80,80 L95,50 L120,50 L130,30 L140,60 L150,50 L300,50"})}),b.jsx("use",{href:"#ecgPath",className:"ecg-bg"}),b.jsx("use",{href:"#ecgPath",className:"ecg-line"}),b.jsx("circle",{fill:"#38bdf8",r:"4",style:{filter:"drop-shadow(0 0 8px rgba(56,189,248,0.9))"},children:b.jsx("animateMotion",{dur:"2.5s",repeatCount:"indefinite",rotate:"auto",children:b.jsx("mpath",{href:"#ecgPath"})})})]})}),b.jsxs("div",{className:"loading-info",children:[b.jsx("div",{className:"loading-label",children:i}),b.jsx("div",{className:"progress-track",children:b.jsx("div",{className:"progress-bar",style:{width:`${e}%`}})})]})]})]})}const Uz=[{id:1,title:"Atualizaes Para Residncia Mdica e Revalida",category:"Reviso",specialty:"",teachers:"4 Professores",driveLink:"https://drive.google.com/drive/folders/1eGQPdQ1_CojEh6L0CTveZsQAPn_CG1oS?usp=drive_link",image:"Imagens/logo-estrategiamed.png",url:""},{id:2,title:"Cardiologia",category:"2024",specialty:"",teachers:"7 Professores",driveLink:"https://drive.google.com/drive/folders/166yD5_xofQdFSzA5-E7d7PLjQjE12wd9?usp=drive_link",image:"Imagens/medgrupo-logo.jpg",url:""},{id:3,title:"Cirurgia",category:"2024",specialty:"",teachers:"9 Professores",driveLink:"https://drive.google.com/drive/folders/1BDVRDqPwgWlPsqzlR2ERtIftb2fwNYgi?usp=drive_link",image:"Imagens/lm-logo.jpg",url:""},{id:4,title:"Cronograma e Guias Estatsticos",category:"Guia",specialty:"",teachers:"Dr. Eduardo Joo",driveLink:"https://drive.google.com/drive/folders/1ZNplTcdvkess8oPOxkUCyR_IjZrkf9oC?usp=drive_link",image:"Imagens/raciocinioClinicoEmergencia-logo.webp",url:""},{id:5,title:"Curso Multimdia e Radiologia (Bnus)",category:"Bnus",specialty:"",teachers:"2 Professores",driveLink:"https://drive.google.com/drive/folders/1qOULSLrAGEqCm4vRZoN-lYFI4NZrF1qo?usp=drive_link",image:"Imagens/afya-logo.jpg",url:""},{id:6,title:"Dermatologia",category:"2024",specialty:"",teachers:"3 Professores",driveLink:"https://drive.google.com/drive/folders/1dp2EH-kNM5NPYeaTyJNP2YBXEQ6eXbXy?usp=drive_link",image:"Imagens/neurofacil-logo.jpg",url:""},{id:7,title:"Ginecologia",category:"2024",specialty:"",teachers:"6 Professores",driveLink:"https://drive.google.com/drive/folders/1oy1MOL3X9Vy2WTOspbPZc1x9anym6d8P?usp=drive_link",image:"Imagens/pszerado-logo.jpg",url:""},{id:8,title:"Endocrinologia",category:"2024",specialty:"",teachers:"4 Professores",driveLink:"https://drive.google.com/drive/folders/15fz3Faks8MrYDRwmqxs3-GEIBZ8HLFyJ?usp=drive_link",image:"Imagens/simm-logo.png",url:""},{id:9,title:"Hematologia",category:"2024",specialty:"",teachers:"3 Professores",driveLink:"https://drive.google.com/drive/folders/1dgaEtPzHrCDY7Rcq3st7vmtPGbkKeAy8?usp=drive_link",image:"Imagens/ianward-logo.jpeg",url:""},{id:10,title:"Hepatologia",category:"2024",specialty:"",teachers:"2 Professores",driveLink:"https://drive.google.com/drive/folders/18_JCUHK2y-x7sxNkknK-u1PTo1AO5lFF?usp=drive_link",image:"Imagens/oftreview-logo.jpg",url:""},{id:11,title:"Medicina Preventiva",category:"2024",specialty:"",teachers:"4 Professores",driveLink:"https://drive.google.com/drive/folders/1MysKJnL8jR1GqZrEpJwKoYAN7Qdc9JDM?usp=drive_link",image:"Imagens/medreview-logo.png",url:""},{id:12,title:"Infectologia",category:"2024",specialty:"",teachers:"5 Professores",driveLink:"https://drive.google.com/drive/folders/1AcoBsbnlP4mX2ygoOMjFfqHuYNLpK2vi?usp=drive_link",image:"Imagens/tdc-logo.jpg",url:""},{id:13,title:"Gastroenterologia",category:"2024",specialty:"",teachers:"5 Professores",driveLink:"https://drive.google.com/drive/folders/1Z_vpQfOZLkyGu3NMaz82C1pLLPfTvcC0?usp=drive_link",image:"Imagens/medcof-logo.jpg",url:""},{id:14,title:"Obstetrcia",category:"2024",specialty:"",teachers:"2 Professores",driveLink:"https://drive.google.com/drive/folders/1RJABk5JK75LCIC735K1n56kPI3gWeaTd?usp=drive_link",image:"Imagens/casalmedresumos-logo.jpg",url:""},{id:15,title:"Nefrologia",category:"2024",specialty:"",teachers:"3 Professores",driveLink:"https://drive.google.com/drive/folders/1to463vVYk9DB7sX--hLIblY7TQkgIL3j?usp=drive_link",image:"Imagens/cma4edi-logo.webp",url:""},{id:16,title:"Neurologia",category:"2024",specialty:"",teachers:"5 Professores",driveLink:"https://drive.google.com/drive/folders/1Skrz3DbqeEUayGbq-tJjGwFGSVpY1pqm?usp=drive_link",image:"Imagens/cma3edi-logo.png",url:""},{id:17,title:"Oftalmologia",category:"2024",specialty:"",teachers:"2 Professores",driveLink:"#",image:"Imagens/cardiologia-logo.jpg",url:""},{id:18,title:"Pediatria",category:"2024",specialty:"",teachers:"2 Professores",driveLink:"https://drive.google.com/drive/folders/1gHzWvFPJvqFmzUTf_vleEFLQVaolGv1P?usp=drive_link",image:"Imagens/psiquiatria-pratica-logo.png",url:""},{id:19,title:"Pneumologia",category:"2024",specialty:"",teachers:"3 Professores",driveLink:"https://drive.google.com/drive/folders/1A39rmG1Km6xoprTdUJROWypgDoeVsGhA?usp=drive_link",image:"Imagens/hcx-logo.png",url:""},{id:20,title:"Psiquiatria",category:"2025",specialty:"",teachers:"4 Professores",driveLink:"https://drive.google.com/drive/folders/1fvmXJ26JgIURuZDvY7AGtsuBk2qaLW0t?usp=drive_link",image:"Imagens/neuropost-logo.jpg",url:""}],zz={apiKey:"AIzaSyAHrOwcOuEp4uaQpq6ntmw3d0O3zsv1QU8",authDomain:"medicinajvs-e6f81.firebaseapp.com",projectId:"medicinajvs-e6f81",storageBucket:"medicinajvs-e6f81.firebasestorage.app",messagingSenderId:"550614193077",appId:"1:550614193077:web:ec11fe90db0d7d3a33bffc",measurementId:"G-RFF2NCK5F5"},L_=JL().length?vm():ZS(zz),uh=S5(L_),Hl=kU(L_),Bz=nz(L_),Bn=(n="")=>n.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim(),j_=()=>b.jsx("footer",{className:"w-full mt-12 border-t border-slate-200 bg-white",children:b.jsx("div",{className:"max-w-6xl mx-auto px-4 py-8",children:b.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center md:justify-between gap-6 text-center",children:[b.jsxs("div",{className:"text-sm text-slate-500",children:[b.jsx("span",{className:"font-semibold text-slate-700",children:"Medicina JVS"}),"  Estudos mdicos com foco em prtica e performance.",b.jsxs("div",{className:"mt-1 text-xs text-slate-400",children:[" ",new Date().getFullYear()," Medicina JVS. Todos os direitos reservados."]})]}),b.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-6 text-sm",children:[b.jsx("a",{href:pi(`${Pn}/suporte.html`),className:"text-slate-600 hover:text-slate-900",target:"_blank",rel:"noreferrer",children:"Suporte"}),b.jsx("a",{href:pi(`${Pn}/politicaPrivacidade.html`),className:"text-slate-600 hover:text-slate-900",target:"_blank",rel:"noreferrer",children:"Privacidade"}),b.jsx("a",{href:pi(`${Pn}/termosUso.html`),className:"text-slate-600 hover:text-slate-900",target:"_blank",rel:"noreferrer",children:"Termos"}),b.jsx("a",{href:pi(`${Pn}/cookies.html`),className:"text-slate-600 hover:text-slate-900",target:"_blank",rel:"noreferrer",children:"Cookies"})]}),b.jsxs("div",{className:"text-sm text-slate-500",children:[b.jsx("div",{className:"font-semibold text-slate-700",children:"Contato"}),b.jsx("div",{className:"text-slate-600",children:"suporte@medicinajvs.com"})]})]})})}),Fz=()=>{const[n,e]=B.useState({days:0,hours:0,minutes:0,seconds:0});B.useEffect(()=>{const i="medjvs_launchAtMs";let r=Number(localStorage.getItem(i)||0);(!r||Number.isNaN(r))&&(r=Date.now()+360*60*60*1e3,localStorage.setItem(i,String(r)));const o=()=>{const u=r-Date.now();if(u<=0){e({days:0,hours:0,minutes:0,seconds:0});return}const d=Math.floor(u/(1e3*60*60*24)),f=Math.floor(u%(1e3*60*60*24)/(1e3*60*60)),p=Math.floor(u%(1e3*60*60)/(1e3*60)),_=Math.floor(u%(1e3*60)/1e3);e({days:d,hours:f,minutes:p,seconds:_})};o();const l=setInterval(o,1e3);return()=>clearInterval(l)},[]);const t=i=>i<10?`0${i}`:i;return b.jsxs("div",{className:"coming-soon-fixed font-sans text-slate-800 flex flex-col min-h-screen bg-slate-50 pt-24",children:[b.jsx("style",{children:Lz}),b.jsx("main",{className:"flex-grow flex items-center justify-center p-4 relative w-full",children:b.jsxs("div",{className:"z-10 w-full max-w-3xl text-center space-y-8 animate-slide-up",children:[b.jsx("div",{className:"mb-8",children:b.jsx("span",{className:"inline-block py-1 px-3 rounded-full bg-blue-100 text-blue-700 text-sm font-semibold tracking-wider border border-blue-200",children:"NOVAS EXPERINCIAS"})}),b.jsx("h1",{className:"text-5xl md:text-7xl font-bold tracking-tight text-slate-800 pb-2",children:"Em Breve"}),b.jsx("p",{className:"text-lg md:text-xl text-slate-500 max-w-2xl mx-auto leading-relaxed",children:"Estamos a trabalhar arduamente nos bastidores para criar algo incrvel para si. O nosso novo site ser lanado muito em breve."}),b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-2xl mx-auto py-8",children:["Dias","Horas","Minutos","Segundos"].map((i,r)=>{const o=[n.days,n.hours,n.minutes,n.seconds][r];return b.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-4 flex flex-col items-center justify-center hover:shadow-lg transition duration-300",children:[b.jsx("span",{className:`text-3xl md:text-4xl font-bold mb-1 ${r===3?"text-blue-600":"text-slate-800"}`,children:t(o)}),b.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-widest font-semibold",children:i})]},i)})})]})}),b.jsx(j_,{})]})},Hz=()=>{const n=dh(),[e,t]=B.useState(""),[i,r]=B.useState(""),[o,l]=B.useState(!1),[u,d]=B.useState(!1),[f,p]=B.useState({show:!1,message:"",type:"success"});B.useEffect(()=>(document.body.classList.add("login-mode"),document.body.classList.remove("dashboard-mode"),document.body.classList.remove("sidebar-expanded"),()=>{document.body.classList.remove("login-mode")}),[]);const _=(S,A="success")=>{p({show:!0,message:S,type:A}),setTimeout(()=>p(C=>({...C,show:!1})),4e3)},v=async S=>{S.preventDefault(),d(!0);try{const C=(await hV(uh,e.trim(),i)).user;if(!C.emailVerified){await AA(C),_("Enviamos um e-mail de verificao. Verifique sua caixa de entrada.","success"),n("/verifique-email",{replace:!0});return}n("/app",{replace:!0})}catch(A){const C=A?.code==="auth/invalid-credential"?"Email ou senha invlidos.":A?.code==="auth/user-not-found"?"Usurio no encontrado.":A?.code==="auth/too-many-requests"?"Muitas tentativas. Aguarde um pouco e tente novamente.":"No foi possvel fazer login. Tente novamente.";_(C,"error")}finally{d(!1)}},E=async()=>{const S=e.trim();if(!S){_("Digite seu e-mail para receber o link de redefinio.","error");return}d(!0);try{await uV(uh,S),_("Enviamos um link de redefinio de senha para seu e-mail.","success")}catch(A){const C=A?.code==="auth/user-not-found"?"No encontramos um usurio com esse e-mail.":A?.code==="auth/invalid-email"?"E-mail invlido.":"No foi possvel enviar o e-mail de redefinio.";_(C,"error")}finally{d(!1)}};return b.jsxs("div",{className:"min-h-screen w-full grid place-items-center px-4",children:[b.jsx("style",{children:P_}),f.show&&b.jsx("div",{className:`fixed top-6 right-6 z-50 px-4 py-3 rounded-lg shadow-lg text-white ${f.type==="error"?"bg-red-600":"bg-emerald-600"}`,children:f.message}),b.jsx("div",{className:"w-full max-w-md bg-white/90 backdrop-blur rounded-2xl shadow-xl border border-slate-200 overflow-hidden animate-fade-in",children:b.jsxs("div",{className:"p-8",children:[b.jsxs("div",{className:"mb-8 text-center",children:[b.jsx("div",{className:"mx-auto mb-4 h-12 w-12 rounded-2xl bg-blue-600 flex items-center justify-center text-white font-bold",children:"M"}),b.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Acessar Plataforma"}),b.jsx("p",{className:"text-slate-500 mt-1",children:"Entre com seu e-mail e senha"})]}),b.jsxs("form",{onSubmit:v,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),b.jsx("input",{type:"email",value:e,onChange:S=>t(S.target.value),className:"w-full rounded-xl border border-slate-200 px-4 py-3 outline-none focus:ring-2 focus:ring-blue-500",placeholder:"seuemail@exemplo.com",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Senha"}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:o?"text":"password",value:i,onChange:S=>r(S.target.value),className:"w-full rounded-xl border border-slate-200 px-4 py-3 pr-12 outline-none focus:ring-2 focus:ring-blue-500",placeholder:"",required:!0}),b.jsx("button",{type:"button",onClick:()=>l(S=>!S),className:"absolute right-3 top-1/2 -translate-y-1/2 rounded-lg p-2 text-slate-500 transition hover:bg-slate-100 hover:text-slate-700 focus:outline-none focus:ring-4 focus:ring-blue-100","aria-label":o?"Ocultar senha":"Mostrar senha",children:o?b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("path",{d:"M17.94 17.94A10.94 10.94 0 0 1 12 20c-7 0-10-8-10-8a21.77 21.77 0 0 1 5.06-6.94"}),b.jsx("path",{d:"M1 1l22 22"}),b.jsx("path",{d:"M9.9 4.24A10.94 10.94 0 0 1 12 4c7 0 10 8 10 8a21.77 21.77 0 0 1-4.87 6.85"}),b.jsx("path",{d:"M14.12 14.12a3 3 0 0 1-4.24-4.24"})]}):b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("path",{d:"M2 12s3-8 10-8 10 8 10 8-3 8-10 8-10-8-10-8Z"}),b.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),b.jsx("button",{type:"submit",disabled:u,className:"w-full rounded-xl bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 transition disabled:opacity-60",children:u?"Entrando...":"Entrar"}),b.jsx("div",{className:"flex items-center justify-center",children:b.jsx("button",{type:"button",onClick:E,className:"w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm font-semibold text-blue-700 shadow-sm transition hover:bg-blue-50 hover:border-blue-200 focus:outline-none focus:ring-4 focus:ring-blue-100",children:"Esqueci minha senha"})}),b.jsx("div",{className:"pt-2 text-center text-xs text-slate-500",children:"Precisa de acesso? Fale com o suporte."}),b.jsxs("div",{className:"mt-4 flex flex-wrap items-center justify-center gap-4 text-xs text-slate-500",children:[b.jsx("a",{href:pi(`${Pn}/suporte.html`),className:"hover:text-slate-800 hover:underline",target:"_blank",rel:"noreferrer",children:"Suporte"}),b.jsx("a",{href:pi(`${Pn}/politicaPrivacidade.html`),className:"hover:text-slate-800 hover:underline",target:"_blank",rel:"noreferrer",children:"Privacidade"}),b.jsx("a",{href:pi(`${Pn}/termosUso.html`),className:"hover:text-slate-800 hover:underline",target:"_blank",rel:"noreferrer",children:"Termos"}),b.jsx("a",{href:pi(`${Pn}/cookies.html`),className:"hover:text-slate-800 hover:underline",target:"_blank",rel:"noreferrer",children:"Cookies"})]})]})]})})]})},qz=({authUser:n})=>{const e=dh(),[t,i]=B.useState({show:!1,message:"",type:"success"}),[r,o]=B.useState(!1),l=(p,_="success")=>{i({show:!0,message:p,type:_}),setTimeout(()=>i(v=>({...v,show:!1})),4e3)};B.useEffect(()=>(document.body.classList.add("login-mode"),document.body.classList.remove("dashboard-mode"),document.body.classList.remove("sidebar-expanded"),()=>document.body.classList.remove("login-mode")),[]);const u=async()=>{if(n){o(!0);try{await AA(n),l("E-mail de verificao reenviado.","success")}catch{l("No foi possvel reenviar. Tente novamente.","error")}finally{o(!1)}}},d=async()=>{if(n)try{await n.reload(),n.emailVerified?e("/app",{replace:!0}):l("Ainda no consta como verificado. Atualize aps confirmar no e-mail.","error")}catch{l("Falha ao atualizar status. Tente novamente.","error")}},f=async()=>{await CA(uh),e("/entrar",{replace:!0})};return b.jsxs("div",{className:"min-h-screen w-full grid place-items-center px-4",children:[b.jsx("style",{children:P_}),t.show&&b.jsx("div",{className:`fixed top-6 right-6 z-50 px-4 py-3 rounded-lg shadow-lg text-white ${t.type==="error"?"bg-red-600":"bg-emerald-600"}`,children:t.message}),b.jsx("div",{className:"w-full max-w-md bg-white/90 backdrop-blur rounded-2xl shadow-xl border border-slate-200 overflow-hidden animate-fade-in",children:b.jsxs("div",{className:"p-8 text-center",children:[b.jsx("div",{className:"mx-auto mb-4 h-12 w-12 rounded-2xl bg-blue-600 flex items-center justify-center text-white font-bold",children:""}),b.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Verifique seu e-mail"}),b.jsxs("p",{className:"text-slate-600 mt-2",children:["Enviamos um link de verificao para ",b.jsx("span",{className:"font-semibold",children:n?.email}),". Voc precisa confirmar para acessar a plataforma."]}),b.jsxs("div",{className:"mt-6 space-y-3",children:[b.jsx("button",{onClick:d,className:"w-full rounded-xl bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 transition",children:"J verifiquei, continuar"}),b.jsx("button",{onClick:u,disabled:r,className:"w-full rounded-xl border border-slate-200 hover:bg-slate-50 text-slate-800 font-semibold py-3 transition disabled:opacity-60",children:r?"Reenviando...":"Reenviar e-mail"}),b.jsx("button",{onClick:f,className:"w-full rounded-xl text-slate-500 hover:text-slate-700 text-sm py-2",children:"Sair"})]}),b.jsx("div",{className:"mt-6 text-xs text-slate-500",children:"Dica: verifique tambm spam/lixo eletrnico."})]})})]})},Gz=({authUser:n,userData:e,setUserData:t,userRole:i,courses:r})=>{const o=dh(),[l,u]=B.useState(!1),[d,f]=B.useState("courses-view"),[p,_]=B.useState("Meus Cursos"),[v,E]=B.useState("access-content"),[S,A]=B.useState(!1),[C,M]=B.useState(!1),[L,H]=B.useState(""),[Y,$]=B.useState(""),[te,I]=B.useState(!0),[N,D]=B.useState(3),[j,P]=B.useState(!1),[U,O]=B.useState(!1),[Ie,be]=B.useState(!1),[Q,le]=B.useState(!1),[fe,ye]=B.useState(!1);B.useEffect(()=>(document.body.classList.add("dashboard-mode"),document.body.classList.remove("login-mode"),l?document.body.classList.add("sidebar-expanded"):document.body.classList.remove("sidebar-expanded"),()=>{document.body.classList.remove("dashboard-mode"),document.body.classList.remove("sidebar-expanded")}),[l]),B.useEffect(()=>{const ce=localStorage.getItem("medJVS_currentUserEmail");if(ce){const Be=localStorage.getItem(`medJVS_data_${ce}`);Be&&t(JSON.parse(Be))}},[]);const Se=async ce=>{const Be={...e||{},...ce,updatedAt:Qn()};if(t(Bt=>({...Bt||{},...ce})),!!n)try{await s0(Zl(Hl,"users",n.uid),Be)}catch{try{await R_(Zl(Hl,"users",n.uid),{...Be,createdAt:Qn()},{merge:!0})}catch{}}},z=async ce=>{ce.preventDefault(),await CA(uh),o("/entrar",{replace:!0})},ne=ce=>u(ce),ue=(ce,Be)=>{f(ce),_(Be)},de=(ce,Be)=>{f(ce),_("Minha Conta"),E(Be),O(!1),A(!1),M(!1)},xe=ce=>{const Be=e.favorites||[];let Bt;Be.includes(ce)?Bt=Be.filter(Kt=>Kt!==ce):Bt=[...Be,ce],Se({favorites:Bt})},Te=async ce=>{const Be=ce.target.files?.[0];if(!Be||!n)return;if(!["image/jpeg","image/png","image/webp"].includes(Be.type)){alert("Formato invlido. Use JPG, PNG ou WEBP.");return}if(Be.size>5*1024*1024){alert("Arquivo muito grande. Use at 5MB.");return}try{const Kt=`users/${n.uid}/profile.jpg`,ti=tz(Bz,Kt);await Z9(ti,Be,{contentType:Be.type});const _i=await ez(ti);await Se({image:_i})}catch(Kt){console.error(Kt),alert("No foi possvel enviar a imagem.")}},ze=ce=>{console.log("Acessando curso:",ce.title)},rt=ce=>{const Be=ce.target.value;H(Be),ye(Be.length>0)};(r||[]).filter(ce=>{const Be=Bn(L),Bt=Bn([ce.title,ce.searchTitle,ce.category,ce.specialty,ce.teachers,ce.professor,Array.isArray(ce.tags)?ce.tags.join(" "):""].filter(Boolean).join(" ")),Kt=!Be||Bt.includes(Be),ti=!Y||Bn(ce.specialty||"").includes(Bn(Y));return Kt&&ti});const ct=[...new Set((r||[]).map(ce=>ce.specialty).filter(Boolean))].sort(),ei=(r||[]).filter(ce=>L&&(ce.title||"").toLowerCase().includes(L.toLowerCase())).slice(0,5);return b.jsxs(b.Fragment,{children:[b.jsx("style",{children:jz}),b.jsx("aside",{id:"sidebar",className:"shadow-xl",onMouseEnter:()=>ne(!0),onMouseLeave:()=>ne(!1),children:b.jsx("div",{className:"flex flex-col h-full bg-white",children:b.jsx("div",{className:"flex-1 w-full overflow-y-auto sidebar-scrollable pt-6",children:b.jsxs("ul",{className:"w-full px-3 space-y-2",children:[b.jsx("li",{className:"mb-8 pl-1",children:b.jsxs("a",{href:"#",className:"sidebar-link hover:bg-transparent",onClick:ce=>ce.preventDefault(),children:[b.jsx("div",{className:"icon-container bg-teal-500 text-white shadow-md w-10 h-10 rounded-lg",children:b.jsx("span",{className:"font-bold text-lg",children:"MJ"})}),b.jsx("span",{className:"logo-text text-xl font-bold text-slate-800 ml-3 tracking-tight",children:"Medicina JVS"})]})}),[{id:"study-desk-view",title:"Mesa de estudo",icon:b.jsx("path",{strokeWidth:"1.5",d:"M3 5a2 2 0 012-2h10a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V5z M6 7h8M6 11h8"})},{id:"courses-view",title:"Meus Cursos",icon:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})},{id:"flashcards-view",title:"Flashcards",icon:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v13m-7-6h14M6 4h12a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"})},{id:"questions-view",title:"Questes",icon:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})},{id:"simulados-view",title:"Simulados",icon:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})},{id:"performance-view",title:"Desempenho",icon:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"})},{id:"rankings-view",title:"Rankings",icon:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})},{id:"cast-view",title:"Cast",icon:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2z"})},{id:"vip-view",title:"Sala VIP",icon:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})},{id:"favorites-view",title:"Favoritos",icon:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.539 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.196-1.539-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}].map(ce=>b.jsx("li",{children:b.jsxs("a",{href:"#",title:ce.title,className:`sidebar-link ${d===ce.id?"active":""}`,onClick:Be=>{Be.preventDefault(),ue(ce.id,ce.title)},children:[b.jsx("div",{className:"icon-container",children:b.jsx("svg",{className:"h-6 w-6",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:ce.icon})}),b.jsx("span",{className:"ms-4 sidebar-link-text font-medium",children:ce.title})]})},ce.id))]})})})}),b.jsxs("div",{className:"main-layout-wrapper",children:[b.jsx("div",{className:"dashboard-header w-full",children:b.jsxs("div",{className:"w-full px-4 md:px-8 py-4",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("div",{className:"flex items-center",children:b.jsx("span",{id:"header-title",className:"text-2xl font-bold text-slate-800 tracking-tight",children:p})}),b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsxs("button",{onClick:()=>{f("favorites-view"),_("Favoritos")},className:"bg-red-500 hover:bg-red-600 text-white font-medium py-2 px-4 rounded-lg flex items-center space-x-2 transition shadow-sm",children:[b.jsx("i",{className:"fa-solid fa-heart"}),b.jsx("span",{className:"hidden sm:inline",children:"Favoritos"}),b.jsx("span",{className:"bg-white text-rose-500 text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center ml-1",children:e.favorites?e.favorites.length:0})]}),b.jsxs("div",{className:"relative",children:[b.jsxs("button",{className:"bg-transparent text-slate-500 hover:text-slate-800 p-2 rounded-full hover:bg-gray-100 transition",onClick:ce=>{ce.stopPropagation(),P(!j),O(!1)},children:[b.jsx("i",{className:"fa-regular fa-bell text-xl"}),N>0&&b.jsx("span",{className:"absolute top-1 right-1 bg-red-500 text-white text-[10px] font-bold rounded-full h-4 w-4 flex items-center justify-center border-2 border-white",children:N})]}),j&&b.jsxs("div",{className:"absolute top-full right-0 mt-2 w-80 sm:w-96 bg-white rounded-xl shadow-xl border border-gray-100 z-50 overflow-hidden",children:[b.jsxs("div",{className:"bg-teal-600 text-white p-4 flex justify-between items-center",children:[b.jsx("h3",{className:"font-bold text-lg",children:"Notificaes"}),b.jsx("button",{onClick:()=>P(!1),className:"text-white hover:text-teal-200",children:b.jsx("i",{className:"fa-solid fa-xmark"})})]}),b.jsx("div",{className:"p-2 max-h-96 overflow-y-auto bg-gray-50",children:b.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 mb-2",children:[b.jsx("span",{className:"text-[10px] font-bold bg-orange-100 text-orange-600 px-2 py-1 rounded uppercase tracking-wider",children:"News"}),b.jsx("h4",{className:"font-bold text-slate-800 mt-2 text-sm",children:"MEC endurece avaliao"}),b.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Novas regras para cursos de medicina."})]})})]})]}),b.jsxs("div",{className:"relative",children:[b.jsx("button",{id:"profile-button",className:"w-10 h-10 bg-teal-500 rounded-full flex items-center justify-center text-white font-semibold shadow-md overflow-hidden",onClick:ce=>{ce.stopPropagation(),O(!U),P(!1)},children:e.image?b.jsx("img",{src:e.image,alt:"Profile",className:"w-full h-full object-cover"}):e.name?e.name.charAt(0).toUpperCase():"U"}),U&&b.jsxs("div",{id:"profile-menu",className:"absolute top-full right-0 mt-2 w-52 bg-white rounded-lg shadow-lg z-50 py-1 border border-gray-100",children:[b.jsxs("a",{href:"#",onClick:ce=>{ce.preventDefault(),de("account-view","profile-content")},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[b.jsx("i",{className:"fa-regular fa-user w-6"}),"Minha conta"]}),b.jsxs("a",{href:"#",onClick:ce=>{ce.preventDefault(),de("account-view","data-content")},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[b.jsx("i",{className:"fa-solid fa-tag w-6"}),"Minhas compras"]}),b.jsxs("a",{href:"#",onClick:ce=>{ce.preventDefault(),de("account-view","access-content")},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[b.jsx("i",{className:"fa-regular fa-circle-question w-6"}),"Ajuda"]}),b.jsx("div",{className:"border-t border-gray-100 my-1"}),b.jsxs("a",{href:"#",onClick:z,className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[b.jsx("i",{className:"fa-solid fa-arrow-right-from-bracket w-6"}),"Sair"]})]})]})]})]}),b.jsxs("div",{className:"flex flex-wrap md:flex-nowrap items-center gap-4 w-full",children:[b.jsxs("div",{className:"relative custom-select-container w-full md:w-auto md:min-w-[240px]",children:[b.jsxs("button",{onClick:()=>be(!Ie),className:"filter-input w-full text-left flex justify-between items-center custom-select-trigger cursor-pointer hover:border-blue-400",children:[b.jsx("span",{className:"truncate",children:"Navegar para..."}),b.jsx("i",{className:"fa-solid fa-chevron-down text-xs text-gray-400"})]}),Ie&&b.jsxs("div",{className:"absolute top-full left-0 mt-1 w-full bg-white rounded-lg z-50 custom-select-panel",children:[b.jsx("div",{className:"p-3 text-sm cursor-pointer hover:bg-gray-50 text-slate-700",onClick:()=>{ue("study-desk-view","Mesa de estudo"),be(!1)},children:"Mesa de estudo"}),b.jsx("div",{className:"p-3 text-sm cursor-pointer hover:bg-gray-50 text-slate-700",onClick:()=>{ue("courses-view","Meus Cursos"),be(!1)},children:"Meus Cursos"})]})]}),b.jsxs("div",{className:"relative custom-select-container w-full md:w-auto md:min-w-[240px]",children:[b.jsxs("button",{onClick:()=>le(!Q),className:"filter-input w-full text-left flex justify-between items-center custom-select-trigger cursor-pointer hover:border-blue-400",children:[b.jsx("span",{className:"truncate",children:Y||"Todas as Especialidades"}),b.jsx("i",{className:"fa-solid fa-chevron-down text-xs text-gray-400"})]}),Q&&b.jsxs("div",{className:"absolute top-full left-0 mt-1 w-full bg-white rounded-lg z-50 custom-select-panel max-h-60 overflow-y-auto",children:[b.jsx("div",{className:"p-3 text-sm cursor-pointer hover:bg-gray-50 text-slate-700 font-semibold",onClick:()=>{$(""),le(!1)},children:"Todas as Especialidades"}),ct.map(ce=>b.jsx("div",{className:"p-3 text-sm cursor-pointer hover:bg-gray-50 text-slate-700",onClick:()=>{$(ce),le(!1)},children:ce},ce))]})]}),b.jsxs("div",{className:"relative flex-grow w-full md:w-auto",children:[b.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-4 z-10",children:b.jsx("i",{className:"fa-solid fa-magnifying-glass text-gray-400"})}),b.jsx("input",{type:"text",value:L,onChange:rt,placeholder:"Buscar por ttulo, categoria, professor...",className:"filter-input w-full !pl-12 hover:border-blue-400 focus:border-blue-500"}),fe&&ei.length>0&&b.jsx("div",{id:"autocomplete-list",className:"absolute top-full left-0 mt-1 w-full bg-white rounded-lg z-50 shadow-xl border border-gray-100",children:ei.map(ce=>b.jsx("div",{onClick:()=>{H(ce.title),ye(!1)},className:"p-3 text-sm cursor-pointer hover:bg-gray-50 text-slate-700 border-b border-gray-50 last:border-0",children:ce.title},ce.id))})]}),b.jsxs("div",{className:"flex items-center space-x-2 bg-white p-1 rounded-lg border border-gray-200 shrink-0",children:[b.jsx("button",{onClick:()=>I(!0),className:`view-toggle-button border-0 ${te?"active shadow-sm":"hover:bg-gray-50"}`,children:b.jsx("i",{className:"fa-solid fa-grip"})}),b.jsx("button",{onClick:()=>I(!1),className:`view-toggle-button border-0 ${te?"hover:bg-gray-50":"active shadow-sm"}`,children:b.jsx("i",{className:"fa-solid fa-list"})})]})]})]})}),b.jsxs("main",{id:"main-content",className:"flex-1 w-full px-4 md:px-8 pt-40 md:pt-40 pb-10 flex flex-col",children:[b.jsx(zC,{children:b.jsxs("div",{className:"w-full flex-grow",children:[d==="courses-view"&&b.jsx("div",{id:"courses-view",className:"w-full animate-fade-in",children:b.jsx(Mz,{title:"Meus Cursos",subtitle:"Cursos disponveis na Plataforma Medicina JVS.",onOpenCourse:ce=>{ce?.driveUrl&&window.open(ce.driveUrl,"_blank","noopener,noreferrer")}})}),d==="flashcards-view"&&b.jsx("div",{id:"flashcards-view",className:"w-full animate-fade-in",children:b.jsx(Wz,{authUser:n,userRole:i,db:Hl})}),d==="favorites-view"&&b.jsxs("div",{id:"favorites-view",className:"w-full",children:[b.jsx("div",{className:"mb-8 border-b border-gray-200 pb-4",children:b.jsxs("h2",{className:"text-2xl font-bold text-slate-800",children:["Meus Favoritos ",b.jsxs("span",{className:"text-sm font-normal text-slate-500 ml-2",children:["(",e.favorites?e.favorites.length:0,")"]})]})}),e.favorites&&e.favorites.length>0?b.jsx("div",{id:"favorites-grid",className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-6",children:r.filter(ce=>e.favorites.includes(ce.id)).map(ce=>b.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 overflow-hidden flex flex-col h-full",children:[b.jsx("div",{className:"w-full aspect-video bg-gray-200 flex items-center justify-center text-gray-500",children:b.jsx("i",{className:"fa-solid fa-image text-3xl opacity-50"})}),b.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[b.jsxs("div",{className:"flex justify-between items-center mb-2",children:[b.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded ${ce.tagColor}`,children:ce.category}),b.jsx("button",{onClick:()=>xe(ce.id),className:"focus:outline-none transform active:scale-90 transition bg-transparent",children:b.jsx("i",{className:"fa-solid fa-heart text-red-500 text-lg"})})]}),b.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:ce.title}),b.jsx("button",{className:"mt-auto w-full bg-blue-600 text-white text-sm font-medium py-2 rounded-md hover:bg-blue-700 transition-colors",onClick:()=>ze(ce),children:"Acessar"})]})]},ce.id))}):b.jsxs("div",{className:"text-center py-20 w-full",children:[b.jsx("div",{className:"bg-rose-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4",children:b.jsx("i",{className:"fa-solid fa-heart-crack text-3xl text-rose-300"})}),b.jsx("h3",{className:"mt-2 text-xl font-bold text-slate-800",children:"Nenhum favorito ainda"}),b.jsx("p",{className:"mt-1 text-slate-500",children:"Marque cursos com o corao para acess-los rapidamente aqui."})]})]}),d==="account-view"&&b.jsxs("div",{id:"account-view",className:"w-full flex flex-col animate-fade-in",children:[b.jsxs("div",{className:"w-full bg-blue-600 rounded-xl p-6 md:p-10 text-white relative overflow-hidden mb-8 shadow-lg flex flex-col md:flex-row items-center gap-6",children:[b.jsx("div",{className:"relative w-24 h-24 md:w-28 md:h-28 bg-teal-500 rounded-full flex items-center justify-center text-white text-4xl font-bold border-4 border-white/20 flex-shrink-0",children:e.image?b.jsx("img",{src:e.image,alt:"Perfil",className:"w-full h-full rounded-full object-cover"}):b.jsx("span",{children:e.name?e.name.charAt(0).toUpperCase():"U"})}),b.jsxs("div",{className:"flex-grow text-center md:text-left z-10",children:[b.jsx("p",{className:"text-blue-100 text-lg mb-1",children:"Bem-vindo(a),"}),b.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-3",children:e.name}),b.jsxs("label",{className:"inline-flex items-center gap-2 text-sm font-semibold bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg cursor-pointer transition-colors w-fit mx-auto md:mx-0",children:[b.jsx("i",{className:"fa-solid fa-camera"}),b.jsx("span",{children:"Alterar foto"}),b.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Te})]})]}),b.jsx("div",{className:"absolute -right-16 -bottom-32 w-80 h-80 bg-white/10 rounded-full pointer-events-none"}),b.jsx("div",{className:"absolute right-20 -top-20 w-40 h-40 bg-white/5 rounded-full pointer-events-none"})]}),b.jsx("div",{className:"w-full mb-8",children:b.jsx("nav",{className:"flex flex-wrap gap-4 w-full",children:[{id:"profile-content",icon:"fa-user",label:"Meu Perfil"},{id:"data-content",icon:"fa-address-card",label:"Meus Dados"},{id:"access-content",icon:"fa-lock",label:"Meus Acessos"},{id:"donations-content",icon:"fa-hand-holding-heart",label:"Doaes"}].map(ce=>b.jsxs("button",{onClick:()=>E(ce.id),className:`px-6 py-3 rounded-lg font-medium text-sm flex items-center gap-2 transition-all transform active:scale-95 ${v===ce.id?"bg-slate-900 text-white shadow-md":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50"}`,children:[b.jsx("i",{className:`fa-solid ${ce.icon}`}),ce.label]},ce.id))})}),b.jsxs("div",{className:"w-full",children:[v==="profile-content"&&b.jsxs("div",{className:"animate-fade-in w-full",children:[b.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 w-full",children:[b.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-4 md:mb-0",children:"Detalhes do Perfil"}),!S&&b.jsxs("button",{onClick:()=>A(!0),className:"bg-teal-600 hover:bg-teal-700 text-white font-medium py-2 px-4 rounded-lg shadow-sm transition-colors flex items-center gap-2",children:[b.jsx("i",{className:"fa-solid fa-pencil"}),"Editar Perfil"]})]}),S?b.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm w-full",children:[b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 w-full",children:[b.jsxs("div",{className:"space-y-6 w-full",children:[b.jsxs("div",{children:[b.jsx("label",{className:"form-label mb-2",children:"Selecione seus Interesses"}),b.jsx("div",{className:"flex flex-wrap gap-2",children:["Medicina","Residncia","Concursos","Cardiologia","Pediatria"].map(ce=>b.jsx("button",{className:"px-3 py-1 rounded-full border border-gray-200 text-sm font-medium hover:bg-gray-50 text-gray-600 transition-colors",children:ce},ce))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"form-label mb-2",children:"Redes Sociais"}),b.jsxs("div",{className:"flex flex-wrap gap-3",children:[b.jsx("button",{className:"w-10 h-10 rounded-full border border-gray-200 flex items-center justify-center text-gray-500 hover:text-pink-600 hover:border-pink-200",children:b.jsx("i",{className:"fa-brands fa-instagram"})}),b.jsx("button",{className:"w-10 h-10 rounded-full border border-gray-200 flex items-center justify-center text-gray-500 hover:text-blue-600 hover:border-blue-200",children:b.jsx("i",{className:"fa-brands fa-linkedin-in"})}),b.jsx("button",{className:"w-10 h-10 rounded-full border border-gray-200 flex items-center justify-center text-gray-500 hover:text-sky-500 hover:border-sky-200",children:b.jsx("i",{className:"fa-brands fa-twitter"})})]})]})]}),b.jsxs("div",{className:"w-full",children:[b.jsx("label",{className:"form-label mb-2",children:"Biografia"}),b.jsx("textarea",{className:"form-input h-48 resize-none w-full",placeholder:"Conte um pouco sobre voc...",value:e.bio||"",onChange:ce=>Se({bio:ce.target.value})})]})]}),b.jsxs("div",{className:"flex justify-end gap-3 mt-8 pt-6 border-t border-gray-100",children:[b.jsx("button",{className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 font-medium hover:bg-gray-50",onClick:()=>A(!1),children:"Cancelar"}),b.jsx("button",{className:"px-4 py-2 rounded-lg bg-teal-600 text-white font-medium hover:bg-teal-700 shadow-sm",onClick:()=>A(!1),children:"Salvar Alteraes"})]})]}):b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 w-full",children:[b.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm w-full",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[b.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-50 flex items-center justify-center text-blue-600",children:b.jsx("i",{className:"fa-solid fa-location-dot text-lg"})}),b.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:"Localizao e Contato"})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Cidade / Estado"}),b.jsxs("p",{className:"font-semibold text-gray-800",children:[e.address?.city||"No informado"," - ",e.address?.state||""]})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Redes Sociais"}),b.jsx("p",{className:"text-gray-500 italic",children:"Nenhuma rede vinculada"})]})]})]}),b.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm w-full",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[b.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-50 flex items-center justify-center text-purple-600",children:b.jsx("i",{className:"fa-solid fa-align-left text-lg"})}),b.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:"Biografia"})]}),b.jsx("p",{className:"text-gray-600 leading-relaxed",children:e.bio||"Ol! Eu estou usando a plataforma Medicina JVS para impulsionar meus estudos."})]})]})]}),v==="data-content"&&b.jsxs("div",{className:"animate-fade-in w-full",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6 w-full",children:[b.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"Meus Dados"}),!C&&b.jsxs("button",{onClick:()=>M(!0),className:"text-blue-600 font-medium hover:underline flex items-center gap-2",children:[b.jsx("i",{className:"fa-solid fa-pen"}),"Editar"]})]}),C?b.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm w-full",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 w-full",children:[b.jsxs("div",{children:[b.jsx("label",{className:"form-label",children:"Nome Completo"}),b.jsx("input",{type:"text",className:"form-input",value:e.name,onChange:ce=>Se({name:ce.target.value})})]}),b.jsxs("div",{children:[b.jsx("label",{className:"form-label",children:"Celular"}),b.jsx("input",{type:"text",className:"form-input",value:e.phone,onChange:ce=>Se({phone:ce.target.value})})]}),b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"form-label",children:"Email (No editvel)"}),b.jsx("input",{type:"email",className:"form-input bg-gray-50 text-gray-500",value:e.email,disabled:!0})]})]}),b.jsxs("div",{className:"flex justify-end gap-3",children:[b.jsx("button",{className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 font-medium hover:bg-gray-50",onClick:()=>M(!1),children:"Cancelar"}),b.jsx("button",{className:"px-4 py-2 rounded-lg bg-blue-600 text-white font-medium hover:bg-blue-700",onClick:()=>M(!1),children:"Salvar Dados"})]})]}):b.jsxs("div",{className:"space-y-6 w-full",children:[b.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm w-full",children:[b.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4 pb-2 border-b border-gray-100",children:"Informaes Pessoais"}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-6 w-full",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Nome Completo"}),b.jsx("p",{className:"font-semibold text-gray-900 break-words",children:e.name})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"CPF"}),b.jsx("p",{className:"font-semibold text-gray-900",children:e.cpf||"***.***.***-**"})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Email"}),b.jsx("p",{className:"font-semibold text-gray-900 break-words",children:e.email})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Celular"}),b.jsx("p",{className:"font-semibold text-gray-900",children:e.phone||"(00) 00000-0000"})]})]})]}),b.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm w-full",children:[b.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4 pb-2 border-b border-gray-100",children:"Endereo"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 w-full",children:[b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Logradouro"}),b.jsxs("p",{className:"font-semibold text-gray-900",children:[e.address?.street||"No informado",", ",e.address?.number]})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"CEP"}),b.jsx("p",{className:"font-semibold text-gray-900",children:e.address?.zip||"00000-000"})]})]})]})]})]}),v==="access-content"&&b.jsxs("div",{className:"animate-fade-in w-full",children:[b.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Meus Acessos"}),b.jsx("p",{className:"text-gray-500 mb-6",children:"Histrico de produtos adquiridos."}),b.jsx("div",{className:"flex flex-col gap-4 w-full",children:[{title:"Extensivo Residncia Mdica 2026",status:"Ativo",id:"#MED-9921"},{title:"Curso de Procedimentos Prticos",status:"Ativo",id:"#MED-9984"},{title:"Mentoria Semestral",status:"Expirado",id:"#MED-8122"}].map((ce,Be)=>b.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow flex flex-col md:flex-row justify-between items-start md:items-center gap-4 w-full",children:[b.jsxs("div",{className:"flex items-start gap-4",children:[b.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center text-white text-xl flex-shrink-0 ${ce.status==="Ativo"?"bg-teal-500":"bg-gray-400"}`,children:b.jsx("i",{className:"fa-solid fa-graduation-cap"})}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:ce.title}),b.jsxs("p",{className:"text-sm text-gray-500",children:["ID do Pedido: ",ce.id]})]})]}),b.jsx("span",{className:`px-4 py-1.5 rounded-full text-xs font-bold uppercase tracking-wide border ${ce.status==="Ativo"?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-600 border-gray-200"}`,children:ce.status==="Ativo"?b.jsxs(b.Fragment,{children:[b.jsx("i",{className:"fa-solid fa-circle-check mr-1.5"}),"Acesso Liberado"]}):"Expirado"})]},Be))})]}),v==="donations-content"&&b.jsx("div",{className:"animate-fade-in w-full",children:b.jsxs("div",{className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 rounded-xl p-10 text-white text-center shadow-lg",children:[b.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-6 backdrop-blur-sm",children:b.jsx("i",{className:"fa-solid fa-heart text-3xl text-white"})}),b.jsx("h3",{className:"text-3xl font-bold mb-4",children:"Apoie o Projeto"}),b.jsx("p",{className:"text-indigo-100 text-lg max-w-2xl mx-auto mb-8 leading-relaxed",children:"Sua contribuio  fundamental para manter a plataforma ativa e trazer cada vez mais contedos de qualidade para estudantes de medicina."}),b.jsx("button",{className:"bg-white text-indigo-600 font-bold py-3.5 px-8 rounded-full shadow-lg hover:bg-gray-50 hover:scale-105 transition-all duration-200",children:"Fazer uma Doao"})]})})]})]}),!["courses-view","favorites-view","account-view","flashcards-view"].includes(d)&&b.jsx(Fz,{})]})}),d!=="undefined_view"&&b.jsx(j_,{})]})]})]})},Yz=({children:n,authReady:e,authUser:t})=>e?t?t.emailVerified?n:b.jsx(Pf,{to:"/verifique-email",replace:!0}):b.jsx(Pf,{to:"/entrar",replace:!0}):b.jsx(Vz,{label:"Preparando sua sesso"});function Nl(n){const e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),i=String(n.getDate()).padStart(2,"0");return`${e}-${t}-${i}`}function a0(n,e){const t=new Date(n);return t.setDate(t.getDate()+e),t}function $z({easeFactor:n=2.5,interval:e=0,repetitions:t=0},i){const o={1:1,2:2,3:4,4:5}[i]??3;let l=n;l=l+(.1-(5-o)*(.08+(5-o)*.02)),l<1.3&&(l=1.3);let u=t,d=e;return o<3?(u=0,d=1):(u=u+1,u===1?d=1:u===2?d=6:d=Math.round(d*l)),{easeFactor:l,interval:d,repetitions:u,dueAt:a0(new Date,d)}}function Il({children:n}){return b.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-blue-50 text-blue-700 border border-blue-100",children:n})}function CT({open:n,title:e,onClose:t,children:i}){return n?b.jsxs("div",{className:"fixed inset-0 z-[999] flex items-center justify-center p-4",children:[b.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:t}),b.jsxs("div",{className:"relative w-full max-w-3xl max-h-[90vh] bg-white rounded-2xl shadow-xl border border-slate-200 overflow-hidden flex flex-col",children:[b.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 flex items-center justify-between",children:[b.jsx("h3",{className:"font-bold text-slate-900",children:e}),b.jsx("button",{onClick:t,className:"px-3 py-1.5 rounded-lg border border-slate-200 text-slate-700 hover:bg-slate-50",children:"Fechar"})]}),b.jsx("div",{className:"p-6",children:i})]})]}):null}class zC extends xN.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error(e,t)}render(){return this.state.hasError?b.jsx("div",{className:"min-h-screen w-full grid place-items-center p-6",children:b.jsxs("div",{className:"max-w-xl w-full rounded-2xl border border-red-200 bg-red-50 p-6",children:[b.jsx("div",{className:"text-lg font-bold text-red-800",children:"Opa  algo deu errado nesta tela"}),b.jsx("div",{className:"mt-2 text-sm text-red-700 break-words",children:String(this.state.error)}),b.jsx("button",{className:"mt-4 rounded-xl bg-red-600 px-4 py-2 text-sm font-bold text-white",onClick:()=>window.location.reload(),children:"Recarregar"})]})}):this.props.children}}function Wz({authUser:n,userRole:e,db:t}){const i=n?.uid,r=e==="admin",[o,l]=B.useState(!0),[u,d]=B.useState([]),[f,p]=B.useState("all"),[_,v]=B.useState("today"),[E,S]=B.useState(""),[A,C]=B.useState(!1),[M,L]=B.useState(!1),[H,Y]=B.useState(!1),[$,te]=B.useState(""),[I,N]=B.useState(new Set),[D,j]=B.useState(!1),[P,U]=B.useState(!1),[O,Ie]=B.useState("all"),[be,Q]=B.useState([]),[le,fe]=B.useState(0),[ye,Se]=B.useState(!1),[z,ne]=B.useState({studiedToday:0,accuracyToday:0,streak:0,dueNow:0}),[ue,de]=B.useState([]),[xe,Te]=B.useState([]),ze=B.useRef(null),rt=B.useRef(null),[ct,ei]=B.useState(""),[ce,Be]=B.useState(""),[Bt,Kt]=B.useState(null),[ti,_i]=B.useState(""),[Er,Tr]=B.useState(""),[kt,Pt]=B.useState(""),[Li,jo]=B.useState(""),[Va,dn]=B.useState(null);function Qt(ee,ge="info"){dn({msg:ee,kind:ge}),setTimeout(()=>dn(null),2800)}B.useEffect(()=>{if(!i)return;let ee=!1;return(async()=>{try{l(!0);const ge=Ts(t,"users",i,"flashDecks"),Ve=py(ge,yy("createdAt","desc")),Ne=await Nu(Ve);if(ee)return;const et=Ne.docs.map(tt=>({id:tt.id,...tt.data()}));d(et)}catch(ge){console.error("Erro ao carregar decks:",ge)}finally{ee||l(!1)}})(),()=>{ee=!0}},[i,t]),B.useEffect(()=>{if(!i)return;let ee=!1;return(async()=>{try{const ge=Nl(new Date),Ve=Ts(t,"users",i,"flashDaily"),Ne=py(Ve,yy("dateKey","desc"),pT(60)),et=await Nu(Ne);if(ee)return;const tt=et.docs.map(ut=>({id:ut.id,...ut.data()})),Dt=tt.find(ut=>ut.dateKey===ge),Je=Number(Dt?.studied||0),Ft=Number(Dt?.correct||0),ke=Je>0?Math.round(Ft/Je*100):0,ln=new Map(tt.map(ut=>[ut.dateKey,ut]));let _n=0,bn=new Date;for(let ut=0;ut<365;ut++){const ni=Nl(bn),Vi=ln.get(ni);if(Vi&&Number(Vi.studied||0)>0)_n+=1;else break;bn=a0(bn,-1)}const Sr=[];for(let ut=13;ut>=0;ut--){const ni=a0(new Date,-ut),Vi=Nl(ni),ii=ln.get(Vi);Sr.push({dateKey:Vi,studied:Number(ii?.studied||0),correct:Number(ii?.correct||0),incorrect:Number(ii?.incorrect||0)})}de(Sr);let Vs=0;for(const ut of u){const ni=Ts(t,"users",i,"flashDecks",ut.id,"cards"),Vi=await Nu(ni);if(ee)return;Vi.forEach(ii=>{const ss=ii.data(),Ar=ss.dueAt?.toMillis?ss.dueAt.toMillis():typeof ss.dueAt=="number"?ss.dueAt:0;Ar&&Ar<=Date.now()&&(Vs+=1)})}ne({studiedToday:Je,accuracyToday:ke,streak:_n,dueNow:Vs})}catch(ge){console.error("Erro ao carregar mtricas:",ge)}})(),()=>{ee=!0}},[i,t,u]),B.useEffect(()=>{const ee=new Date,ge=new Date(ee.getFullYear(),ee.getMonth(),1),Ve=new Date(ee.getFullYear(),ee.getMonth()+1,0),Ne=ge.getDay(),et=Ve.getDate(),tt=new Map(ue.map(Je=>[Je.dateKey,Je.studied])),Dt=[];for(let Je=0;Je<Ne;Je++)Dt.push({key:`pad-${Je}`,day:null,studied:0,isToday:!1});for(let Je=1;Je<=et;Je++){const Ft=new Date(ee.getFullYear(),ee.getMonth(),Je),ke=Nl(Ft);Dt.push({key:ke,day:Je,studied:tt.get(ke)||0,isToday:ke===Nl(new Date)})}Te(Dt)},[ue]),B.useEffect(()=>{if(!ze.current)return;const ee=ue.map(Ne=>Ne.dateKey.slice(5)),ge=ue.map(Ne=>Ne.studied),Ve=ue.map(Ne=>Ne.correct);if(rt.current){rt.current.data.labels=ee,rt.current.data.datasets[0].data=ge,rt.current.data.datasets[1].data=Ve,rt.current.update();return}return rt.current=new k0(ze.current,{type:"line",data:{labels:ee,datasets:[{label:"Cards estudados",data:ge,tension:.25},{label:"Acertos",data:Ve,tension:.25}]},options:{responsive:!0,plugins:{legend:{position:"bottom"},tooltip:{mode:"index",intersect:!1}},interaction:{mode:"nearest",axis:"x",intersect:!1},scales:{y:{beginAtZero:!0,ticks:{precision:0}}}}}),()=>{rt.current&&(rt.current.destroy(),rt.current=null)}},[ue]),B.useEffect(()=>{function ee(ge){be.length&&((ge.key===" "||ge.key==="Enter")&&(ge.preventDefault(),Se(Ve=>!Ve)),["1","2","3","4"].includes(ge.key)&&ye&&(ge.preventDefault(),ji(Number(ge.key))),ge.key==="ArrowLeft"&&(ge.preventDefault(),fe(Ve=>Math.max(0,Ve-1)),Se(!1)),ge.key==="ArrowRight"&&(ge.preventDefault(),fe(Ve=>Math.min(be.length-1,Ve+1)),Se(!1)))}return window.addEventListener("keydown",ee),()=>window.removeEventListener("keydown",ee)},[be,ye]);async function bi(ee=_){if(!i)return;const ge=new Date,Ve=f==="all"?u:u.filter(tt=>tt.id===f),Ne=f==="all"?I:new Set;let et=[];for(const tt of Ve){if(f==="all"&&Ne&&Ne.size>0&&!Ne.has(tt.name))continue;const Dt=Ts(t,"users",i,"flashDecks",tt.id,"cards");(await Nu(py(Dt,yy("createdAt","desc"),pT(600)))).docs.forEach(Ft=>{const ke=Ft.data(),ln=ke?.dueAt?.toDate?ke.dueAt.toDate():null,_n=!!ke?.suspended,bn=ln?ln<=ge:!0,Sr=E?Bn(ke.front).includes(Bn(E))||Bn(ke.back).includes(Bn(E))||Bn((ke.tags||[]).join(" ")).includes(Bn(E)):!0;if(_n||!Sr)return;const Vs=!!ke?.lastReviewedAt,ut=ke?.lastRating===4;D&&Vs||P&&ut||O!=="all"&&(!ke?.lastRating||String(ke.lastRating)!==String(O))||(ee==="today"?bn&&et.push({id:Ft.id,deckId:tt.id,deckName:tt.name,...ke}):et.push({id:Ft.id,deckId:tt.id,deckName:tt.name,...ke}))})}ee==="free"&&(et=et.sort(()=>Math.random()-.5).slice(0,40)),ee==="today"&&(et=et.sort((tt,Dt)=>{const Je=tt?.dueAt?.toDate?tt.dueAt.toDate().getTime():0,Ft=Dt?.dueAt?.toDate?Dt.dueAt.toDate().getTime():0;return Je-Ft}).slice(0,60)),Q(et),fe(0),Se(!1),et.length||Qt(ee==="today"?"Nenhum card para hoje ":"Nenhum card encontrado com os filtros atuais.")}async function ji(ee){const ge=be[le];if(ge)try{const Ve=Zl(t,"users",i,"flashDecks",ge.deckId,"cards",ge.id),Ne={easeFactor:ge.easeFactor??2.5,interval:ge.interval??0,repetitions:ge.repetitions??0},et=$z(Ne,ee);await s0(Ve,{easeFactor:et.easeFactor,interval:et.interval,repetitions:et.repetitions,dueAt:et.dueAt,lastReviewedAt:new Date,updatedAt:new Date,lastRating:ee});const tt=Nl(new Date),Dt=ee>=3;await Iu(Ts(t,"users",i,"flashLogs"),{dateKey:tt,deckId:ge.deckId,deckName:ge.deckName||"",cardId:ge.id,rating:ee,correct:Dt,reviewedAt:new Date,ts:Qn()});const Je=Zl(t,"users",i,"flashDaily",tt);await R_(Je,{dateKey:tt,studied:0,correct:0,incorrect:0,updatedAt:Qn()},{merge:!0}),await s0(Je,{studied:gy(1),correct:gy(Dt?1:0),incorrect:gy(Dt?0:1),updatedAt:Qn()});const Ft=Math.min(be.length-1,le+1);fe(Ft),Se(!1),Q(ke=>ke.map((ln,_n)=>_n===le?{...ln,...et}:ln))}catch{Qt("Erro ao salvar reviso. Verifique sua conexo e tente novamente.","error")}}async function is(){if(!r)return;const ee=ct.trim();if(!ee)return Qt("Digite um nome para o deck.");const ge=ce.split(",").map(Ve=>Ve.trim()).filter(Boolean);try{await Iu(Ts(t,"users",i,"flashDecks"),{name:ee,tags:ge,createdAt:Qn(),updatedAt:Qn()}),ei(""),Be(""),Qt("Deck criado com sucesso ")}catch{Qt("No foi possvel criar o deck.","error")}}async function hc(){if(!r)return;if(!Bt)return Qt("Selecione um deck.");const ee=ti.trim(),ge=Er.trim();if(!ee||!ge)return Qt("Preencha frente e verso.");const Ve=kt.split(",").map(Ne=>Ne.trim()).filter(Boolean);try{await Iu(Ts(t,"users",i,"flashDecks",Bt.id,"cards"),{front:ee,back:ge,tags:Ve,easeFactor:2.5,interval:0,repetitions:0,dueAt:new Date,createdAt:Qn(),updatedAt:Qn()}),_i(""),Tr(""),Pt(""),Qt("Card adicionado ")}catch{Qt("Erro ao adicionar card.","error")}}async function Vo(){if(!r)return;if(!Bt)return Qt("Selecione um deck.");const ee=Li.trim();if(!ee)return Qt("Cole o CSV (front;back;tags).");const ge=ee.split(`
`).map(et=>et.trim()).filter(Boolean);let Ve=0,Ne=0;for(const et of ge){const[tt,Dt,Je]=et.split(";").map(ke=>(ke??"").trim());if(!tt||!Dt){Ne+=1;continue}const Ft=(Je||"").split(",").map(ke=>ke.trim()).filter(Boolean);try{await Iu(Ts(t,"users",i,"flashDecks",Bt.id,"cards"),{front:tt,back:Dt,tags:Ft,easeFactor:2.5,interval:0,repetitions:0,dueAt:new Date,createdAt:Qn(),updatedAt:Qn()}),Ve+=1}catch{Ne+=1}}Qt(`Importao concluda: ${Ve} ok, ${Ne} falharam.`),jo("")}const Uo=u.filter(ee=>{const ge=Bn(E);return ge?Bn(ee.name).includes(ge)||Bn((ee.tags||[]).join(" ")).includes(ge):!0}),vi=be[le];return b.jsxs("div",{className:"w-full",children:[Va&&b.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-[999]",children:b.jsx("div",{className:"px-4 py-3 rounded-xl bg-slate-900 text-white shadow-lg border border-white/10",children:Va.msg})}),b.jsxs("div",{className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Flashcards"}),b.jsx("p",{className:"text-slate-600",children:"Reviso espaada (SM-2), treino livre, filtros e mtricas por usurio."})]}),b.jsxs("div",{className:"flex flex-wrap gap-3",children:[b.jsx("button",{onClick:()=>{v("today"),bi("today")},className:`px-4 py-2 rounded-xl font-semibold transition border ${_==="today"?"bg-blue-600 text-white border-blue-600":"bg-white text-slate-800 border-slate-200 hover:bg-slate-50"}`,children:"Cards para hoje"}),b.jsx("button",{onClick:()=>{v("free"),bi("free")},className:`px-4 py-2 rounded-xl font-semibold transition border ${_==="free"?"bg-blue-600 text-white border-blue-600":"bg-white text-slate-800 border-slate-200 hover:bg-slate-50"}`,children:"Treino livre"}),r&&b.jsx("button",{onClick:()=>v("manage"),className:`px-4 py-2 rounded-xl font-semibold transition border ${_==="manage"?"bg-blue-600 text-white border-blue-600":"bg-white text-slate-800 border-slate-200 hover:bg-slate-50"}`,children:"Gerenciar"}),b.jsx("button",{onClick:()=>C(!0),className:"px-4 py-2 rounded-xl border border-slate-200 bg-white text-slate-800 font-semibold hover:bg-slate-50 transition",children:"Tutorial"})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[b.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-5 shadow-sm",children:[b.jsx("div",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wide",children:"Cards estudados hoje"}),b.jsx("div",{className:"mt-2 text-2xl font-bold text-slate-900",children:z.studiedToday})]}),b.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-5 shadow-sm",children:[b.jsx("div",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wide",children:"Acertos hoje"}),b.jsxs("div",{className:"mt-2 text-2xl font-bold text-slate-900",children:[z.accuracyToday,"%"]})]}),b.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-5 shadow-sm",children:[b.jsx("div",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wide",children:"Sequncia"}),b.jsxs("div",{className:"mt-2 text-2xl font-bold text-slate-900",children:[z.streak," dias"]})]}),b.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-5 shadow-sm",children:[b.jsx("div",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wide",children:"Cards para revisar"}),b.jsx("div",{className:"mt-2 text-2xl font-bold text-slate-900",children:z.dueNow})]})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[b.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-5 shadow-sm",children:[b.jsxs("div",{className:"flex items-center justify-between mb-3",children:[b.jsx("h3",{className:"font-bold text-slate-900",children:"Filtros"}),b.jsx(Il,{children:f==="all"?"Todos os decks":"Deck selecionado"})]}),b.jsxs("button",{type:"button",onClick:()=>L(!0),className:"w-full mb-4 rounded-xl border border-slate-200 bg-white px-4 py-3 text-left text-sm font-semibold text-slate-800 shadow-sm transition hover:bg-slate-50 focus:outline-none focus:ring-4 focus:ring-blue-100",children:["Filtros de assuntos",b.jsx("div",{className:"mt-1 text-xs font-normal text-slate-500",children:f!=="all"?`Deck: ${u.find(ee=>ee.id===f)?.name||""}`:I.size?`${I.size} selecionado(s)`:"Todos"})]}),b.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Buscar"}),b.jsx("input",{value:E,onChange:ee=>S(ee.target.value),placeholder:"Ex.: cardio, antibitico, ECG...",className:"mt-1 w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-slate-900 placeholder:text-slate-400 shadow-sm outline-none transition focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}),b.jsx("label",{className:"mt-4 block text-sm font-semibold text-slate-700",children:"Deck"}),b.jsxs("select",{value:f,onChange:ee=>p(ee.target.value),className:"mt-1 w-full px-4 py-2 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[b.jsx("option",{value:"all",children:"Todos"}),Uo.map(ee=>b.jsx("option",{value:ee.id,children:ee.name},ee.id))]}),b.jsxs("div",{className:"mt-4 flex gap-3",children:[b.jsx("button",{onClick:()=>bi(_),className:"flex-1 px-4 py-2 rounded-xl bg-blue-600 text-white font-semibold hover:bg-blue-700 transition",children:"Aplicar"}),b.jsx("button",{onClick:()=>{S(""),p("all")},className:"px-4 py-2 rounded-xl border border-slate-200 bg-white text-slate-800 font-semibold hover:bg-slate-50 transition",children:"Limpar"})]}),!r&&b.jsx("p",{className:"mt-4 text-xs text-slate-500",children:"Dica: se voc no encontrar cards, pea ao administrador para criar decks e adicionar cards."})]}),b.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl border border-slate-200 p-5 shadow-sm",children:[b.jsxs("div",{className:"flex items-center justify-between mb-3",children:[b.jsx("h3",{className:"font-bold text-slate-900",children:"Evoluo (ltimos 14 dias)"}),b.jsx("div",{className:"text-xs text-slate-500",children:"Cards estudados vs acertos"})]}),b.jsx("div",{className:"h-64",children:b.jsx("canvas",{ref:ze,className:"w-full h-full"})})]})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[b.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl border border-slate-200 p-6 shadow-sm",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"font-bold text-slate-900",children:"Estudando"}),b.jsxs("p",{className:"text-sm text-slate-600",children:["Atalhos: ",b.jsx("b",{children:"Espao/Enter"})," (virar), ",b.jsx("b",{children:"14"})," (avaliar), ",b.jsx("b",{children:" "})," (navegar)"]})]}),b.jsx("div",{className:"text-sm text-slate-600",children:be.length?b.jsxs("span",{children:[le+1,"/",be.length]}):b.jsx("span",{children:""})})]}),b.jsx("div",{className:"mt-5",children:be.length?b.jsxs("div",{children:[b.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[b.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[b.jsx(Il,{children:vi?.deckName||"Deck"}),Array.isArray(vi?.tags)&&vi.tags.slice(0,3).map(ee=>b.jsx(Il,{children:ee},ee))]}),b.jsx("div",{className:"text-xs text-slate-500",children:vi?.dueAt?.toDate?`Prxima reviso: ${vi.dueAt.toDate().toLocaleDateString()}`:"Novo card"})]}),b.jsxs("div",{className:"rounded-2xl border border-slate-200 p-6 bg-slate-50 min-h-[220px] cursor-pointer select-none",onClick:()=>Se(ee=>!ee),title:"Clique para virar (ou Espao/Enter)",children:[b.jsx("div",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wide",children:ye?"Resposta":"Pergunta"}),b.jsx("div",{className:"mt-3 text-lg font-semibold text-slate-900 whitespace-pre-wrap",children:ye?vi?.back||"":vi?.front||""})]}),b.jsxs("div",{className:"mt-4 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>{fe(ee=>Math.max(0,ee-1)),Se(!1)},className:"px-4 py-2 rounded-xl border border-slate-200 bg-white hover:bg-slate-50 font-semibold",children:" Voltar"}),b.jsx("button",{onClick:()=>{fe(ee=>Math.min(be.length-1,ee+1)),Se(!1)},className:"px-4 py-2 rounded-xl border border-slate-200 bg-white hover:bg-slate-50 font-semibold",children:"Avanar "})]}),b.jsxs("div",{className:"flex flex-wrap gap-2",children:[b.jsx("button",{disabled:!ye,onClick:()=>ji(1),className:`px-4 py-2 rounded-xl font-semibold ${ye?"bg-red-600 text-white hover:bg-red-700":"bg-slate-200 text-slate-500 cursor-not-allowed"}`,children:"1  Errei"}),b.jsx("button",{disabled:!ye,onClick:()=>ji(2),className:`px-4 py-2 rounded-xl font-semibold ${ye?"bg-amber-500 text-white hover:bg-amber-600":"bg-slate-200 text-slate-500 cursor-not-allowed"}`,children:"2  Difcil"}),b.jsx("button",{disabled:!ye,onClick:()=>ji(3),className:`px-4 py-2 rounded-xl font-semibold ${ye?"bg-blue-600 text-white hover:bg-blue-700":"bg-slate-200 text-slate-500 cursor-not-allowed"}`,children:"3  Mdio"}),b.jsx("button",{disabled:!ye,onClick:()=>ji(4),className:`px-4 py-2 rounded-xl font-semibold ${ye?"bg-emerald-600 text-white hover:bg-emerald-700":"bg-slate-200 text-slate-500 cursor-not-allowed"}`,children:"4  Fcil"})]})]}),b.jsx("div",{className:"mt-4 text-xs text-slate-500",children:"Clique no card para virar, depois avalie. O sistema programa a prxima reviso automaticamente."})]}):b.jsxs("div",{className:"p-8 rounded-2xl border border-dashed border-slate-200 text-center",children:[b.jsx("div",{className:"text-slate-800 font-semibold",children:"Nenhum card carregado"}),b.jsx("div",{className:"text-slate-600 text-sm mt-1",children:"Use Cards para hoje ou Treino livre e aplique filtros se quiser."}),b.jsxs("div",{className:"mt-4 flex justify-center gap-3",children:[b.jsx("button",{onClick:()=>{v("today"),bi("today")},className:"px-4 py-2 rounded-xl bg-blue-600 text-white font-semibold hover:bg-blue-700 transition",children:"Cards para hoje"}),b.jsx("button",{onClick:()=>{v("free"),bi("free")},className:"px-4 py-2 rounded-xl border border-slate-200 bg-white text-slate-800 font-semibold hover:bg-slate-50 transition",children:"Treino livre"})]})]})})]}),b.jsxs("div",{className:"space-y-6 max-w-2xl mx-auto text-[15px] leading-relaxed",children:[b.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-5 shadow-sm",children:[b.jsxs("div",{className:"flex items-center justify-between mb-3",children:[b.jsx("h3",{className:"font-bold text-slate-900",children:"Calendrio de estudos"}),b.jsx(Il,{children:new Date().toLocaleString("pt-BR",{month:"short"})})]}),b.jsx("div",{className:"grid grid-cols-7 gap-2 text-xs text-slate-500 mb-2",children:["D","S","T","Q","Q","S","S"].map(ee=>b.jsx("div",{className:"text-center",children:ee},ee))}),b.jsx("div",{className:"grid grid-cols-7 gap-2",children:xe.map(ee=>b.jsx("div",{className:["h-9 rounded-lg border flex items-center justify-center text-sm",ee.day?"border-slate-200":"border-transparent",ee.isToday?"bg-blue-50 border-blue-200":"bg-white",ee.studied>0?"ring-1 ring-emerald-200":""].join(" "),title:ee.day?`${ee.day}: ${ee.studied} cards`:"",children:ee.day?b.jsxs("div",{className:"flex flex-col items-center leading-tight",children:[b.jsx("span",{className:"font-semibold text-slate-700",children:ee.day}),ee.studied>0&&b.jsx("span",{className:"text-[10px] text-emerald-600 font-semibold",children:ee.studied})]}):b.jsx("span",{})},ee.key))})]}),b.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-5 shadow-sm",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("h3",{className:"font-bold text-slate-900",children:"Notificaes"}),b.jsxs(Il,{children:[z.dueNow," para hoje"]})]}),b.jsxs("ul",{className:"text-sm text-slate-600 space-y-2",children:[b.jsxs("li",{children:[" Use ",b.jsx("b",{children:"Cards para hoje"})," para manter sua reviso em dia."]}),b.jsxs("li",{children:[" No ",b.jsx("b",{children:"Treino livre"}),", voc refora pontos fracos com mais repetio."]}),b.jsx("li",{children:" Se estiver sem decks, fale com o admin para liberar contedos."})]})]}),_==="manage"&&b.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-5 shadow-sm",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("h3",{className:"font-bold text-slate-900",children:"Gerenciar"}),b.jsx(Il,{children:"Admin"})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"p-4 rounded-xl border border-slate-200 bg-slate-50",children:[b.jsx("div",{className:"font-semibold text-slate-800 mb-2",children:"Criar novo deck"}),b.jsx("input",{value:ct,onChange:ee=>ei(ee.target.value),placeholder:"Nome do deck",className:"w-full px-4 py-2 rounded-xl border border-slate-200 bg-white"}),b.jsx("input",{value:ce,onChange:ee=>Be(ee.target.value),placeholder:"Tags (separadas por vrgula)",className:"mt-2 w-full px-4 py-2 rounded-xl border border-slate-200 bg-white"}),b.jsx("button",{onClick:is,className:"mt-3 w-full px-4 py-2 rounded-xl bg-blue-600 text-white font-semibold hover:bg-blue-700",children:"Criar deck"})]}),b.jsxs("div",{className:"p-4 rounded-xl border border-slate-200 bg-slate-50",children:[b.jsx("div",{className:"font-semibold text-slate-800 mb-2",children:"Adicionar cards"}),b.jsxs("select",{value:Bt?.id||"",onChange:ee=>Kt(u.find(ge=>ge.id===ee.target.value)||null),className:"w-full px-4 py-2 rounded-xl border border-slate-200 bg-white",children:[b.jsx("option",{value:"",children:"Selecione o deck"}),u.map(ee=>b.jsx("option",{value:ee.id,children:ee.name},ee.id))]}),b.jsx("textarea",{value:ti,onChange:ee=>_i(ee.target.value),placeholder:"Frente (pergunta)",className:"mt-2 w-full px-4 py-2 rounded-xl border border-slate-200 bg-white min-h-[70px]"}),b.jsx("textarea",{value:Er,onChange:ee=>Tr(ee.target.value),placeholder:"Verso (resposta)",className:"mt-2 w-full px-4 py-2 rounded-xl border border-slate-200 bg-white min-h-[70px]"}),b.jsx("input",{value:kt,onChange:ee=>Pt(ee.target.value),placeholder:"Tags (opcional)",className:"mt-2 w-full px-4 py-2 rounded-xl border border-slate-200 bg-white"}),b.jsx("button",{onClick:hc,className:"mt-3 w-full px-4 py-2 rounded-xl bg-blue-600 text-white font-semibold hover:bg-blue-700",children:"Adicionar card"}),b.jsxs("div",{className:"mt-4 border-t border-slate-200 pt-4",children:[b.jsx("div",{className:"font-semibold text-slate-800 mb-2",children:"Importar CSV"}),b.jsxs("div",{className:"text-xs text-slate-500 mb-2",children:["Formato: ",b.jsx("b",{children:"frente;verso;tags"})," (tags por vrgula). 1 card por linha."]}),b.jsx("textarea",{value:Li,onChange:ee=>jo(ee.target.value),placeholder:"Ex.: Qual a trade de Beck?;Hipotenso, turgncia jugular, bulhas abafadas;cardio,emergncia",className:"w-full px-4 py-2 rounded-xl border border-slate-200 bg-white min-h-[120px]"}),b.jsx("button",{onClick:Vo,className:"mt-3 w-full px-4 py-2 rounded-xl border border-slate-200 bg-white text-slate-800 font-semibold hover:bg-slate-50",children:"Importar"})]})]})]})]})]})]}),b.jsx(CT,{open:M,title:"Filtros de assuntos",onClose:()=>L(!1),children:b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[b.jsx("button",{type:"button",onClick:()=>{const ee=new Set(u.map(ge=>ge.name));N(ee)},className:"rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-800 hover:bg-slate-50 focus:outline-none focus:ring-4 focus:ring-blue-100",children:"Selecionar todos"}),b.jsx("button",{type:"button",onClick:()=>N(new Set),className:"rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-800 hover:bg-slate-50 focus:outline-none focus:ring-4 focus:ring-blue-100",children:"Desmarcar todos"}),b.jsxs("label",{className:"ml-auto inline-flex items-center gap-2 text-sm font-semibold text-slate-700",children:[b.jsx("span",{children:"Ver estatsticas"}),b.jsx("input",{type:"checkbox",checked:H,onChange:ee=>Y(ee.target.checked),className:"h-5 w-5 rounded border-slate-300 text-blue-600"})]})]}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{value:$,onChange:ee=>te(ee.target.value),placeholder:"Buscar assuntos...",className:"w-full rounded-xl border border-slate-200 bg-white px-4 py-3 pl-10 text-slate-900 placeholder:text-slate-400 shadow-sm outline-none transition focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}),b.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:""})]}),b.jsx("div",{className:"max-h-[40vh] overflow-y-auto rounded-xl border border-slate-200",children:u.filter(ee=>Bn(ee.name).includes(Bn($))).map(ee=>{const ge=I.has(ee.name);return b.jsxs("label",{className:"flex items-center justify-between gap-3 px-4 py-3 border-b last:border-b-0 border-slate-100",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("input",{type:"checkbox",checked:ge,onChange:Ve=>{N(Ne=>{const et=new Set(Ne);return Ve.target.checked?et.add(ee.name):et.delete(ee.name),et})},className:"h-5 w-5 rounded border-slate-300 text-blue-600"}),b.jsx("span",{className:"font-semibold text-slate-900",children:ee.name})]}),H?b.jsx("span",{className:"text-xs font-semibold text-slate-500",children:""}):b.jsx("span",{})]},ee.id)})}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 pt-2",children:[b.jsxs("div",{className:"rounded-xl border border-slate-200 p-4",children:[b.jsx("div",{className:"font-bold text-slate-900 mb-3",children:"Excluir"}),b.jsxs("label",{className:"flex items-center gap-3 text-slate-700",children:[b.jsx("input",{type:"checkbox",checked:D,onChange:ee=>j(ee.target.checked),className:"h-5 w-5 rounded border-slate-300 text-blue-600"}),b.jsx("span",{children:"Vistos"})]}),b.jsxs("label",{className:"mt-2 flex items-center gap-3 text-slate-700",children:[b.jsx("input",{type:"checkbox",checked:P,onChange:ee=>U(ee.target.checked),className:"h-5 w-5 rounded border-slate-300 text-blue-600"}),b.jsx("span",{children:"Dominados"})]})]}),b.jsxs("div",{className:"rounded-xl border border-slate-200 p-4",children:[b.jsx("div",{className:"font-bold text-slate-900 mb-3",children:"Dificuldade"}),b.jsxs("div",{className:"flex flex-wrap gap-2",children:[[{k:"1",label:"Errei"},{k:"2",label:"Difcil"},{k:"3",label:"Moderado"},{k:"4",label:"Fcil"}].map(ee=>b.jsx("button",{type:"button",onClick:()=>Ie(ee.k),className:"rounded-xl border px-4 py-2 text-sm font-semibold transition focus:outline-none focus:ring-4 focus:ring-blue-100 "+(O===ee.k?"border-blue-300 bg-blue-50 text-blue-800":"border-slate-200 bg-white text-slate-800 hover:bg-slate-50"),children:ee.label},ee.k)),b.jsx("button",{type:"button",onClick:()=>Ie("all"),className:"rounded-xl border px-4 py-2 text-sm font-semibold transition focus:outline-none focus:ring-4 focus:ring-blue-100 "+(O==="all"?"border-blue-300 bg-blue-50 text-blue-800":"border-slate-200 bg-white text-slate-800 hover:bg-slate-50"),children:"Todos"})]})]})]}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:[b.jsx("button",{type:"button",onClick:()=>{L(!1),bi(_)},className:"flex-1 rounded-xl bg-blue-600 px-4 py-3 text-sm font-bold text-white shadow-sm transition hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100",children:"Aplicar filtros"}),b.jsx("button",{type:"button",onClick:()=>{te(""),N(new Set),j(!1),U(!1),Ie("all")},className:"rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm font-semibold text-slate-800 hover:bg-slate-50 focus:outline-none focus:ring-4 focus:ring-blue-100",children:"Redefinir"})]})]})}),b.jsx(CT,{open:A,title:"Tutorial de Flashcards",onClose:()=>C(!1),children:b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-slate-900 mb-2",children:"O que  Reviso Espaada?"}),b.jsx("p",{className:"text-slate-700",children:"A cada flashcard, voc avalia o quanto sabe daquele assunto. Essa avaliao agenda automaticamente a prxima reviso no momento ideal para fixar de verdade."}),b.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[b.jsxs("div",{className:"p-4 rounded-xl border border-slate-200 bg-slate-50",children:[b.jsx("b",{children:"1  Errei"}),b.jsx("div",{className:"text-sm text-slate-600",children:"Desconhecia a resposta e o tema."})]}),b.jsxs("div",{className:"p-4 rounded-xl border border-slate-200 bg-slate-50",children:[b.jsx("b",{children:"2  Difcil"}),b.jsx("div",{className:"text-sm text-slate-600",children:"Conhecia o tema, mas errei."})]}),b.jsxs("div",{className:"p-4 rounded-xl border border-slate-200 bg-slate-50",children:[b.jsx("b",{children:"3  Mdio"}),b.jsx("div",{className:"text-sm text-slate-600",children:"Acertei, porm com dificuldade."})]}),b.jsxs("div",{className:"p-4 rounded-xl border border-slate-200 bg-slate-50",children:[b.jsx("b",{children:"4  Fcil"}),b.jsx("div",{className:"text-sm text-slate-600",children:"Acertei de imediato."})]})]})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-slate-900 mb-2",children:"Comandos de teclado"}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-slate-700",children:[b.jsxs("div",{className:"p-4 rounded-xl border border-slate-200 bg-white",children:[b.jsx("b",{children:"Espao / Enter"}),b.jsx("div",{className:"text-sm text-slate-600",children:"Mostra/oculta a resposta."})]}),b.jsxs("div",{className:"p-4 rounded-xl border border-slate-200 bg-white",children:[b.jsx("b",{children:" / "}),b.jsx("div",{className:"text-sm text-slate-600",children:"Voltar ou avanar no deck."})]}),b.jsxs("div",{className:"p-4 rounded-xl border border-slate-200 bg-white",children:[b.jsx("b",{children:"1  2  3  4"}),b.jsx("div",{className:"text-sm text-slate-600",children:"Errei, Difcil, Mdio, Fcil."})]}),b.jsxs("div",{className:"p-4 rounded-xl border border-slate-200 bg-white",children:[b.jsx("b",{children:"Clique no card"}),b.jsx("div",{className:"text-sm text-slate-600",children:"Tambm vira o flashcard."})]})]})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-slate-900 mb-2",children:"Modo de aprendizado"}),b.jsxs("p",{className:"text-slate-700",children:[b.jsx("b",{children:"Cards para hoje"})," prioriza o que est vencido. ",b.jsx("b",{children:"Treino livre"})," serve para reforo (mistura e embaralha)."]})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-slate-900 mb-2",children:"Filtros de assuntos"}),b.jsx("p",{className:"text-slate-700",children:"Use a busca para filtrar por tema, tags ou texto do card. Selecione um deck especfico para foco total."})]})]})})]})}function Kz(){const[n,e]=B.useState(!1),[t,i]=B.useState(null),[r,o]=B.useState(null),[l,u]=B.useState("aluno"),[d,f]=B.useState(Uz);return B.useEffect(()=>{const p=mV(uh,async _=>{i(_||null),e(!0)});return()=>p()},[]),B.useEffect(()=>{(async()=>{if(!t){o(null),u("aluno");return}if(!t.emailVerified)return;const _=Zl(Hl,"users",t.uid),v=await qU(_);if(v.exists()){const E=v.data();o(E),u(E?.role||"aluno")}else{const E={name:t.displayName||(t.email?t.email.split("@")[0]:"Usurio"),email:t.email||"",phone:"",cpf:"",birthdate:"",address:"",bio:"",image:"",favorites:[],role:"aluno",createdAt:Qn(),updatedAt:Qn()};await R_(_,E),o(E),u("aluno")}try{await Iu(Ts(Hl,"users",t.uid,"accessLogs"),{ts:Qn(),userAgent:navigator.userAgent})}catch{}})()},[t]),B.useEffect(()=>{if(!n||!t||!t.emailVerified)return;let p=!1;return(async()=>{try{const _=await Nu(Ts(Hl,"courses"));if(p)return;const v=[];_.forEach(E=>v.push({id:E.id,...E.data()})),v.length&&f(v)}catch(_){console.warn("No foi possvel carregar cursos do Firestore (usando fallback local).",_)}})(),()=>{p=!0}},[n,t]),b.jsxs(zC,{children:[b.jsx("style",{children:Pz}),b.jsx(KI,{children:b.jsxs(SI,{children:[b.jsx(Ki,{path:"/",element:b.jsx(Oz,{})}),b.jsx(Ki,{path:"/entrar",element:b.jsx(Hz,{})}),b.jsx(Ki,{path:"/login",element:b.jsx(Pf,{to:"/entrar",replace:!0})}),b.jsx(Ki,{path:"/verifique-email",element:b.jsx(qz,{authUser:t})}),b.jsx(Ki,{path:"/privacidade",element:b.jsx(bf,{to:`${Pn}/politicaPrivacidade.html`})}),b.jsx(Ki,{path:"/termos",element:b.jsx(bf,{to:`${Pn}/termosUso.html`})}),b.jsx(Ki,{path:"/suporte",element:b.jsx(bf,{to:`${Pn}/suporte.html`})}),b.jsx(Ki,{path:"/cookies",element:b.jsx(bf,{to:`${Pn}/cookies.html`})}),b.jsx(Ki,{path:"/app",element:b.jsx(Yz,{authReady:n,authUser:t,children:b.jsx(Gz,{authUser:t,userData:r||{name:t?.displayName||"",email:t?.email||"",image:"",favorites:[],role:l},setUserData:o,userRole:l,courses:d})})}),b.jsx(Ki,{path:"*",element:b.jsx(Pf,{to:"/entrar",replace:!0})})]})})]})}RN.createRoot(document.getElementById("root")).render(b.jsx(B.StrictMode,{children:b.jsx(Kz,{})}));
